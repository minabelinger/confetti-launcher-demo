var V1=(Pn,Cn)=>()=>(Cn||Pn((Cn={exports:{}}).exports,Cn),Cn.exports);var L1=V1((exports,module)=>{(function(){const Cn=document.createElement("link").relList;if(Cn&&Cn.supports&&Cn.supports("modulepreload"))return;for(const Rn of document.querySelectorAll('link[rel="modulepreload"]'))_n(Rn);new MutationObserver(Rn=>{for(const Bn of Rn)if(Bn.type==="childList")for(const Ln of Bn.addedNodes)Ln.tagName==="LINK"&&Ln.rel==="modulepreload"&&_n(Ln)}).observe(document,{childList:!0,subtree:!0});function $n(Rn){const Bn={};return Rn.integrity&&(Bn.integrity=Rn.integrity),Rn.referrerPolicy&&(Bn.referrerPolicy=Rn.referrerPolicy),Rn.crossOrigin==="use-credentials"?Bn.credentials="include":Rn.crossOrigin==="anonymous"?Bn.credentials="omit":Bn.credentials="same-origin",Bn}function _n(Rn){if(Rn.ep)return;Rn.ep=!0;const Bn=$n(Rn);fetch(Rn.href,Bn)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(Pn){const Cn=Object.create(null);for(const $n of Pn.split(","))Cn[$n]=1;return $n=>$n in Cn}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=Pn=>Pn.charCodeAt(0)===111&&Pn.charCodeAt(1)===110&&(Pn.charCodeAt(2)>122||Pn.charCodeAt(2)<97),isModelListener=Pn=>Pn.startsWith("onUpdate:"),extend=Object.assign,remove$1=(Pn,Cn)=>{const $n=Pn.indexOf(Cn);$n>-1&&Pn.splice($n,1)},hasOwnProperty$9=Object.prototype.hasOwnProperty,hasOwn=(Pn,Cn)=>hasOwnProperty$9.call(Pn,Cn),isArray$1=Array.isArray,isMap=Pn=>toTypeString(Pn)==="[object Map]",isSet=Pn=>toTypeString(Pn)==="[object Set]",isDate=Pn=>toTypeString(Pn)==="[object Date]",isFunction$1=Pn=>typeof Pn=="function",isString=Pn=>typeof Pn=="string",isSymbol=Pn=>typeof Pn=="symbol",isObject$4=Pn=>Pn!==null&&typeof Pn=="object",isPromise=Pn=>(isObject$4(Pn)||isFunction$1(Pn))&&isFunction$1(Pn.then)&&isFunction$1(Pn.catch),objectToString$1=Object.prototype.toString,toTypeString=Pn=>objectToString$1.call(Pn),toRawType=Pn=>toTypeString(Pn).slice(8,-1),isPlainObject$2=Pn=>toTypeString(Pn)==="[object Object]",isIntegerKey=Pn=>isString(Pn)&&Pn!=="NaN"&&Pn[0]!=="-"&&""+parseInt(Pn,10)===Pn,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=Pn=>{const Cn=Object.create(null);return $n=>Cn[$n]||(Cn[$n]=Pn($n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(Pn=>Pn.replace(camelizeRE,(Cn,$n)=>$n?$n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(Pn=>Pn.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(Pn=>Pn.charAt(0).toUpperCase()+Pn.slice(1)),toHandlerKey=cacheStringFunction(Pn=>Pn?`on${capitalize(Pn)}`:""),hasChanged=(Pn,Cn)=>!Object.is(Pn,Cn),invokeArrayFns=(Pn,...Cn)=>{for(let $n=0;$n<Pn.length;$n++)Pn[$n](...Cn)},def=(Pn,Cn,$n,_n=!1)=>{Object.defineProperty(Pn,Cn,{configurable:!0,enumerable:!1,writable:_n,value:$n})},looseToNumber=Pn=>{const Cn=parseFloat(Pn);return isNaN(Cn)?Pn:Cn};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(Pn){if(isArray$1(Pn)){const Cn={};for(let $n=0;$n<Pn.length;$n++){const _n=Pn[$n],Rn=isString(_n)?parseStringStyle(_n):normalizeStyle(_n);if(Rn)for(const Bn in Rn)Cn[Bn]=Rn[Bn]}return Cn}else if(isString(Pn)||isObject$4(Pn))return Pn}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(Pn){const Cn={};return Pn.replace(styleCommentRE,"").split(listDelimiterRE).forEach($n=>{if($n){const _n=$n.split(propertyDelimiterRE);_n.length>1&&(Cn[_n[0].trim()]=_n[1].trim())}}),Cn}function normalizeClass(Pn){let Cn="";if(isString(Pn))Cn=Pn;else if(isArray$1(Pn))for(let $n=0;$n<Pn.length;$n++){const _n=normalizeClass(Pn[$n]);_n&&(Cn+=_n+" ")}else if(isObject$4(Pn))for(const $n in Pn)Pn[$n]&&(Cn+=$n+" ");return Cn.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(Pn){return!!Pn||Pn===""}function looseCompareArrays(Pn,Cn){if(Pn.length!==Cn.length)return!1;let $n=!0;for(let _n=0;$n&&_n<Pn.length;_n++)$n=looseEqual(Pn[_n],Cn[_n]);return $n}function looseEqual(Pn,Cn){if(Pn===Cn)return!0;let $n=isDate(Pn),_n=isDate(Cn);if($n||_n)return $n&&_n?Pn.getTime()===Cn.getTime():!1;if($n=isSymbol(Pn),_n=isSymbol(Cn),$n||_n)return Pn===Cn;if($n=isArray$1(Pn),_n=isArray$1(Cn),$n||_n)return $n&&_n?looseCompareArrays(Pn,Cn):!1;if($n=isObject$4(Pn),_n=isObject$4(Cn),$n||_n){if(!$n||!_n)return!1;const Rn=Object.keys(Pn).length,Bn=Object.keys(Cn).length;if(Rn!==Bn)return!1;for(const Ln in Pn){const Dn=Pn.hasOwnProperty(Ln),Nn=Cn.hasOwnProperty(Ln);if(Dn&&!Nn||!Dn&&Nn||!looseEqual(Pn[Ln],Cn[Ln]))return!1}}return String(Pn)===String(Cn)}function looseIndexOf(Pn,Cn){return Pn.findIndex($n=>looseEqual($n,Cn))}const isRef$1=Pn=>!!(Pn&&Pn.__v_isRef===!0),toDisplayString=Pn=>isString(Pn)?Pn:Pn==null?"":isArray$1(Pn)||isObject$4(Pn)&&(Pn.toString===objectToString$1||!isFunction$1(Pn.toString))?isRef$1(Pn)?toDisplayString(Pn.value):JSON.stringify(Pn,replacer,2):String(Pn),replacer=(Pn,Cn)=>isRef$1(Cn)?replacer(Pn,Cn.value):isMap(Cn)?{[`Map(${Cn.size})`]:[...Cn.entries()].reduce(($n,[_n,Rn],Bn)=>($n[stringifySymbol(_n,Bn)+" =>"]=Rn,$n),{})}:isSet(Cn)?{[`Set(${Cn.size})`]:[...Cn.values()].map($n=>stringifySymbol($n))}:isSymbol(Cn)?stringifySymbol(Cn):isObject$4(Cn)&&!isArray$1(Cn)&&!isPlainObject$2(Cn)?String(Cn):Cn,stringifySymbol=(Pn,Cn="")=>{var $n;return isSymbol(Pn)?`Symbol(${($n=Pn.description)!=null?$n:Cn})`:Pn};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(Cn=!1){this.detached=Cn,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!Cn&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let Cn,$n;if(this.scopes)for(Cn=0,$n=this.scopes.length;Cn<$n;Cn++)this.scopes[Cn].pause();for(Cn=0,$n=this.effects.length;Cn<$n;Cn++)this.effects[Cn].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let Cn,$n;if(this.scopes)for(Cn=0,$n=this.scopes.length;Cn<$n;Cn++)this.scopes[Cn].resume();for(Cn=0,$n=this.effects.length;Cn<$n;Cn++)this.effects[Cn].resume()}}run(Cn){if(this._active){const $n=activeEffectScope;try{return activeEffectScope=this,Cn()}finally{activeEffectScope=$n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(Cn){if(this._active){this._active=!1;let $n,_n;for($n=0,_n=this.effects.length;$n<_n;$n++)this.effects[$n].stop();for(this.effects.length=0,$n=0,_n=this.cleanups.length;$n<_n;$n++)this.cleanups[$n]();if(this.cleanups.length=0,this.scopes){for($n=0,_n=this.scopes.length;$n<_n;$n++)this.scopes[$n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!Cn){const Rn=this.parent.scopes.pop();Rn&&Rn!==this&&(this.parent.scopes[this.index]=Rn,Rn.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}function onScopeDispose(Pn,Cn=!1){activeEffectScope&&activeEffectScope.cleanups.push(Pn)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(Cn){this.fn=Cn,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const Cn=activeSub,$n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=Cn,shouldTrack=$n,this.flags&=-3}}stop(){if(this.flags&1){for(let Cn=this.deps;Cn;Cn=Cn.nextDep)removeSub(Cn);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(Pn,Cn=!1){if(Pn.flags|=8,Cn){Pn.next=batchedComputed,batchedComputed=Pn;return}Pn.next=batchedSub,batchedSub=Pn}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let Cn=batchedComputed;for(batchedComputed=void 0;Cn;){const $n=Cn.next;Cn.next=void 0,Cn.flags&=-9,Cn=$n}}let Pn;for(;batchedSub;){let Cn=batchedSub;for(batchedSub=void 0;Cn;){const $n=Cn.next;if(Cn.next=void 0,Cn.flags&=-9,Cn.flags&1)try{Cn.trigger()}catch(_n){Pn||(Pn=_n)}Cn=$n}}if(Pn)throw Pn}function prepareDeps(Pn){for(let Cn=Pn.deps;Cn;Cn=Cn.nextDep)Cn.version=-1,Cn.prevActiveLink=Cn.dep.activeLink,Cn.dep.activeLink=Cn}function cleanupDeps(Pn){let Cn,$n=Pn.depsTail,_n=$n;for(;_n;){const Rn=_n.prevDep;_n.version===-1?(_n===$n&&($n=Rn),removeSub(_n),removeDep(_n)):Cn=_n,_n.dep.activeLink=_n.prevActiveLink,_n.prevActiveLink=void 0,_n=Rn}Pn.deps=Cn,Pn.depsTail=$n}function isDirty(Pn){for(let Cn=Pn.deps;Cn;Cn=Cn.nextDep)if(Cn.dep.version!==Cn.version||Cn.dep.computed&&(refreshComputed(Cn.dep.computed)||Cn.dep.version!==Cn.version))return!0;return!!Pn._dirty}function refreshComputed(Pn){if(Pn.flags&4&&!(Pn.flags&16)||(Pn.flags&=-17,Pn.globalVersion===globalVersion))return;Pn.globalVersion=globalVersion;const Cn=Pn.dep;if(Pn.flags|=2,Cn.version>0&&!Pn.isSSR&&Pn.deps&&!isDirty(Pn)){Pn.flags&=-3;return}const $n=activeSub,_n=shouldTrack;activeSub=Pn,shouldTrack=!0;try{prepareDeps(Pn);const Rn=Pn.fn(Pn._value);(Cn.version===0||hasChanged(Rn,Pn._value))&&(Pn._value=Rn,Cn.version++)}catch(Rn){throw Cn.version++,Rn}finally{activeSub=$n,shouldTrack=_n,cleanupDeps(Pn),Pn.flags&=-3}}function removeSub(Pn,Cn=!1){const{dep:$n,prevSub:_n,nextSub:Rn}=Pn;if(_n&&(_n.nextSub=Rn,Pn.prevSub=void 0),Rn&&(Rn.prevSub=_n,Pn.nextSub=void 0),$n.subs===Pn&&($n.subs=_n,!_n&&$n.computed)){$n.computed.flags&=-5;for(let Bn=$n.computed.deps;Bn;Bn=Bn.nextDep)removeSub(Bn,!0)}!Cn&&!--$n.sc&&$n.map&&$n.map.delete($n.key)}function removeDep(Pn){const{prevDep:Cn,nextDep:$n}=Pn;Cn&&(Cn.nextDep=$n,Pn.prevDep=void 0),$n&&($n.prevDep=Cn,Pn.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const Pn=trackStack.pop();shouldTrack=Pn===void 0?!0:Pn}function cleanupEffect(Pn){const{cleanup:Cn}=Pn;if(Pn.cleanup=void 0,Cn){const $n=activeSub;activeSub=void 0;try{Cn()}finally{activeSub=$n}}}let globalVersion=0;class Link{constructor(Cn,$n){this.sub=Cn,this.dep=$n,this.version=$n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(Cn){this.computed=Cn,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(Cn){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let $n=this.activeLink;if($n===void 0||$n.sub!==activeSub)$n=this.activeLink=new Link(activeSub,this),activeSub.deps?($n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=$n,activeSub.depsTail=$n):activeSub.deps=activeSub.depsTail=$n,addSub($n);else if($n.version===-1&&($n.version=this.version,$n.nextDep)){const _n=$n.nextDep;_n.prevDep=$n.prevDep,$n.prevDep&&($n.prevDep.nextDep=_n),$n.prevDep=activeSub.depsTail,$n.nextDep=void 0,activeSub.depsTail.nextDep=$n,activeSub.depsTail=$n,activeSub.deps===$n&&(activeSub.deps=_n)}return $n}trigger(Cn){this.version++,globalVersion++,this.notify(Cn)}notify(Cn){startBatch();try{for(let $n=this.subs;$n;$n=$n.prevSub)$n.sub.notify()&&$n.sub.dep.notify()}finally{endBatch()}}}function addSub(Pn){if(Pn.dep.sc++,Pn.sub.flags&4){const Cn=Pn.dep.computed;if(Cn&&!Pn.dep.subs){Cn.flags|=20;for(let _n=Cn.deps;_n;_n=_n.nextDep)addSub(_n)}const $n=Pn.dep.subs;$n!==Pn&&(Pn.prevSub=$n,$n&&($n.nextSub=Pn)),Pn.dep.subs=Pn}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(Pn,Cn,$n){if(shouldTrack&&activeSub){let _n=targetMap.get(Pn);_n||targetMap.set(Pn,_n=new Map);let Rn=_n.get($n);Rn||(_n.set($n,Rn=new Dep),Rn.map=_n,Rn.key=$n),Rn.track()}}function trigger(Pn,Cn,$n,_n,Rn,Bn){const Ln=targetMap.get(Pn);if(!Ln){globalVersion++;return}const Dn=Nn=>{Nn&&Nn.trigger()};if(startBatch(),Cn==="clear")Ln.forEach(Dn);else{const Nn=isArray$1(Pn),Fn=Nn&&isIntegerKey($n);if(Nn&&$n==="length"){const Wn=Number(_n);Ln.forEach((zn,Yn)=>{(Yn==="length"||Yn===ARRAY_ITERATE_KEY||!isSymbol(Yn)&&Yn>=Wn)&&Dn(zn)})}else switch(($n!==void 0||Ln.has(void 0))&&Dn(Ln.get($n)),Fn&&Dn(Ln.get(ARRAY_ITERATE_KEY)),Cn){case"add":Nn?Fn&&Dn(Ln.get("length")):(Dn(Ln.get(ITERATE_KEY)),isMap(Pn)&&Dn(Ln.get(MAP_KEY_ITERATE_KEY)));break;case"delete":Nn||(Dn(Ln.get(ITERATE_KEY)),isMap(Pn)&&Dn(Ln.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Pn)&&Dn(Ln.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(Pn,Cn){const $n=targetMap.get(Pn);return $n&&$n.get(Cn)}function reactiveReadArray(Pn){const Cn=toRaw(Pn);return Cn===Pn?Cn:(track(Cn,"iterate",ARRAY_ITERATE_KEY),isShallow(Pn)?Cn:Cn.map(toReactive))}function shallowReadArray(Pn){return track(Pn=toRaw(Pn),"iterate",ARRAY_ITERATE_KEY),Pn}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...Pn){return reactiveReadArray(this).concat(...Pn.map(Cn=>isArray$1(Cn)?reactiveReadArray(Cn):Cn))},entries(){return iterator(this,"entries",Pn=>(Pn[1]=toReactive(Pn[1]),Pn))},every(Pn,Cn){return apply$1(this,"every",Pn,Cn,void 0,arguments)},filter(Pn,Cn){return apply$1(this,"filter",Pn,Cn,$n=>$n.map(toReactive),arguments)},find(Pn,Cn){return apply$1(this,"find",Pn,Cn,toReactive,arguments)},findIndex(Pn,Cn){return apply$1(this,"findIndex",Pn,Cn,void 0,arguments)},findLast(Pn,Cn){return apply$1(this,"findLast",Pn,Cn,toReactive,arguments)},findLastIndex(Pn,Cn){return apply$1(this,"findLastIndex",Pn,Cn,void 0,arguments)},forEach(Pn,Cn){return apply$1(this,"forEach",Pn,Cn,void 0,arguments)},includes(...Pn){return searchProxy(this,"includes",Pn)},indexOf(...Pn){return searchProxy(this,"indexOf",Pn)},join(Pn){return reactiveReadArray(this).join(Pn)},lastIndexOf(...Pn){return searchProxy(this,"lastIndexOf",Pn)},map(Pn,Cn){return apply$1(this,"map",Pn,Cn,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...Pn){return noTracking(this,"push",Pn)},reduce(Pn,...Cn){return reduce(this,"reduce",Pn,Cn)},reduceRight(Pn,...Cn){return reduce(this,"reduceRight",Pn,Cn)},shift(){return noTracking(this,"shift")},some(Pn,Cn){return apply$1(this,"some",Pn,Cn,void 0,arguments)},splice(...Pn){return noTracking(this,"splice",Pn)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(Pn){return reactiveReadArray(this).toSorted(Pn)},toSpliced(...Pn){return reactiveReadArray(this).toSpliced(...Pn)},unshift(...Pn){return noTracking(this,"unshift",Pn)},values(){return iterator(this,"values",toReactive)}};function iterator(Pn,Cn,$n){const _n=shallowReadArray(Pn),Rn=_n[Cn]();return _n!==Pn&&!isShallow(Pn)&&(Rn._next=Rn.next,Rn.next=()=>{const Bn=Rn._next();return Bn.value&&(Bn.value=$n(Bn.value)),Bn}),Rn}const arrayProto$1=Array.prototype;function apply$1(Pn,Cn,$n,_n,Rn,Bn){const Ln=shallowReadArray(Pn),Dn=Ln!==Pn&&!isShallow(Pn),Nn=Ln[Cn];if(Nn!==arrayProto$1[Cn]){const zn=Nn.apply(Pn,Bn);return Dn?toReactive(zn):zn}let Fn=$n;Ln!==Pn&&(Dn?Fn=function(zn,Yn){return $n.call(this,toReactive(zn),Yn,Pn)}:$n.length>2&&(Fn=function(zn,Yn){return $n.call(this,zn,Yn,Pn)}));const Wn=Nn.call(Ln,Fn,_n);return Dn&&Rn?Rn(Wn):Wn}function reduce(Pn,Cn,$n,_n){const Rn=shallowReadArray(Pn);let Bn=$n;return Rn!==Pn&&(isShallow(Pn)?$n.length>3&&(Bn=function(Ln,Dn,Nn){return $n.call(this,Ln,Dn,Nn,Pn)}):Bn=function(Ln,Dn,Nn){return $n.call(this,Ln,toReactive(Dn),Nn,Pn)}),Rn[Cn](Bn,..._n)}function searchProxy(Pn,Cn,$n){const _n=toRaw(Pn);track(_n,"iterate",ARRAY_ITERATE_KEY);const Rn=_n[Cn](...$n);return(Rn===-1||Rn===!1)&&isProxy($n[0])?($n[0]=toRaw($n[0]),_n[Cn](...$n)):Rn}function noTracking(Pn,Cn,$n=[]){pauseTracking(),startBatch();const _n=toRaw(Pn)[Cn].apply(Pn,$n);return endBatch(),resetTracking(),_n}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(Pn=>Pn!=="arguments"&&Pn!=="caller").map(Pn=>Symbol[Pn]).filter(isSymbol));function hasOwnProperty$8(Pn){isSymbol(Pn)||(Pn=String(Pn));const Cn=toRaw(this);return track(Cn,"has",Pn),Cn.hasOwnProperty(Pn)}class BaseReactiveHandler{constructor(Cn=!1,$n=!1){this._isReadonly=Cn,this._isShallow=$n}get(Cn,$n,_n){if($n==="__v_skip")return Cn.__v_skip;const Rn=this._isReadonly,Bn=this._isShallow;if($n==="__v_isReactive")return!Rn;if($n==="__v_isReadonly")return Rn;if($n==="__v_isShallow")return Bn;if($n==="__v_raw")return _n===(Rn?Bn?shallowReadonlyMap:readonlyMap:Bn?shallowReactiveMap:reactiveMap).get(Cn)||Object.getPrototypeOf(Cn)===Object.getPrototypeOf(_n)?Cn:void 0;const Ln=isArray$1(Cn);if(!Rn){let Nn;if(Ln&&(Nn=arrayInstrumentations[$n]))return Nn;if($n==="hasOwnProperty")return hasOwnProperty$8}const Dn=Reflect.get(Cn,$n,isRef(Cn)?Cn:_n);return(isSymbol($n)?builtInSymbols.has($n):isNonTrackableKeys($n))||(Rn||track(Cn,"get",$n),Bn)?Dn:isRef(Dn)?Ln&&isIntegerKey($n)?Dn:Dn.value:isObject$4(Dn)?Rn?readonly(Dn):reactive(Dn):Dn}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(Cn=!1){super(!1,Cn)}set(Cn,$n,_n,Rn){let Bn=Cn[$n];if(!this._isShallow){const Nn=isReadonly(Bn);if(!isShallow(_n)&&!isReadonly(_n)&&(Bn=toRaw(Bn),_n=toRaw(_n)),!isArray$1(Cn)&&isRef(Bn)&&!isRef(_n))return Nn?!1:(Bn.value=_n,!0)}const Ln=isArray$1(Cn)&&isIntegerKey($n)?Number($n)<Cn.length:hasOwn(Cn,$n),Dn=Reflect.set(Cn,$n,_n,isRef(Cn)?Cn:Rn);return Cn===toRaw(Rn)&&(Ln?hasChanged(_n,Bn)&&trigger(Cn,"set",$n,_n):trigger(Cn,"add",$n,_n)),Dn}deleteProperty(Cn,$n){const _n=hasOwn(Cn,$n);Cn[$n];const Rn=Reflect.deleteProperty(Cn,$n);return Rn&&_n&&trigger(Cn,"delete",$n,void 0),Rn}has(Cn,$n){const _n=Reflect.has(Cn,$n);return(!isSymbol($n)||!builtInSymbols.has($n))&&track(Cn,"has",$n),_n}ownKeys(Cn){return track(Cn,"iterate",isArray$1(Cn)?"length":ITERATE_KEY),Reflect.ownKeys(Cn)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(Cn=!1){super(!0,Cn)}set(Cn,$n){return!0}deleteProperty(Cn,$n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=Pn=>Pn,getProto=Pn=>Reflect.getPrototypeOf(Pn);function createIterableMethod(Pn,Cn,$n){return function(..._n){const Rn=this.__v_raw,Bn=toRaw(Rn),Ln=isMap(Bn),Dn=Pn==="entries"||Pn===Symbol.iterator&&Ln,Nn=Pn==="keys"&&Ln,Fn=Rn[Pn](..._n),Wn=$n?toShallow:Cn?toReadonly:toReactive;return!Cn&&track(Bn,"iterate",Nn?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:zn,done:Yn}=Fn.next();return Yn?{value:zn,done:Yn}:{value:Dn?[Wn(zn[0]),Wn(zn[1])]:Wn(zn),done:Yn}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Pn){return function(...Cn){return Pn==="delete"?!1:Pn==="clear"?void 0:this}}function createInstrumentations(Pn,Cn){const $n={get(Rn){const Bn=this.__v_raw,Ln=toRaw(Bn),Dn=toRaw(Rn);Pn||(hasChanged(Rn,Dn)&&track(Ln,"get",Rn),track(Ln,"get",Dn));const{has:Nn}=getProto(Ln),Fn=Cn?toShallow:Pn?toReadonly:toReactive;if(Nn.call(Ln,Rn))return Fn(Bn.get(Rn));if(Nn.call(Ln,Dn))return Fn(Bn.get(Dn));Bn!==Ln&&Bn.get(Rn)},get size(){const Rn=this.__v_raw;return!Pn&&track(toRaw(Rn),"iterate",ITERATE_KEY),Reflect.get(Rn,"size",Rn)},has(Rn){const Bn=this.__v_raw,Ln=toRaw(Bn),Dn=toRaw(Rn);return Pn||(hasChanged(Rn,Dn)&&track(Ln,"has",Rn),track(Ln,"has",Dn)),Rn===Dn?Bn.has(Rn):Bn.has(Rn)||Bn.has(Dn)},forEach(Rn,Bn){const Ln=this,Dn=Ln.__v_raw,Nn=toRaw(Dn),Fn=Cn?toShallow:Pn?toReadonly:toReactive;return!Pn&&track(Nn,"iterate",ITERATE_KEY),Dn.forEach((Wn,zn)=>Rn.call(Bn,Fn(Wn),Fn(zn),Ln))}};return extend($n,Pn?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(Rn){!Cn&&!isShallow(Rn)&&!isReadonly(Rn)&&(Rn=toRaw(Rn));const Bn=toRaw(this);return getProto(Bn).has.call(Bn,Rn)||(Bn.add(Rn),trigger(Bn,"add",Rn,Rn)),this},set(Rn,Bn){!Cn&&!isShallow(Bn)&&!isReadonly(Bn)&&(Bn=toRaw(Bn));const Ln=toRaw(this),{has:Dn,get:Nn}=getProto(Ln);let Fn=Dn.call(Ln,Rn);Fn||(Rn=toRaw(Rn),Fn=Dn.call(Ln,Rn));const Wn=Nn.call(Ln,Rn);return Ln.set(Rn,Bn),Fn?hasChanged(Bn,Wn)&&trigger(Ln,"set",Rn,Bn):trigger(Ln,"add",Rn,Bn),this},delete(Rn){const Bn=toRaw(this),{has:Ln,get:Dn}=getProto(Bn);let Nn=Ln.call(Bn,Rn);Nn||(Rn=toRaw(Rn),Nn=Ln.call(Bn,Rn)),Dn&&Dn.call(Bn,Rn);const Fn=Bn.delete(Rn);return Nn&&trigger(Bn,"delete",Rn,void 0),Fn},clear(){const Rn=toRaw(this),Bn=Rn.size!==0,Ln=Rn.clear();return Bn&&trigger(Rn,"clear",void 0,void 0),Ln}}),["keys","values","entries",Symbol.iterator].forEach(Rn=>{$n[Rn]=createIterableMethod(Rn,Pn,Cn)}),$n}function createInstrumentationGetter(Pn,Cn){const $n=createInstrumentations(Pn,Cn);return(_n,Rn,Bn)=>Rn==="__v_isReactive"?!Pn:Rn==="__v_isReadonly"?Pn:Rn==="__v_raw"?_n:Reflect.get(hasOwn($n,Rn)&&Rn in _n?$n:_n,Rn,Bn)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Pn){switch(Pn){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Pn){return Pn.__v_skip||!Object.isExtensible(Pn)?0:targetTypeMap(toRawType(Pn))}function reactive(Pn){return isReadonly(Pn)?Pn:createReactiveObject(Pn,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(Pn){return createReactiveObject(Pn,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(Pn){return createReactiveObject(Pn,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(Pn){return createReactiveObject(Pn,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(Pn,Cn,$n,_n,Rn){if(!isObject$4(Pn)||Pn.__v_raw&&!(Cn&&Pn.__v_isReactive))return Pn;const Bn=Rn.get(Pn);if(Bn)return Bn;const Ln=getTargetType(Pn);if(Ln===0)return Pn;const Dn=new Proxy(Pn,Ln===2?_n:$n);return Rn.set(Pn,Dn),Dn}function isReactive(Pn){return isReadonly(Pn)?isReactive(Pn.__v_raw):!!(Pn&&Pn.__v_isReactive)}function isReadonly(Pn){return!!(Pn&&Pn.__v_isReadonly)}function isShallow(Pn){return!!(Pn&&Pn.__v_isShallow)}function isProxy(Pn){return Pn?!!Pn.__v_raw:!1}function toRaw(Pn){const Cn=Pn&&Pn.__v_raw;return Cn?toRaw(Cn):Pn}function markRaw(Pn){return!hasOwn(Pn,"__v_skip")&&Object.isExtensible(Pn)&&def(Pn,"__v_skip",!0),Pn}const toReactive=Pn=>isObject$4(Pn)?reactive(Pn):Pn,toReadonly=Pn=>isObject$4(Pn)?readonly(Pn):Pn;function isRef(Pn){return Pn?Pn.__v_isRef===!0:!1}function ref(Pn){return createRef(Pn,!1)}function shallowRef(Pn){return createRef(Pn,!0)}function createRef(Pn,Cn){return isRef(Pn)?Pn:new RefImpl(Pn,Cn)}class RefImpl{constructor(Cn,$n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=$n?Cn:toRaw(Cn),this._value=$n?Cn:toReactive(Cn),this.__v_isShallow=$n}get value(){return this.dep.track(),this._value}set value(Cn){const $n=this._rawValue,_n=this.__v_isShallow||isShallow(Cn)||isReadonly(Cn);Cn=_n?Cn:toRaw(Cn),hasChanged(Cn,$n)&&(this._rawValue=Cn,this._value=_n?Cn:toReactive(Cn),this.dep.trigger())}}function unref(Pn){return isRef(Pn)?Pn.value:Pn}function toValue$1(Pn){return isFunction$1(Pn)?Pn():unref(Pn)}const shallowUnwrapHandlers={get:(Pn,Cn,$n)=>Cn==="__v_raw"?Pn:unref(Reflect.get(Pn,Cn,$n)),set:(Pn,Cn,$n,_n)=>{const Rn=Pn[Cn];return isRef(Rn)&&!isRef($n)?(Rn.value=$n,!0):Reflect.set(Pn,Cn,$n,_n)}};function proxyRefs(Pn){return isReactive(Pn)?Pn:new Proxy(Pn,shallowUnwrapHandlers)}class CustomRefImpl{constructor(Cn){this.__v_isRef=!0,this._value=void 0;const $n=this.dep=new Dep,{get:_n,set:Rn}=Cn($n.track.bind($n),$n.trigger.bind($n));this._get=_n,this._set=Rn}get value(){return this._value=this._get()}set value(Cn){this._set(Cn)}}function customRef(Pn){return new CustomRefImpl(Pn)}function toRefs$1(Pn){const Cn=isArray$1(Pn)?new Array(Pn.length):{};for(const $n in Pn)Cn[$n]=propertyToRef(Pn,$n);return Cn}class ObjectRefImpl{constructor(Cn,$n,_n){this._object=Cn,this._key=$n,this._defaultValue=_n,this.__v_isRef=!0,this._value=void 0}get value(){const Cn=this._object[this._key];return this._value=Cn===void 0?this._defaultValue:Cn}set value(Cn){this._object[this._key]=Cn}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(Pn,Cn,$n){const _n=Pn[Cn];return isRef(_n)?_n:new ObjectRefImpl(Pn,Cn,$n)}class ComputedRefImpl{constructor(Cn,$n,_n){this.fn=Cn,this.setter=$n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!$n,this.isSSR=_n}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const Cn=this.dep.track();return refreshComputed(this),Cn&&(Cn.version=this.dep.version),this._value}set value(Cn){this.setter&&this.setter(Cn)}}function computed$1(Pn,Cn,$n=!1){let _n,Rn;return isFunction$1(Pn)?_n=Pn:(_n=Pn.get,Rn=Pn.set),new ComputedRefImpl(_n,Rn,$n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(Pn,Cn=!1,$n=activeWatcher){if($n){let _n=cleanupMap.get($n);_n||cleanupMap.set($n,_n=[]),_n.push(Pn)}}function watch$1(Pn,Cn,$n=EMPTY_OBJ){const{immediate:_n,deep:Rn,once:Bn,scheduler:Ln,augmentJob:Dn,call:Nn}=$n,Fn=ui=>Rn?ui:isShallow(ui)||Rn===!1||Rn===0?traverse(ui,1):traverse(ui);let Wn,zn,Yn,Gn,ei=!1,ti=!1;if(isRef(Pn)?(zn=()=>Pn.value,ei=isShallow(Pn)):isReactive(Pn)?(zn=()=>Fn(Pn),ei=!0):isArray$1(Pn)?(ti=!0,ei=Pn.some(ui=>isReactive(ui)||isShallow(ui)),zn=()=>Pn.map(ui=>{if(isRef(ui))return ui.value;if(isReactive(ui))return Fn(ui);if(isFunction$1(ui))return Nn?Nn(ui,2):ui()})):isFunction$1(Pn)?Cn?zn=Nn?()=>Nn(Pn,2):Pn:zn=()=>{if(Yn){pauseTracking();try{Yn()}finally{resetTracking()}}const ui=activeWatcher;activeWatcher=Wn;try{return Nn?Nn(Pn,3,[Gn]):Pn(Gn)}finally{activeWatcher=ui}}:zn=NOOP,Cn&&Rn){const ui=zn,di=Rn===!0?1/0:Rn;zn=()=>traverse(ui(),di)}const ii=getCurrentScope(),oi=()=>{Wn.stop(),ii&&ii.active&&remove$1(ii.effects,Wn)};if(Bn&&Cn){const ui=Cn;Cn=(...di)=>{ui(...di),oi()}}let ai=ti?new Array(Pn.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const fi=ui=>{if(!(!(Wn.flags&1)||!Wn.dirty&&!ui))if(Cn){const di=Wn.run();if(Rn||ei||(ti?di.some((yi,mi)=>hasChanged(yi,ai[mi])):hasChanged(di,ai))){Yn&&Yn();const yi=activeWatcher;activeWatcher=Wn;try{const mi=[di,ai===INITIAL_WATCHER_VALUE?void 0:ti&&ai[0]===INITIAL_WATCHER_VALUE?[]:ai,Gn];Nn?Nn(Cn,3,mi):Cn(...mi),ai=di}finally{activeWatcher=yi}}}else Wn.run()};return Dn&&Dn(fi),Wn=new ReactiveEffect(zn),Wn.scheduler=Ln?()=>Ln(fi,!1):fi,Gn=ui=>onWatcherCleanup(ui,!1,Wn),Yn=Wn.onStop=()=>{const ui=cleanupMap.get(Wn);if(ui){if(Nn)Nn(ui,4);else for(const di of ui)di();cleanupMap.delete(Wn)}},Cn?_n?fi(!0):ai=Wn.run():Ln?Ln(fi.bind(null,!0),!0):Wn.run(),oi.pause=Wn.pause.bind(Wn),oi.resume=Wn.resume.bind(Wn),oi.stop=oi,oi}function traverse(Pn,Cn=1/0,$n){if(Cn<=0||!isObject$4(Pn)||Pn.__v_skip||($n=$n||new Set,$n.has(Pn)))return Pn;if($n.add(Pn),Cn--,isRef(Pn))traverse(Pn.value,Cn,$n);else if(isArray$1(Pn))for(let _n=0;_n<Pn.length;_n++)traverse(Pn[_n],Cn,$n);else if(isSet(Pn)||isMap(Pn))Pn.forEach(_n=>{traverse(_n,Cn,$n)});else if(isPlainObject$2(Pn)){for(const _n in Pn)traverse(Pn[_n],Cn,$n);for(const _n of Object.getOwnPropertySymbols(Pn))Object.prototype.propertyIsEnumerable.call(Pn,_n)&&traverse(Pn[_n],Cn,$n)}return Pn}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(Pn,...Cn){if(isWarning)return;isWarning=!0,pauseTracking();const $n=stack.length?stack[stack.length-1].component:null,_n=$n&&$n.appContext.config.warnHandler,Rn=getComponentTrace();if(_n)callWithErrorHandling(_n,$n,11,[Pn+Cn.map(Bn=>{var Ln,Dn;return(Dn=(Ln=Bn.toString)==null?void 0:Ln.call(Bn))!=null?Dn:JSON.stringify(Bn)}).join(""),$n&&$n.proxy,Rn.map(({vnode:Bn})=>`at <${formatComponentName($n,Bn.type)}>`).join(`
`),Rn]);else{const Bn=[`[Vue warn]: ${Pn}`,...Cn];Rn.length&&Bn.push(`
`,...formatTrace(Rn)),console.warn(...Bn)}resetTracking(),isWarning=!1}function getComponentTrace(){let Pn=stack[stack.length-1];if(!Pn)return[];const Cn=[];for(;Pn;){const $n=Cn[0];$n&&$n.vnode===Pn?$n.recurseCount++:Cn.push({vnode:Pn,recurseCount:0});const _n=Pn.component&&Pn.component.parent;Pn=_n&&_n.vnode}return Cn}function formatTrace(Pn){const Cn=[];return Pn.forEach(($n,_n)=>{Cn.push(..._n===0?[]:[`
`],...formatTraceEntry($n))}),Cn}function formatTraceEntry({vnode:Pn,recurseCount:Cn}){const $n=Cn>0?`... (${Cn} recursive calls)`:"",_n=Pn.component?Pn.component.parent==null:!1,Rn=` at <${formatComponentName(Pn.component,Pn.type,_n)}`,Bn=">"+$n;return Pn.props?[Rn,...formatProps(Pn.props),Bn]:[Rn+Bn]}function formatProps(Pn){const Cn=[],$n=Object.keys(Pn);return $n.slice(0,3).forEach(_n=>{Cn.push(...formatProp(_n,Pn[_n]))}),$n.length>3&&Cn.push(" ..."),Cn}function formatProp(Pn,Cn,$n){return isString(Cn)?(Cn=JSON.stringify(Cn),$n?Cn:[`${Pn}=${Cn}`]):typeof Cn=="number"||typeof Cn=="boolean"||Cn==null?$n?Cn:[`${Pn}=${Cn}`]:isRef(Cn)?(Cn=formatProp(Pn,toRaw(Cn.value),!0),$n?Cn:[`${Pn}=Ref<`,Cn,">"]):isFunction$1(Cn)?[`${Pn}=fn${Cn.name?`<${Cn.name}>`:""}`]:(Cn=toRaw(Cn),$n?Cn:[`${Pn}=`,Cn])}function callWithErrorHandling(Pn,Cn,$n,_n){try{return _n?Pn(..._n):Pn()}catch(Rn){handleError(Rn,Cn,$n)}}function callWithAsyncErrorHandling(Pn,Cn,$n,_n){if(isFunction$1(Pn)){const Rn=callWithErrorHandling(Pn,Cn,$n,_n);return Rn&&isPromise(Rn)&&Rn.catch(Bn=>{handleError(Bn,Cn,$n)}),Rn}if(isArray$1(Pn)){const Rn=[];for(let Bn=0;Bn<Pn.length;Bn++)Rn.push(callWithAsyncErrorHandling(Pn[Bn],Cn,$n,_n));return Rn}}function handleError(Pn,Cn,$n,_n=!0){const Rn=Cn?Cn.vnode:null,{errorHandler:Bn,throwUnhandledErrorInProduction:Ln}=Cn&&Cn.appContext.config||EMPTY_OBJ;if(Cn){let Dn=Cn.parent;const Nn=Cn.proxy,Fn=`https://vuejs.org/error-reference/#runtime-${$n}`;for(;Dn;){const Wn=Dn.ec;if(Wn){for(let zn=0;zn<Wn.length;zn++)if(Wn[zn](Pn,Nn,Fn)===!1)return}Dn=Dn.parent}if(Bn){pauseTracking(),callWithErrorHandling(Bn,null,10,[Pn,Nn,Fn]),resetTracking();return}}logError(Pn,$n,Rn,_n,Ln)}function logError(Pn,Cn,$n,_n=!0,Rn=!1){if(Rn)throw Pn;console.error(Pn)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(Pn){const Cn=currentFlushPromise||resolvedPromise;return Pn?Cn.then(this?Pn.bind(this):Pn):Cn}function findInsertionIndex(Pn){let Cn=flushIndex+1,$n=queue.length;for(;Cn<$n;){const _n=Cn+$n>>>1,Rn=queue[_n],Bn=getId(Rn);Bn<Pn||Bn===Pn&&Rn.flags&2?Cn=_n+1:$n=_n}return Cn}function queueJob(Pn){if(!(Pn.flags&1)){const Cn=getId(Pn),$n=queue[queue.length-1];!$n||!(Pn.flags&2)&&Cn>=getId($n)?queue.push(Pn):queue.splice(findInsertionIndex(Cn),0,Pn),Pn.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(Pn){isArray$1(Pn)?pendingPostFlushCbs.push(...Pn):activePostFlushCbs&&Pn.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,Pn):Pn.flags&1||(pendingPostFlushCbs.push(Pn),Pn.flags|=1),queueFlush()}function flushPreFlushCbs(Pn,Cn,$n=flushIndex+1){for(;$n<queue.length;$n++){const _n=queue[$n];if(_n&&_n.flags&2){if(Pn&&_n.id!==Pn.uid)continue;queue.splice($n,1),$n--,_n.flags&4&&(_n.flags&=-2),_n(),_n.flags&4||(_n.flags&=-2)}}}function flushPostFlushCbs(Pn){if(pendingPostFlushCbs.length){const Cn=[...new Set(pendingPostFlushCbs)].sort(($n,_n)=>getId($n)-getId(_n));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...Cn);return}for(activePostFlushCbs=Cn,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const $n=activePostFlushCbs[postFlushIndex];$n.flags&4&&($n.flags&=-2),$n.flags&8||$n(),$n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=Pn=>Pn.id==null?Pn.flags&2?-1:1/0:Pn.id;function flushJobs(Pn){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const Cn=queue[flushIndex];Cn&&!(Cn.flags&8)&&(Cn.flags&4&&(Cn.flags&=-2),callWithErrorHandling(Cn,Cn.i,Cn.i?15:14),Cn.flags&4||(Cn.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const Cn=queue[flushIndex];Cn&&(Cn.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(Pn){const Cn=currentRenderingInstance;return currentRenderingInstance=Pn,currentScopeId=Pn&&Pn.type.__scopeId||null,Cn}function pushScopeId(Pn){currentScopeId=Pn}function popScopeId(){currentScopeId=null}function withCtx(Pn,Cn=currentRenderingInstance,$n){if(!Cn||Pn._n)return Pn;const _n=(...Rn)=>{_n._d&&setBlockTracking(-1);const Bn=setCurrentRenderingInstance(Cn);let Ln;try{Ln=Pn(...Rn)}finally{setCurrentRenderingInstance(Bn),_n._d&&setBlockTracking(1)}return Ln};return _n._n=!0,_n._c=!0,_n._d=!0,_n}function withDirectives(Pn,Cn){if(currentRenderingInstance===null)return Pn;const $n=getComponentPublicInstance(currentRenderingInstance),_n=Pn.dirs||(Pn.dirs=[]);for(let Rn=0;Rn<Cn.length;Rn++){let[Bn,Ln,Dn,Nn=EMPTY_OBJ]=Cn[Rn];Bn&&(isFunction$1(Bn)&&(Bn={mounted:Bn,updated:Bn}),Bn.deep&&traverse(Ln),_n.push({dir:Bn,instance:$n,value:Ln,oldValue:void 0,arg:Dn,modifiers:Nn}))}return Pn}function invokeDirectiveHook(Pn,Cn,$n,_n){const Rn=Pn.dirs,Bn=Cn&&Cn.dirs;for(let Ln=0;Ln<Rn.length;Ln++){const Dn=Rn[Ln];Bn&&(Dn.oldValue=Bn[Ln].value);let Nn=Dn.dir[_n];Nn&&(pauseTracking(),callWithAsyncErrorHandling(Nn,$n,8,[Pn.el,Dn,Pn,Cn]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=Pn=>Pn.__isTeleport,isTeleportDisabled=Pn=>Pn&&(Pn.disabled||Pn.disabled===""),isTeleportDeferred=Pn=>Pn&&(Pn.defer||Pn.defer===""),isTargetSVG=Pn=>typeof SVGElement<"u"&&Pn instanceof SVGElement,isTargetMathML=Pn=>typeof MathMLElement=="function"&&Pn instanceof MathMLElement,resolveTarget=(Pn,Cn)=>{const $n=Pn&&Pn.to;return isString($n)?Cn?Cn($n):null:$n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn,Nn,Fn){const{mc:Wn,pc:zn,pbc:Yn,o:{insert:Gn,querySelector:ei,createText:ti,createComment:ii}}=Fn,oi=isTeleportDisabled(Cn.props);let{shapeFlag:ai,children:fi,dynamicChildren:ui}=Cn;if(Pn==null){const di=Cn.el=ti(""),yi=Cn.anchor=ti("");Gn(di,$n,_n),Gn(yi,$n,_n);const mi=(_i,Pi)=>{ai&16&&(Rn&&Rn.isCE&&(Rn.ce._teleportTarget=_i),Wn(fi,_i,Pi,Rn,Bn,Ln,Dn,Nn))},ki=()=>{const _i=Cn.target=resolveTarget(Cn.props,ei),Pi=prepareAnchor(_i,Cn,ti,Gn);_i&&(Ln!=="svg"&&isTargetSVG(_i)?Ln="svg":Ln!=="mathml"&&isTargetMathML(_i)&&(Ln="mathml"),oi||(mi(_i,Pi),updateCssVars(Cn,!1)))};oi&&(mi($n,yi),updateCssVars(Cn,!0)),isTeleportDeferred(Cn.props)?queuePostRenderEffect(()=>{ki(),Cn.el.__isMounted=!0},Bn):ki()}else{if(isTeleportDeferred(Cn.props)&&!Pn.el.__isMounted){queuePostRenderEffect(()=>{TeleportImpl.process(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn,Nn,Fn),delete Pn.el.__isMounted},Bn);return}Cn.el=Pn.el,Cn.targetStart=Pn.targetStart;const di=Cn.anchor=Pn.anchor,yi=Cn.target=Pn.target,mi=Cn.targetAnchor=Pn.targetAnchor,ki=isTeleportDisabled(Pn.props),_i=ki?$n:yi,Pi=ki?di:mi;if(Ln==="svg"||isTargetSVG(yi)?Ln="svg":(Ln==="mathml"||isTargetMathML(yi))&&(Ln="mathml"),ui?(Yn(Pn.dynamicChildren,ui,_i,Rn,Bn,Ln,Dn),traverseStaticChildren(Pn,Cn,!0)):Nn||zn(Pn,Cn,_i,Pi,Rn,Bn,Ln,Dn,!1),oi)ki?Cn.props&&Pn.props&&Cn.props.to!==Pn.props.to&&(Cn.props.to=Pn.props.to):moveTeleport(Cn,$n,di,Fn,1);else if((Cn.props&&Cn.props.to)!==(Pn.props&&Pn.props.to)){const Oi=Cn.target=resolveTarget(Cn.props,ei);Oi&&moveTeleport(Cn,Oi,null,Fn,0)}else ki&&moveTeleport(Cn,yi,mi,Fn,1);updateCssVars(Cn,oi)}},remove(Pn,Cn,$n,{um:_n,o:{remove:Rn}},Bn){const{shapeFlag:Ln,children:Dn,anchor:Nn,targetStart:Fn,targetAnchor:Wn,target:zn,props:Yn}=Pn;if(zn&&(Rn(Fn),Rn(Wn)),Bn&&Rn(Nn),Ln&16){const Gn=Bn||!isTeleportDisabled(Yn);for(let ei=0;ei<Dn.length;ei++){const ti=Dn[ei];_n(ti,Cn,$n,Gn,!!ti.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(Pn,Cn,$n,{o:{insert:_n},m:Rn},Bn=2){Bn===0&&_n(Pn.targetAnchor,Cn,$n);const{el:Ln,anchor:Dn,shapeFlag:Nn,children:Fn,props:Wn}=Pn,zn=Bn===2;if(zn&&_n(Ln,Cn,$n),(!zn||isTeleportDisabled(Wn))&&Nn&16)for(let Yn=0;Yn<Fn.length;Yn++)Rn(Fn[Yn],Cn,$n,2);zn&&_n(Dn,Cn,$n)}function hydrateTeleport(Pn,Cn,$n,_n,Rn,Bn,{o:{nextSibling:Ln,parentNode:Dn,querySelector:Nn,insert:Fn,createText:Wn}},zn){const Yn=Cn.target=resolveTarget(Cn.props,Nn);if(Yn){const Gn=isTeleportDisabled(Cn.props),ei=Yn._lpa||Yn.firstChild;if(Cn.shapeFlag&16)if(Gn)Cn.anchor=zn(Ln(Pn),Cn,Dn(Pn),$n,_n,Rn,Bn),Cn.targetStart=ei,Cn.targetAnchor=ei&&Ln(ei);else{Cn.anchor=Ln(Pn);let ti=ei;for(;ti;){if(ti&&ti.nodeType===8){if(ti.data==="teleport start anchor")Cn.targetStart=ti;else if(ti.data==="teleport anchor"){Cn.targetAnchor=ti,Yn._lpa=Cn.targetAnchor&&Ln(Cn.targetAnchor);break}}ti=Ln(ti)}Cn.targetAnchor||prepareAnchor(Yn,Cn,Wn,Fn),zn(ei&&Ln(ei),Cn,Yn,$n,_n,Rn,Bn)}updateCssVars(Cn,Gn)}return Cn.anchor&&Ln(Cn.anchor)}const Teleport=TeleportImpl;function updateCssVars(Pn,Cn){const $n=Pn.ctx;if($n&&$n.ut){let _n,Rn;for(Cn?(_n=Pn.el,Rn=Pn.anchor):(_n=Pn.targetStart,Rn=Pn.targetAnchor);_n&&_n!==Rn;)_n.nodeType===1&&_n.setAttribute("data-v-owner",$n.uid),_n=_n.nextSibling;$n.ut()}}function prepareAnchor(Pn,Cn,$n,_n){const Rn=Cn.targetStart=$n(""),Bn=Cn.targetAnchor=$n("");return Rn[TeleportEndKey]=Bn,Pn&&(_n(Rn,Pn),_n(Bn,Pn)),Bn}function setTransitionHooks(Pn,Cn){Pn.shapeFlag&6&&Pn.component?(Pn.transition=Cn,setTransitionHooks(Pn.component.subTree,Cn)):Pn.shapeFlag&128?(Pn.ssContent.transition=Cn.clone(Pn.ssContent),Pn.ssFallback.transition=Cn.clone(Pn.ssFallback)):Pn.transition=Cn}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(Pn,Cn){return isFunction$1(Pn)?extend({name:Pn.name},Cn,{setup:Pn}):Pn}function markAsyncBoundary(Pn){Pn.ids=[Pn.ids[0]+Pn.ids[2]+++"-",0,0]}function useTemplateRef(Pn){const Cn=getCurrentInstance(),$n=shallowRef(null);if(Cn){const Rn=Cn.refs===EMPTY_OBJ?Cn.refs={}:Cn.refs;Object.defineProperty(Rn,Pn,{enumerable:!0,get:()=>$n.value,set:Bn=>$n.value=Bn})}return $n}function setRef(Pn,Cn,$n,_n,Rn=!1){if(isArray$1(Pn)){Pn.forEach((ei,ti)=>setRef(ei,Cn&&(isArray$1(Cn)?Cn[ti]:Cn),$n,_n,Rn));return}if(isAsyncWrapper(_n)&&!Rn){_n.shapeFlag&512&&_n.type.__asyncResolved&&_n.component.subTree.component&&setRef(Pn,Cn,$n,_n.component.subTree);return}const Bn=_n.shapeFlag&4?getComponentPublicInstance(_n.component):_n.el,Ln=Rn?null:Bn,{i:Dn,r:Nn}=Pn,Fn=Cn&&Cn.r,Wn=Dn.refs===EMPTY_OBJ?Dn.refs={}:Dn.refs,zn=Dn.setupState,Yn=toRaw(zn),Gn=zn===EMPTY_OBJ?()=>!1:ei=>hasOwn(Yn,ei);if(Fn!=null&&Fn!==Nn&&(isString(Fn)?(Wn[Fn]=null,Gn(Fn)&&(zn[Fn]=null)):isRef(Fn)&&(Fn.value=null)),isFunction$1(Nn))callWithErrorHandling(Nn,Dn,12,[Ln,Wn]);else{const ei=isString(Nn),ti=isRef(Nn);if(ei||ti){const ii=()=>{if(Pn.f){const oi=ei?Gn(Nn)?zn[Nn]:Wn[Nn]:Nn.value;Rn?isArray$1(oi)&&remove$1(oi,Bn):isArray$1(oi)?oi.includes(Bn)||oi.push(Bn):ei?(Wn[Nn]=[Bn],Gn(Nn)&&(zn[Nn]=Wn[Nn])):(Nn.value=[Bn],Pn.k&&(Wn[Pn.k]=Nn.value))}else ei?(Wn[Nn]=Ln,Gn(Nn)&&(zn[Nn]=Ln)):ti&&(Nn.value=Ln,Pn.k&&(Wn[Pn.k]=Ln))};Ln?(ii.id=-1,queuePostRenderEffect(ii,$n)):ii()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=Pn=>!!Pn.type.__asyncLoader,isKeepAlive=Pn=>Pn.type.__isKeepAlive;function onActivated(Pn,Cn){registerKeepAliveHook(Pn,"a",Cn)}function onDeactivated(Pn,Cn){registerKeepAliveHook(Pn,"da",Cn)}function registerKeepAliveHook(Pn,Cn,$n=currentInstance){const _n=Pn.__wdc||(Pn.__wdc=()=>{let Rn=$n;for(;Rn;){if(Rn.isDeactivated)return;Rn=Rn.parent}return Pn()});if(injectHook(Cn,_n,$n),$n){let Rn=$n.parent;for(;Rn&&Rn.parent;)isKeepAlive(Rn.parent.vnode)&&injectToKeepAliveRoot(_n,Cn,$n,Rn),Rn=Rn.parent}}function injectToKeepAliveRoot(Pn,Cn,$n,_n){const Rn=injectHook(Cn,Pn,_n,!0);onUnmounted(()=>{remove$1(_n[Cn],Rn)},$n)}function injectHook(Pn,Cn,$n=currentInstance,_n=!1){if($n){const Rn=$n[Pn]||($n[Pn]=[]),Bn=Cn.__weh||(Cn.__weh=(...Ln)=>{pauseTracking();const Dn=setCurrentInstance($n),Nn=callWithAsyncErrorHandling(Cn,$n,Pn,Ln);return Dn(),resetTracking(),Nn});return _n?Rn.unshift(Bn):Rn.push(Bn),Bn}}const createHook=Pn=>(Cn,$n=currentInstance)=>{(!isInSSRComponentSetup||Pn==="sp")&&injectHook(Pn,(..._n)=>Cn(..._n),$n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(Pn,Cn=currentInstance){injectHook("ec",Pn,Cn)}const COMPONENTS="components";function resolveComponent(Pn,Cn){return resolveAsset(COMPONENTS,Pn,!0,Cn)||Pn}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(Pn){return isString(Pn)?resolveAsset(COMPONENTS,Pn,!1)||Pn:Pn||NULL_DYNAMIC_COMPONENT}function resolveAsset(Pn,Cn,$n=!0,_n=!1){const Rn=currentRenderingInstance||currentInstance;if(Rn){const Bn=Rn.type;{const Dn=getComponentName(Bn,!1);if(Dn&&(Dn===Cn||Dn===camelize(Cn)||Dn===capitalize(camelize(Cn))))return Bn}const Ln=resolve(Rn[Pn]||Bn[Pn],Cn)||resolve(Rn.appContext[Pn],Cn);return!Ln&&_n?Bn:Ln}}function resolve(Pn,Cn){return Pn&&(Pn[Cn]||Pn[camelize(Cn)]||Pn[capitalize(camelize(Cn))])}function renderList(Pn,Cn,$n,_n){let Rn;const Bn=$n,Ln=isArray$1(Pn);if(Ln||isString(Pn)){const Dn=Ln&&isReactive(Pn);let Nn=!1;Dn&&(Nn=!isShallow(Pn),Pn=shallowReadArray(Pn)),Rn=new Array(Pn.length);for(let Fn=0,Wn=Pn.length;Fn<Wn;Fn++)Rn[Fn]=Cn(Nn?toReactive(Pn[Fn]):Pn[Fn],Fn,void 0,Bn)}else if(typeof Pn=="number"){Rn=new Array(Pn);for(let Dn=0;Dn<Pn;Dn++)Rn[Dn]=Cn(Dn+1,Dn,void 0,Bn)}else if(isObject$4(Pn))if(Pn[Symbol.iterator])Rn=Array.from(Pn,(Dn,Nn)=>Cn(Dn,Nn,void 0,Bn));else{const Dn=Object.keys(Pn);Rn=new Array(Dn.length);for(let Nn=0,Fn=Dn.length;Nn<Fn;Nn++){const Wn=Dn[Nn];Rn[Nn]=Cn(Pn[Wn],Wn,Nn,Bn)}}else Rn=[];return Rn}function renderSlot(Pn,Cn,$n={},_n,Rn){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return Cn!=="default"&&($n.name=Cn),openBlock(),createBlock(Fragment,null,[createVNode("slot",$n,_n)],64);let Bn=Pn[Cn];Bn&&Bn._c&&(Bn._d=!1),openBlock();const Ln=Bn&&ensureValidVNode(Bn($n)),Dn=$n.key||Ln&&Ln.key,Nn=createBlock(Fragment,{key:(Dn&&!isSymbol(Dn)?Dn:`_${Cn}`)+""},Ln||[],Ln&&Pn._===1?64:-2);return Bn&&Bn._c&&(Bn._d=!0),Nn}function ensureValidVNode(Pn){return Pn.some(Cn=>isVNode(Cn)?!(Cn.type===Comment||Cn.type===Fragment&&!ensureValidVNode(Cn.children)):!0)?Pn:null}const getPublicInstance=Pn=>Pn?isStatefulComponent(Pn)?getComponentPublicInstance(Pn):getPublicInstance(Pn.parent):null,publicPropertiesMap=extend(Object.create(null),{$:Pn=>Pn,$el:Pn=>Pn.vnode.el,$data:Pn=>Pn.data,$props:Pn=>Pn.props,$attrs:Pn=>Pn.attrs,$slots:Pn=>Pn.slots,$refs:Pn=>Pn.refs,$parent:Pn=>getPublicInstance(Pn.parent),$root:Pn=>getPublicInstance(Pn.root),$host:Pn=>Pn.ce,$emit:Pn=>Pn.emit,$options:Pn=>resolveMergedOptions(Pn),$forceUpdate:Pn=>Pn.f||(Pn.f=()=>{queueJob(Pn.update)}),$nextTick:Pn=>Pn.n||(Pn.n=nextTick.bind(Pn.proxy)),$watch:Pn=>instanceWatch.bind(Pn)}),hasSetupBinding=(Pn,Cn)=>Pn!==EMPTY_OBJ&&!Pn.__isScriptSetup&&hasOwn(Pn,Cn),PublicInstanceProxyHandlers={get({_:Pn},Cn){if(Cn==="__v_skip")return!0;const{ctx:$n,setupState:_n,data:Rn,props:Bn,accessCache:Ln,type:Dn,appContext:Nn}=Pn;let Fn;if(Cn[0]!=="$"){const Gn=Ln[Cn];if(Gn!==void 0)switch(Gn){case 1:return _n[Cn];case 2:return Rn[Cn];case 4:return $n[Cn];case 3:return Bn[Cn]}else{if(hasSetupBinding(_n,Cn))return Ln[Cn]=1,_n[Cn];if(Rn!==EMPTY_OBJ&&hasOwn(Rn,Cn))return Ln[Cn]=2,Rn[Cn];if((Fn=Pn.propsOptions[0])&&hasOwn(Fn,Cn))return Ln[Cn]=3,Bn[Cn];if($n!==EMPTY_OBJ&&hasOwn($n,Cn))return Ln[Cn]=4,$n[Cn];shouldCacheAccess&&(Ln[Cn]=0)}}const Wn=publicPropertiesMap[Cn];let zn,Yn;if(Wn)return Cn==="$attrs"&&track(Pn.attrs,"get",""),Wn(Pn);if((zn=Dn.__cssModules)&&(zn=zn[Cn]))return zn;if($n!==EMPTY_OBJ&&hasOwn($n,Cn))return Ln[Cn]=4,$n[Cn];if(Yn=Nn.config.globalProperties,hasOwn(Yn,Cn))return Yn[Cn]},set({_:Pn},Cn,$n){const{data:_n,setupState:Rn,ctx:Bn}=Pn;return hasSetupBinding(Rn,Cn)?(Rn[Cn]=$n,!0):_n!==EMPTY_OBJ&&hasOwn(_n,Cn)?(_n[Cn]=$n,!0):hasOwn(Pn.props,Cn)||Cn[0]==="$"&&Cn.slice(1)in Pn?!1:(Bn[Cn]=$n,!0)},has({_:{data:Pn,setupState:Cn,accessCache:$n,ctx:_n,appContext:Rn,propsOptions:Bn}},Ln){let Dn;return!!$n[Ln]||Pn!==EMPTY_OBJ&&hasOwn(Pn,Ln)||hasSetupBinding(Cn,Ln)||(Dn=Bn[0])&&hasOwn(Dn,Ln)||hasOwn(_n,Ln)||hasOwn(publicPropertiesMap,Ln)||hasOwn(Rn.config.globalProperties,Ln)},defineProperty(Pn,Cn,$n){return $n.get!=null?Pn._.accessCache[Cn]=0:hasOwn($n,"value")&&this.set(Pn,Cn,$n.value,null),Reflect.defineProperty(Pn,Cn,$n)}};function useSlots(){return getContext().slots}function getContext(){const Pn=getCurrentInstance();return Pn.setupContext||(Pn.setupContext=createSetupContext(Pn))}function normalizePropsOrEmits(Pn){return isArray$1(Pn)?Pn.reduce((Cn,$n)=>(Cn[$n]=null,Cn),{}):Pn}let shouldCacheAccess=!0;function applyOptions(Pn){const Cn=resolveMergedOptions(Pn),$n=Pn.proxy,_n=Pn.ctx;shouldCacheAccess=!1,Cn.beforeCreate&&callHook(Cn.beforeCreate,Pn,"bc");const{data:Rn,computed:Bn,methods:Ln,watch:Dn,provide:Nn,inject:Fn,created:Wn,beforeMount:zn,mounted:Yn,beforeUpdate:Gn,updated:ei,activated:ti,deactivated:ii,beforeDestroy:oi,beforeUnmount:ai,destroyed:fi,unmounted:ui,render:di,renderTracked:yi,renderTriggered:mi,errorCaptured:ki,serverPrefetch:_i,expose:Pi,inheritAttrs:Oi,components:wi,directives:Li,filters:Xi}=Cn;if(Fn&&resolveInjections(Fn,_n,null),Ln)for(const ji in Ln){const Ji=Ln[ji];isFunction$1(Ji)&&(_n[ji]=Ji.bind($n))}if(Rn){const ji=Rn.call($n,$n);isObject$4(ji)&&(Pn.data=reactive(ji))}if(shouldCacheAccess=!0,Bn)for(const ji in Bn){const Ji=Bn[ji],ns=isFunction$1(Ji)?Ji.bind($n,$n):isFunction$1(Ji.get)?Ji.get.bind($n,$n):NOOP,Zo=!isFunction$1(Ji)&&isFunction$1(Ji.set)?Ji.set.bind($n):NOOP,Ui=computed({get:ns,set:Zo});Object.defineProperty(_n,ji,{enumerable:!0,configurable:!0,get:()=>Ui.value,set:ls=>Ui.value=ls})}if(Dn)for(const ji in Dn)createWatcher(Dn[ji],_n,$n,ji);if(Nn){const ji=isFunction$1(Nn)?Nn.call($n):Nn;Reflect.ownKeys(ji).forEach(Ji=>{provide(Ji,ji[Ji])})}Wn&&callHook(Wn,Pn,"c");function Gi(ji,Ji){isArray$1(Ji)?Ji.forEach(ns=>ji(ns.bind($n))):Ji&&ji(Ji.bind($n))}if(Gi(onBeforeMount,zn),Gi(onMounted,Yn),Gi(onBeforeUpdate,Gn),Gi(onUpdated,ei),Gi(onActivated,ti),Gi(onDeactivated,ii),Gi(onErrorCaptured,ki),Gi(onRenderTracked,yi),Gi(onRenderTriggered,mi),Gi(onBeforeUnmount,ai),Gi(onUnmounted,ui),Gi(onServerPrefetch,_i),isArray$1(Pi))if(Pi.length){const ji=Pn.exposed||(Pn.exposed={});Pi.forEach(Ji=>{Object.defineProperty(ji,Ji,{get:()=>$n[Ji],set:ns=>$n[Ji]=ns})})}else Pn.exposed||(Pn.exposed={});di&&Pn.render===NOOP&&(Pn.render=di),Oi!=null&&(Pn.inheritAttrs=Oi),wi&&(Pn.components=wi),Li&&(Pn.directives=Li),_i&&markAsyncBoundary(Pn)}function resolveInjections(Pn,Cn,$n=NOOP){isArray$1(Pn)&&(Pn=normalizeInject(Pn));for(const _n in Pn){const Rn=Pn[_n];let Bn;isObject$4(Rn)?"default"in Rn?Bn=inject(Rn.from||_n,Rn.default,!0):Bn=inject(Rn.from||_n):Bn=inject(Rn),isRef(Bn)?Object.defineProperty(Cn,_n,{enumerable:!0,configurable:!0,get:()=>Bn.value,set:Ln=>Bn.value=Ln}):Cn[_n]=Bn}}function callHook(Pn,Cn,$n){callWithAsyncErrorHandling(isArray$1(Pn)?Pn.map(_n=>_n.bind(Cn.proxy)):Pn.bind(Cn.proxy),Cn,$n)}function createWatcher(Pn,Cn,$n,_n){let Rn=_n.includes(".")?createPathGetter($n,_n):()=>$n[_n];if(isString(Pn)){const Bn=Cn[Pn];isFunction$1(Bn)&&watch(Rn,Bn)}else if(isFunction$1(Pn))watch(Rn,Pn.bind($n));else if(isObject$4(Pn))if(isArray$1(Pn))Pn.forEach(Bn=>createWatcher(Bn,Cn,$n,_n));else{const Bn=isFunction$1(Pn.handler)?Pn.handler.bind($n):Cn[Pn.handler];isFunction$1(Bn)&&watch(Rn,Bn,Pn)}}function resolveMergedOptions(Pn){const Cn=Pn.type,{mixins:$n,extends:_n}=Cn,{mixins:Rn,optionsCache:Bn,config:{optionMergeStrategies:Ln}}=Pn.appContext,Dn=Bn.get(Cn);let Nn;return Dn?Nn=Dn:!Rn.length&&!$n&&!_n?Nn=Cn:(Nn={},Rn.length&&Rn.forEach(Fn=>mergeOptions(Nn,Fn,Ln,!0)),mergeOptions(Nn,Cn,Ln)),isObject$4(Cn)&&Bn.set(Cn,Nn),Nn}function mergeOptions(Pn,Cn,$n,_n=!1){const{mixins:Rn,extends:Bn}=Cn;Bn&&mergeOptions(Pn,Bn,$n,!0),Rn&&Rn.forEach(Ln=>mergeOptions(Pn,Ln,$n,!0));for(const Ln in Cn)if(!(_n&&Ln==="expose")){const Dn=internalOptionMergeStrats[Ln]||$n&&$n[Ln];Pn[Ln]=Dn?Dn(Pn[Ln],Cn[Ln]):Cn[Ln]}return Pn}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(Pn,Cn){return Cn?Pn?function(){return extend(isFunction$1(Pn)?Pn.call(this,this):Pn,isFunction$1(Cn)?Cn.call(this,this):Cn)}:Cn:Pn}function mergeInject(Pn,Cn){return mergeObjectOptions(normalizeInject(Pn),normalizeInject(Cn))}function normalizeInject(Pn){if(isArray$1(Pn)){const Cn={};for(let $n=0;$n<Pn.length;$n++)Cn[Pn[$n]]=Pn[$n];return Cn}return Pn}function mergeAsArray(Pn,Cn){return Pn?[...new Set([].concat(Pn,Cn))]:Cn}function mergeObjectOptions(Pn,Cn){return Pn?extend(Object.create(null),Pn,Cn):Cn}function mergeEmitsOrPropsOptions(Pn,Cn){return Pn?isArray$1(Pn)&&isArray$1(Cn)?[...new Set([...Pn,...Cn])]:extend(Object.create(null),normalizePropsOrEmits(Pn),normalizePropsOrEmits(Cn??{})):Cn}function mergeWatchOptions(Pn,Cn){if(!Pn)return Cn;if(!Cn)return Pn;const $n=extend(Object.create(null),Pn);for(const _n in Cn)$n[_n]=mergeAsArray(Pn[_n],Cn[_n]);return $n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(Pn,Cn){return function(_n,Rn=null){isFunction$1(_n)||(_n=extend({},_n)),Rn!=null&&!isObject$4(Rn)&&(Rn=null);const Bn=createAppContext(),Ln=new WeakSet,Dn=[];let Nn=!1;const Fn=Bn.app={_uid:uid$1++,_component:_n,_props:Rn,_container:null,_context:Bn,_instance:null,version,get config(){return Bn.config},set config(Wn){},use(Wn,...zn){return Ln.has(Wn)||(Wn&&isFunction$1(Wn.install)?(Ln.add(Wn),Wn.install(Fn,...zn)):isFunction$1(Wn)&&(Ln.add(Wn),Wn(Fn,...zn))),Fn},mixin(Wn){return Bn.mixins.includes(Wn)||Bn.mixins.push(Wn),Fn},component(Wn,zn){return zn?(Bn.components[Wn]=zn,Fn):Bn.components[Wn]},directive(Wn,zn){return zn?(Bn.directives[Wn]=zn,Fn):Bn.directives[Wn]},mount(Wn,zn,Yn){if(!Nn){const Gn=Fn._ceVNode||createVNode(_n,Rn);return Gn.appContext=Bn,Yn===!0?Yn="svg":Yn===!1&&(Yn=void 0),Pn(Gn,Wn,Yn),Nn=!0,Fn._container=Wn,Wn.__vue_app__=Fn,getComponentPublicInstance(Gn.component)}},onUnmount(Wn){Dn.push(Wn)},unmount(){Nn&&(callWithAsyncErrorHandling(Dn,Fn._instance,16),Pn(null,Fn._container),delete Fn._container.__vue_app__)},provide(Wn,zn){return Bn.provides[Wn]=zn,Fn},runWithContext(Wn){const zn=currentApp;currentApp=Fn;try{return Wn()}finally{currentApp=zn}}};return Fn}}let currentApp=null;function provide(Pn,Cn){if(currentInstance){let $n=currentInstance.provides;const _n=currentInstance.parent&&currentInstance.parent.provides;_n===$n&&($n=currentInstance.provides=Object.create(_n)),$n[Pn]=Cn}}function inject(Pn,Cn,$n=!1){const _n=currentInstance||currentRenderingInstance;if(_n||currentApp){const Rn=currentApp?currentApp._context.provides:_n?_n.parent==null?_n.vnode.appContext&&_n.vnode.appContext.provides:_n.parent.provides:void 0;if(Rn&&Pn in Rn)return Rn[Pn];if(arguments.length>1)return $n&&isFunction$1(Cn)?Cn.call(_n&&_n.proxy):Cn}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=Pn=>Object.getPrototypeOf(Pn)===internalObjectProto;function initProps(Pn,Cn,$n,_n=!1){const Rn={},Bn=createInternalObject();Pn.propsDefaults=Object.create(null),setFullProps(Pn,Cn,Rn,Bn);for(const Ln in Pn.propsOptions[0])Ln in Rn||(Rn[Ln]=void 0);$n?Pn.props=_n?Rn:shallowReactive(Rn):Pn.type.props?Pn.props=Rn:Pn.props=Bn,Pn.attrs=Bn}function updateProps(Pn,Cn,$n,_n){const{props:Rn,attrs:Bn,vnode:{patchFlag:Ln}}=Pn,Dn=toRaw(Rn),[Nn]=Pn.propsOptions;let Fn=!1;if((_n||Ln>0)&&!(Ln&16)){if(Ln&8){const Wn=Pn.vnode.dynamicProps;for(let zn=0;zn<Wn.length;zn++){let Yn=Wn[zn];if(isEmitListener(Pn.emitsOptions,Yn))continue;const Gn=Cn[Yn];if(Nn)if(hasOwn(Bn,Yn))Gn!==Bn[Yn]&&(Bn[Yn]=Gn,Fn=!0);else{const ei=camelize(Yn);Rn[ei]=resolvePropValue(Nn,Dn,ei,Gn,Pn,!1)}else Gn!==Bn[Yn]&&(Bn[Yn]=Gn,Fn=!0)}}}else{setFullProps(Pn,Cn,Rn,Bn)&&(Fn=!0);let Wn;for(const zn in Dn)(!Cn||!hasOwn(Cn,zn)&&((Wn=hyphenate(zn))===zn||!hasOwn(Cn,Wn)))&&(Nn?$n&&($n[zn]!==void 0||$n[Wn]!==void 0)&&(Rn[zn]=resolvePropValue(Nn,Dn,zn,void 0,Pn,!0)):delete Rn[zn]);if(Bn!==Dn)for(const zn in Bn)(!Cn||!hasOwn(Cn,zn))&&(delete Bn[zn],Fn=!0)}Fn&&trigger(Pn.attrs,"set","")}function setFullProps(Pn,Cn,$n,_n){const[Rn,Bn]=Pn.propsOptions;let Ln=!1,Dn;if(Cn)for(let Nn in Cn){if(isReservedProp(Nn))continue;const Fn=Cn[Nn];let Wn;Rn&&hasOwn(Rn,Wn=camelize(Nn))?!Bn||!Bn.includes(Wn)?$n[Wn]=Fn:(Dn||(Dn={}))[Wn]=Fn:isEmitListener(Pn.emitsOptions,Nn)||(!(Nn in _n)||Fn!==_n[Nn])&&(_n[Nn]=Fn,Ln=!0)}if(Bn){const Nn=toRaw($n),Fn=Dn||EMPTY_OBJ;for(let Wn=0;Wn<Bn.length;Wn++){const zn=Bn[Wn];$n[zn]=resolvePropValue(Rn,Nn,zn,Fn[zn],Pn,!hasOwn(Fn,zn))}}return Ln}function resolvePropValue(Pn,Cn,$n,_n,Rn,Bn){const Ln=Pn[$n];if(Ln!=null){const Dn=hasOwn(Ln,"default");if(Dn&&_n===void 0){const Nn=Ln.default;if(Ln.type!==Function&&!Ln.skipFactory&&isFunction$1(Nn)){const{propsDefaults:Fn}=Rn;if($n in Fn)_n=Fn[$n];else{const Wn=setCurrentInstance(Rn);_n=Fn[$n]=Nn.call(null,Cn),Wn()}}else _n=Nn;Rn.ce&&Rn.ce._setProp($n,_n)}Ln[0]&&(Bn&&!Dn?_n=!1:Ln[1]&&(_n===""||_n===hyphenate($n))&&(_n=!0))}return _n}const mixinPropsCache=new WeakMap;function normalizePropsOptions(Pn,Cn,$n=!1){const _n=$n?mixinPropsCache:Cn.propsCache,Rn=_n.get(Pn);if(Rn)return Rn;const Bn=Pn.props,Ln={},Dn=[];let Nn=!1;if(!isFunction$1(Pn)){const Wn=zn=>{Nn=!0;const[Yn,Gn]=normalizePropsOptions(zn,Cn,!0);extend(Ln,Yn),Gn&&Dn.push(...Gn)};!$n&&Cn.mixins.length&&Cn.mixins.forEach(Wn),Pn.extends&&Wn(Pn.extends),Pn.mixins&&Pn.mixins.forEach(Wn)}if(!Bn&&!Nn)return isObject$4(Pn)&&_n.set(Pn,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Bn))for(let Wn=0;Wn<Bn.length;Wn++){const zn=camelize(Bn[Wn]);validatePropName(zn)&&(Ln[zn]=EMPTY_OBJ)}else if(Bn)for(const Wn in Bn){const zn=camelize(Wn);if(validatePropName(zn)){const Yn=Bn[Wn],Gn=Ln[zn]=isArray$1(Yn)||isFunction$1(Yn)?{type:Yn}:extend({},Yn),ei=Gn.type;let ti=!1,ii=!0;if(isArray$1(ei))for(let oi=0;oi<ei.length;++oi){const ai=ei[oi],fi=isFunction$1(ai)&&ai.name;if(fi==="Boolean"){ti=!0;break}else fi==="String"&&(ii=!1)}else ti=isFunction$1(ei)&&ei.name==="Boolean";Gn[0]=ti,Gn[1]=ii,(ti||hasOwn(Gn,"default"))&&Dn.push(zn)}}const Fn=[Ln,Dn];return isObject$4(Pn)&&_n.set(Pn,Fn),Fn}function validatePropName(Pn){return Pn[0]!=="$"&&!isReservedProp(Pn)}const isInternalKey=Pn=>Pn[0]==="_"||Pn==="$stable",normalizeSlotValue=Pn=>isArray$1(Pn)?Pn.map(normalizeVNode):[normalizeVNode(Pn)],normalizeSlot=(Pn,Cn,$n)=>{if(Cn._n)return Cn;const _n=withCtx((...Rn)=>normalizeSlotValue(Cn(...Rn)),$n);return _n._c=!1,_n},normalizeObjectSlots=(Pn,Cn,$n)=>{const _n=Pn._ctx;for(const Rn in Pn){if(isInternalKey(Rn))continue;const Bn=Pn[Rn];if(isFunction$1(Bn))Cn[Rn]=normalizeSlot(Rn,Bn,_n);else if(Bn!=null){const Ln=normalizeSlotValue(Bn);Cn[Rn]=()=>Ln}}},normalizeVNodeSlots=(Pn,Cn)=>{const $n=normalizeSlotValue(Cn);Pn.slots.default=()=>$n},assignSlots=(Pn,Cn,$n)=>{for(const _n in Cn)($n||_n!=="_")&&(Pn[_n]=Cn[_n])},initSlots=(Pn,Cn,$n)=>{const _n=Pn.slots=createInternalObject();if(Pn.vnode.shapeFlag&32){const Rn=Cn._;Rn?(assignSlots(_n,Cn,$n),$n&&def(_n,"_",Rn,!0)):normalizeObjectSlots(Cn,_n)}else Cn&&normalizeVNodeSlots(Pn,Cn)},updateSlots=(Pn,Cn,$n)=>{const{vnode:_n,slots:Rn}=Pn;let Bn=!0,Ln=EMPTY_OBJ;if(_n.shapeFlag&32){const Dn=Cn._;Dn?$n&&Dn===1?Bn=!1:assignSlots(Rn,Cn,$n):(Bn=!Cn.$stable,normalizeObjectSlots(Cn,Rn)),Ln=Cn}else Cn&&(normalizeVNodeSlots(Pn,Cn),Ln={default:1});if(Bn)for(const Dn in Rn)!isInternalKey(Dn)&&Ln[Dn]==null&&delete Rn[Dn]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(Pn){return baseCreateRenderer(Pn)}function baseCreateRenderer(Pn,Cn){const $n=getGlobalThis();$n.__VUE__=!0;const{insert:_n,remove:Rn,patchProp:Bn,createElement:Ln,createText:Dn,createComment:Nn,setText:Fn,setElementText:Wn,parentNode:zn,nextSibling:Yn,setScopeId:Gn=NOOP,insertStaticContent:ei}=Pn,ti=(ci,pi,Si,Mi=null,Qi=null,Ai=null,Di=void 0,Vi=null,Ei=!!pi.dynamicChildren)=>{if(ci===pi)return;ci&&!isSameVNodeType(ci,pi)&&(Mi=vs(ci),ls(ci,Qi,Ai,!0),ci=null),pi.patchFlag===-2&&(Ei=!1,pi.dynamicChildren=null);const{type:Ti,ref:zi,shapeFlag:Ii}=pi;switch(Ti){case Text$1:ii(ci,pi,Si,Mi);break;case Comment:oi(ci,pi,Si,Mi);break;case Static:ci==null&&ai(pi,Si,Mi,Di);break;case Fragment:wi(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei);break;default:Ii&1?di(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei):Ii&6?Li(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei):(Ii&64||Ii&128)&&Ti.process(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei,pa)}zi!=null&&Qi&&setRef(zi,ci&&ci.ref,Ai,pi||ci,!pi)},ii=(ci,pi,Si,Mi)=>{if(ci==null)_n(pi.el=Dn(pi.children),Si,Mi);else{const Qi=pi.el=ci.el;pi.children!==ci.children&&Fn(Qi,pi.children)}},oi=(ci,pi,Si,Mi)=>{ci==null?_n(pi.el=Nn(pi.children||""),Si,Mi):pi.el=ci.el},ai=(ci,pi,Si,Mi)=>{[ci.el,ci.anchor]=ei(ci.children,pi,Si,Mi,ci.el,ci.anchor)},fi=({el:ci,anchor:pi},Si,Mi)=>{let Qi;for(;ci&&ci!==pi;)Qi=Yn(ci),_n(ci,Si,Mi),ci=Qi;_n(pi,Si,Mi)},ui=({el:ci,anchor:pi})=>{let Si;for(;ci&&ci!==pi;)Si=Yn(ci),Rn(ci),ci=Si;Rn(pi)},di=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei)=>{pi.type==="svg"?Di="svg":pi.type==="math"&&(Di="mathml"),ci==null?yi(pi,Si,Mi,Qi,Ai,Di,Vi,Ei):_i(ci,pi,Qi,Ai,Di,Vi,Ei)},yi=(ci,pi,Si,Mi,Qi,Ai,Di,Vi)=>{let Ei,Ti;const{props:zi,shapeFlag:Ii,transition:Yi,dirs:Ki}=ci;if(Ei=ci.el=Ln(ci.type,Ai,zi&&zi.is,zi),Ii&8?Wn(Ei,ci.children):Ii&16&&ki(ci.children,Ei,null,Mi,Qi,resolveChildrenNamespace(ci,Ai),Di,Vi),Ki&&invokeDirectiveHook(ci,null,Mi,"created"),mi(Ei,ci,ci.scopeId,Di,Mi),zi){for(const fs in zi)fs!=="value"&&!isReservedProp(fs)&&Bn(Ei,fs,null,zi[fs],Ai,Mi);"value"in zi&&Bn(Ei,"value",null,zi.value,Ai),(Ti=zi.onVnodeBeforeMount)&&invokeVNodeHook(Ti,Mi,ci)}Ki&&invokeDirectiveHook(ci,null,Mi,"beforeMount");const rs=needTransition(Qi,Yi);rs&&Yi.beforeEnter(Ei),_n(Ei,pi,Si),((Ti=zi&&zi.onVnodeMounted)||rs||Ki)&&queuePostRenderEffect(()=>{Ti&&invokeVNodeHook(Ti,Mi,ci),rs&&Yi.enter(Ei),Ki&&invokeDirectiveHook(ci,null,Mi,"mounted")},Qi)},mi=(ci,pi,Si,Mi,Qi)=>{if(Si&&Gn(ci,Si),Mi)for(let Ai=0;Ai<Mi.length;Ai++)Gn(ci,Mi[Ai]);if(Qi){let Ai=Qi.subTree;if(pi===Ai||isSuspense(Ai.type)&&(Ai.ssContent===pi||Ai.ssFallback===pi)){const Di=Qi.vnode;mi(ci,Di,Di.scopeId,Di.slotScopeIds,Qi.parent)}}},ki=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei=0)=>{for(let Ti=Ei;Ti<ci.length;Ti++){const zi=ci[Ti]=Vi?cloneIfMounted(ci[Ti]):normalizeVNode(ci[Ti]);ti(null,zi,pi,Si,Mi,Qi,Ai,Di,Vi)}},_i=(ci,pi,Si,Mi,Qi,Ai,Di)=>{const Vi=pi.el=ci.el;let{patchFlag:Ei,dynamicChildren:Ti,dirs:zi}=pi;Ei|=ci.patchFlag&16;const Ii=ci.props||EMPTY_OBJ,Yi=pi.props||EMPTY_OBJ;let Ki;if(Si&&toggleRecurse(Si,!1),(Ki=Yi.onVnodeBeforeUpdate)&&invokeVNodeHook(Ki,Si,pi,ci),zi&&invokeDirectiveHook(pi,ci,Si,"beforeUpdate"),Si&&toggleRecurse(Si,!0),(Ii.innerHTML&&Yi.innerHTML==null||Ii.textContent&&Yi.textContent==null)&&Wn(Vi,""),Ti?Pi(ci.dynamicChildren,Ti,Vi,Si,Mi,resolveChildrenNamespace(pi,Qi),Ai):Di||Ji(ci,pi,Vi,null,Si,Mi,resolveChildrenNamespace(pi,Qi),Ai,!1),Ei>0){if(Ei&16)Oi(Vi,Ii,Yi,Si,Qi);else if(Ei&2&&Ii.class!==Yi.class&&Bn(Vi,"class",null,Yi.class,Qi),Ei&4&&Bn(Vi,"style",Ii.style,Yi.style,Qi),Ei&8){const rs=pi.dynamicProps;for(let fs=0;fs<rs.length;fs++){const os=rs[fs],As=Ii[os],Ps=Yi[os];(Ps!==As||os==="value")&&Bn(Vi,os,As,Ps,Qi,Si)}}Ei&1&&ci.children!==pi.children&&Wn(Vi,pi.children)}else!Di&&Ti==null&&Oi(Vi,Ii,Yi,Si,Qi);((Ki=Yi.onVnodeUpdated)||zi)&&queuePostRenderEffect(()=>{Ki&&invokeVNodeHook(Ki,Si,pi,ci),zi&&invokeDirectiveHook(pi,ci,Si,"updated")},Mi)},Pi=(ci,pi,Si,Mi,Qi,Ai,Di)=>{for(let Vi=0;Vi<pi.length;Vi++){const Ei=ci[Vi],Ti=pi[Vi],zi=Ei.el&&(Ei.type===Fragment||!isSameVNodeType(Ei,Ti)||Ei.shapeFlag&70)?zn(Ei.el):Si;ti(Ei,Ti,zi,null,Mi,Qi,Ai,Di,!0)}},Oi=(ci,pi,Si,Mi,Qi)=>{if(pi!==Si){if(pi!==EMPTY_OBJ)for(const Ai in pi)!isReservedProp(Ai)&&!(Ai in Si)&&Bn(ci,Ai,pi[Ai],null,Qi,Mi);for(const Ai in Si){if(isReservedProp(Ai))continue;const Di=Si[Ai],Vi=pi[Ai];Di!==Vi&&Ai!=="value"&&Bn(ci,Ai,Vi,Di,Qi,Mi)}"value"in Si&&Bn(ci,"value",pi.value,Si.value,Qi)}},wi=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei)=>{const Ti=pi.el=ci?ci.el:Dn(""),zi=pi.anchor=ci?ci.anchor:Dn("");let{patchFlag:Ii,dynamicChildren:Yi,slotScopeIds:Ki}=pi;Ki&&(Vi=Vi?Vi.concat(Ki):Ki),ci==null?(_n(Ti,Si,Mi),_n(zi,Si,Mi),ki(pi.children||[],Si,zi,Qi,Ai,Di,Vi,Ei)):Ii>0&&Ii&64&&Yi&&ci.dynamicChildren?(Pi(ci.dynamicChildren,Yi,Si,Qi,Ai,Di,Vi),(pi.key!=null||Qi&&pi===Qi.subTree)&&traverseStaticChildren(ci,pi,!0)):Ji(ci,pi,Si,zi,Qi,Ai,Di,Vi,Ei)},Li=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei)=>{pi.slotScopeIds=Vi,ci==null?pi.shapeFlag&512?Qi.ctx.activate(pi,Si,Mi,Di,Ei):Xi(pi,Si,Mi,Qi,Ai,Di,Ei):qi(ci,pi,Ei)},Xi=(ci,pi,Si,Mi,Qi,Ai,Di)=>{const Vi=ci.component=createComponentInstance(ci,Mi,Qi);if(isKeepAlive(ci)&&(Vi.ctx.renderer=pa),setupComponent(Vi,!1,Di),Vi.asyncDep){if(Qi&&Qi.registerDep(Vi,Gi,Di),!ci.el){const Ei=Vi.subTree=createVNode(Comment);oi(null,Ei,pi,Si)}}else Gi(Vi,ci,pi,Si,Qi,Ai,Di)},qi=(ci,pi,Si)=>{const Mi=pi.component=ci.component;if(shouldUpdateComponent(ci,pi,Si))if(Mi.asyncDep&&!Mi.asyncResolved){ji(Mi,pi,Si);return}else Mi.next=pi,Mi.update();else pi.el=ci.el,Mi.vnode=pi},Gi=(ci,pi,Si,Mi,Qi,Ai,Di)=>{const Vi=()=>{if(ci.isMounted){let{next:Ii,bu:Yi,u:Ki,parent:rs,vnode:fs}=ci;{const Ns=locateNonHydratedAsyncRoot(ci);if(Ns){Ii&&(Ii.el=fs.el,ji(ci,Ii,Di)),Ns.asyncDep.then(()=>{ci.isUnmounted||Vi()});return}}let os=Ii,As;toggleRecurse(ci,!1),Ii?(Ii.el=fs.el,ji(ci,Ii,Di)):Ii=fs,Yi&&invokeArrayFns(Yi),(As=Ii.props&&Ii.props.onVnodeBeforeUpdate)&&invokeVNodeHook(As,rs,Ii,fs),toggleRecurse(ci,!0);const Ps=renderComponentRoot(ci),Is=ci.subTree;ci.subTree=Ps,ti(Is,Ps,zn(Is.el),vs(Is),ci,Qi,Ai),Ii.el=Ps.el,os===null&&updateHOCHostEl(ci,Ps.el),Ki&&queuePostRenderEffect(Ki,Qi),(As=Ii.props&&Ii.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(As,rs,Ii,fs),Qi)}else{let Ii;const{el:Yi,props:Ki}=pi,{bm:rs,m:fs,parent:os,root:As,type:Ps}=ci,Is=isAsyncWrapper(pi);toggleRecurse(ci,!1),rs&&invokeArrayFns(rs),!Is&&(Ii=Ki&&Ki.onVnodeBeforeMount)&&invokeVNodeHook(Ii,os,pi),toggleRecurse(ci,!0);{As.ce&&As.ce._injectChildStyle(Ps);const Ns=ci.subTree=renderComponentRoot(ci);ti(null,Ns,Si,Mi,ci,Qi,Ai),pi.el=Ns.el}if(fs&&queuePostRenderEffect(fs,Qi),!Is&&(Ii=Ki&&Ki.onVnodeMounted)){const Ns=pi;queuePostRenderEffect(()=>invokeVNodeHook(Ii,os,Ns),Qi)}(pi.shapeFlag&256||os&&isAsyncWrapper(os.vnode)&&os.vnode.shapeFlag&256)&&ci.a&&queuePostRenderEffect(ci.a,Qi),ci.isMounted=!0,pi=Si=Mi=null}};ci.scope.on();const Ei=ci.effect=new ReactiveEffect(Vi);ci.scope.off();const Ti=ci.update=Ei.run.bind(Ei),zi=ci.job=Ei.runIfDirty.bind(Ei);zi.i=ci,zi.id=ci.uid,Ei.scheduler=()=>queueJob(zi),toggleRecurse(ci,!0),Ti()},ji=(ci,pi,Si)=>{pi.component=ci;const Mi=ci.vnode.props;ci.vnode=pi,ci.next=null,updateProps(ci,pi.props,Mi,Si),updateSlots(ci,pi.children,Si),pauseTracking(),flushPreFlushCbs(ci),resetTracking()},Ji=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei=!1)=>{const Ti=ci&&ci.children,zi=ci?ci.shapeFlag:0,Ii=pi.children,{patchFlag:Yi,shapeFlag:Ki}=pi;if(Yi>0){if(Yi&128){Zo(Ti,Ii,Si,Mi,Qi,Ai,Di,Vi,Ei);return}else if(Yi&256){ns(Ti,Ii,Si,Mi,Qi,Ai,Di,Vi,Ei);return}}Ki&8?(zi&16&&as(Ti,Qi,Ai),Ii!==Ti&&Wn(Si,Ii)):zi&16?Ki&16?Zo(Ti,Ii,Si,Mi,Qi,Ai,Di,Vi,Ei):as(Ti,Qi,Ai,!0):(zi&8&&Wn(Si,""),Ki&16&&ki(Ii,Si,Mi,Qi,Ai,Di,Vi,Ei))},ns=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei)=>{ci=ci||EMPTY_ARR,pi=pi||EMPTY_ARR;const Ti=ci.length,zi=pi.length,Ii=Math.min(Ti,zi);let Yi;for(Yi=0;Yi<Ii;Yi++){const Ki=pi[Yi]=Ei?cloneIfMounted(pi[Yi]):normalizeVNode(pi[Yi]);ti(ci[Yi],Ki,Si,null,Qi,Ai,Di,Vi,Ei)}Ti>zi?as(ci,Qi,Ai,!0,!1,Ii):ki(pi,Si,Mi,Qi,Ai,Di,Vi,Ei,Ii)},Zo=(ci,pi,Si,Mi,Qi,Ai,Di,Vi,Ei)=>{let Ti=0;const zi=pi.length;let Ii=ci.length-1,Yi=zi-1;for(;Ti<=Ii&&Ti<=Yi;){const Ki=ci[Ti],rs=pi[Ti]=Ei?cloneIfMounted(pi[Ti]):normalizeVNode(pi[Ti]);if(isSameVNodeType(Ki,rs))ti(Ki,rs,Si,null,Qi,Ai,Di,Vi,Ei);else break;Ti++}for(;Ti<=Ii&&Ti<=Yi;){const Ki=ci[Ii],rs=pi[Yi]=Ei?cloneIfMounted(pi[Yi]):normalizeVNode(pi[Yi]);if(isSameVNodeType(Ki,rs))ti(Ki,rs,Si,null,Qi,Ai,Di,Vi,Ei);else break;Ii--,Yi--}if(Ti>Ii){if(Ti<=Yi){const Ki=Yi+1,rs=Ki<zi?pi[Ki].el:Mi;for(;Ti<=Yi;)ti(null,pi[Ti]=Ei?cloneIfMounted(pi[Ti]):normalizeVNode(pi[Ti]),Si,rs,Qi,Ai,Di,Vi,Ei),Ti++}}else if(Ti>Yi)for(;Ti<=Ii;)ls(ci[Ti],Qi,Ai,!0),Ti++;else{const Ki=Ti,rs=Ti,fs=new Map;for(Ti=rs;Ti<=Yi;Ti++){const Qs=pi[Ti]=Ei?cloneIfMounted(pi[Ti]):normalizeVNode(pi[Ti]);Qs.key!=null&&fs.set(Qs.key,Ti)}let os,As=0;const Ps=Yi-rs+1;let Is=!1,Ns=0;const ma=new Array(Ps);for(Ti=0;Ti<Ps;Ti++)ma[Ti]=0;for(Ti=Ki;Ti<=Ii;Ti++){const Qs=ci[Ti];if(As>=Ps){ls(Qs,Qi,Ai,!0);continue}let Zs;if(Qs.key!=null)Zs=fs.get(Qs.key);else for(os=rs;os<=Yi;os++)if(ma[os-rs]===0&&isSameVNodeType(Qs,pi[os])){Zs=os;break}Zs===void 0?ls(Qs,Qi,Ai,!0):(ma[Zs-rs]=Ti+1,Zs>=Ns?Ns=Zs:Is=!0,ti(Qs,pi[Zs],Si,null,Qi,Ai,Di,Vi,Ei),As++)}const Wa=Is?getSequence(ma):EMPTY_ARR;for(os=Wa.length-1,Ti=Ps-1;Ti>=0;Ti--){const Qs=rs+Ti,Zs=pi[Qs],ja=Qs+1<zi?pi[Qs+1].el:Mi;ma[Ti]===0?ti(null,Zs,Si,ja,Qi,Ai,Di,Vi,Ei):Is&&(os<0||Ti!==Wa[os]?Ui(Zs,Si,ja,2):os--)}}},Ui=(ci,pi,Si,Mi,Qi=null)=>{const{el:Ai,type:Di,transition:Vi,children:Ei,shapeFlag:Ti}=ci;if(Ti&6){Ui(ci.component.subTree,pi,Si,Mi);return}if(Ti&128){ci.suspense.move(pi,Si,Mi);return}if(Ti&64){Di.move(ci,pi,Si,pa);return}if(Di===Fragment){_n(Ai,pi,Si);for(let Ii=0;Ii<Ei.length;Ii++)Ui(Ei[Ii],pi,Si,Mi);_n(ci.anchor,pi,Si);return}if(Di===Static){fi(ci,pi,Si);return}if(Mi!==2&&Ti&1&&Vi)if(Mi===0)Vi.beforeEnter(Ai),_n(Ai,pi,Si),queuePostRenderEffect(()=>Vi.enter(Ai),Qi);else{const{leave:Ii,delayLeave:Yi,afterLeave:Ki}=Vi,rs=()=>_n(Ai,pi,Si),fs=()=>{Ii(Ai,()=>{rs(),Ki&&Ki()})};Yi?Yi(Ai,rs,fs):fs()}else _n(Ai,pi,Si)},ls=(ci,pi,Si,Mi=!1,Qi=!1)=>{const{type:Ai,props:Di,ref:Vi,children:Ei,dynamicChildren:Ti,shapeFlag:zi,patchFlag:Ii,dirs:Yi,cacheIndex:Ki}=ci;if(Ii===-2&&(Qi=!1),Vi!=null&&setRef(Vi,null,Si,ci,!0),Ki!=null&&(pi.renderCache[Ki]=void 0),zi&256){pi.ctx.deactivate(ci);return}const rs=zi&1&&Yi,fs=!isAsyncWrapper(ci);let os;if(fs&&(os=Di&&Di.onVnodeBeforeUnmount)&&invokeVNodeHook(os,pi,ci),zi&6)Hi(ci.component,Si,Mi);else{if(zi&128){ci.suspense.unmount(Si,Mi);return}rs&&invokeDirectiveHook(ci,null,pi,"beforeUnmount"),zi&64?ci.type.remove(ci,pi,Si,pa,Mi):Ti&&!Ti.hasOnce&&(Ai!==Fragment||Ii>0&&Ii&64)?as(Ti,pi,Si,!1,!0):(Ai===Fragment&&Ii&384||!Qi&&zi&16)&&as(Ei,pi,Si),Mi&&Bi(ci)}(fs&&(os=Di&&Di.onVnodeUnmounted)||rs)&&queuePostRenderEffect(()=>{os&&invokeVNodeHook(os,pi,ci),rs&&invokeDirectiveHook(ci,null,pi,"unmounted")},Si)},Bi=ci=>{const{type:pi,el:Si,anchor:Mi,transition:Qi}=ci;if(pi===Fragment){Fi(Si,Mi);return}if(pi===Static){ui(ci);return}const Ai=()=>{Rn(Si),Qi&&!Qi.persisted&&Qi.afterLeave&&Qi.afterLeave()};if(ci.shapeFlag&1&&Qi&&!Qi.persisted){const{leave:Di,delayLeave:Vi}=Qi,Ei=()=>Di(Si,Ai);Vi?Vi(ci.el,Ai,Ei):Ei()}else Ai()},Fi=(ci,pi)=>{let Si;for(;ci!==pi;)Si=Yn(ci),Rn(ci),ci=Si;Rn(pi)},Hi=(ci,pi,Si)=>{const{bum:Mi,scope:Qi,job:Ai,subTree:Di,um:Vi,m:Ei,a:Ti}=ci;invalidateMount(Ei),invalidateMount(Ti),Mi&&invokeArrayFns(Mi),Qi.stop(),Ai&&(Ai.flags|=8,ls(Di,ci,pi,Si)),Vi&&queuePostRenderEffect(Vi,pi),queuePostRenderEffect(()=>{ci.isUnmounted=!0},pi),pi&&pi.pendingBranch&&!pi.isUnmounted&&ci.asyncDep&&!ci.asyncResolved&&ci.suspenseId===pi.pendingId&&(pi.deps--,pi.deps===0&&pi.resolve())},as=(ci,pi,Si,Mi=!1,Qi=!1,Ai=0)=>{for(let Di=Ai;Di<ci.length;Di++)ls(ci[Di],pi,Si,Mi,Qi)},vs=ci=>{if(ci.shapeFlag&6)return vs(ci.component.subTree);if(ci.shapeFlag&128)return ci.suspense.next();const pi=Yn(ci.anchor||ci.el),Si=pi&&pi[TeleportEndKey];return Si?Yn(Si):pi};let _s=!1;const Ks=(ci,pi,Si)=>{ci==null?pi._vnode&&ls(pi._vnode,null,null,!0):ti(pi._vnode||null,ci,pi,null,null,null,Si),pi._vnode=ci,_s||(_s=!0,flushPreFlushCbs(),flushPostFlushCbs(),_s=!1)},pa={p:ti,um:ls,m:Ui,r:Bi,mt:Xi,mc:ki,pc:Ji,pbc:Pi,n:vs,o:Pn};return{render:Ks,hydrate:void 0,createApp:createAppAPI(Ks)}}function resolveChildrenNamespace({type:Pn,props:Cn},$n){return $n==="svg"&&Pn==="foreignObject"||$n==="mathml"&&Pn==="annotation-xml"&&Cn&&Cn.encoding&&Cn.encoding.includes("html")?void 0:$n}function toggleRecurse({effect:Pn,job:Cn},$n){$n?(Pn.flags|=32,Cn.flags|=4):(Pn.flags&=-33,Cn.flags&=-5)}function needTransition(Pn,Cn){return(!Pn||Pn&&!Pn.pendingBranch)&&Cn&&!Cn.persisted}function traverseStaticChildren(Pn,Cn,$n=!1){const _n=Pn.children,Rn=Cn.children;if(isArray$1(_n)&&isArray$1(Rn))for(let Bn=0;Bn<_n.length;Bn++){const Ln=_n[Bn];let Dn=Rn[Bn];Dn.shapeFlag&1&&!Dn.dynamicChildren&&((Dn.patchFlag<=0||Dn.patchFlag===32)&&(Dn=Rn[Bn]=cloneIfMounted(Rn[Bn]),Dn.el=Ln.el),!$n&&Dn.patchFlag!==-2&&traverseStaticChildren(Ln,Dn)),Dn.type===Text$1&&(Dn.el=Ln.el)}}function getSequence(Pn){const Cn=Pn.slice(),$n=[0];let _n,Rn,Bn,Ln,Dn;const Nn=Pn.length;for(_n=0;_n<Nn;_n++){const Fn=Pn[_n];if(Fn!==0){if(Rn=$n[$n.length-1],Pn[Rn]<Fn){Cn[_n]=Rn,$n.push(_n);continue}for(Bn=0,Ln=$n.length-1;Bn<Ln;)Dn=Bn+Ln>>1,Pn[$n[Dn]]<Fn?Bn=Dn+1:Ln=Dn;Fn<Pn[$n[Bn]]&&(Bn>0&&(Cn[_n]=$n[Bn-1]),$n[Bn]=_n)}}for(Bn=$n.length,Ln=$n[Bn-1];Bn-- >0;)$n[Bn]=Ln,Ln=Cn[Ln];return $n}function locateNonHydratedAsyncRoot(Pn){const Cn=Pn.subTree.component;if(Cn)return Cn.asyncDep&&!Cn.asyncResolved?Cn:locateNonHydratedAsyncRoot(Cn)}function invalidateMount(Pn){if(Pn)for(let Cn=0;Cn<Pn.length;Cn++)Pn[Cn].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(Pn,Cn,$n){return doWatch(Pn,Cn,$n)}function doWatch(Pn,Cn,$n=EMPTY_OBJ){const{immediate:_n,deep:Rn,flush:Bn,once:Ln}=$n,Dn=extend({},$n),Nn=Cn&&_n||!Cn&&Bn!=="post";let Fn;if(isInSSRComponentSetup){if(Bn==="sync"){const Gn=useSSRContext();Fn=Gn.__watcherHandles||(Gn.__watcherHandles=[])}else if(!Nn){const Gn=()=>{};return Gn.stop=NOOP,Gn.resume=NOOP,Gn.pause=NOOP,Gn}}const Wn=currentInstance;Dn.call=(Gn,ei,ti)=>callWithAsyncErrorHandling(Gn,Wn,ei,ti);let zn=!1;Bn==="post"?Dn.scheduler=Gn=>{queuePostRenderEffect(Gn,Wn&&Wn.suspense)}:Bn!=="sync"&&(zn=!0,Dn.scheduler=(Gn,ei)=>{ei?Gn():queueJob(Gn)}),Dn.augmentJob=Gn=>{Cn&&(Gn.flags|=4),zn&&(Gn.flags|=2,Wn&&(Gn.id=Wn.uid,Gn.i=Wn))};const Yn=watch$1(Pn,Cn,Dn);return isInSSRComponentSetup&&(Fn?Fn.push(Yn):Nn&&Yn()),Yn}function instanceWatch(Pn,Cn,$n){const _n=this.proxy,Rn=isString(Pn)?Pn.includes(".")?createPathGetter(_n,Pn):()=>_n[Pn]:Pn.bind(_n,_n);let Bn;isFunction$1(Cn)?Bn=Cn:(Bn=Cn.handler,$n=Cn);const Ln=setCurrentInstance(this),Dn=doWatch(Rn,Bn.bind(_n),$n);return Ln(),Dn}function createPathGetter(Pn,Cn){const $n=Cn.split(".");return()=>{let _n=Pn;for(let Rn=0;Rn<$n.length&&_n;Rn++)_n=_n[$n[Rn]];return _n}}const getModelModifiers=(Pn,Cn)=>Cn==="modelValue"||Cn==="model-value"?Pn.modelModifiers:Pn[`${Cn}Modifiers`]||Pn[`${camelize(Cn)}Modifiers`]||Pn[`${hyphenate(Cn)}Modifiers`];function emit(Pn,Cn,...$n){if(Pn.isUnmounted)return;const _n=Pn.vnode.props||EMPTY_OBJ;let Rn=$n;const Bn=Cn.startsWith("update:"),Ln=Bn&&getModelModifiers(_n,Cn.slice(7));Ln&&(Ln.trim&&(Rn=$n.map(Wn=>isString(Wn)?Wn.trim():Wn)),Ln.number&&(Rn=$n.map(looseToNumber)));let Dn,Nn=_n[Dn=toHandlerKey(Cn)]||_n[Dn=toHandlerKey(camelize(Cn))];!Nn&&Bn&&(Nn=_n[Dn=toHandlerKey(hyphenate(Cn))]),Nn&&callWithAsyncErrorHandling(Nn,Pn,6,Rn);const Fn=_n[Dn+"Once"];if(Fn){if(!Pn.emitted)Pn.emitted={};else if(Pn.emitted[Dn])return;Pn.emitted[Dn]=!0,callWithAsyncErrorHandling(Fn,Pn,6,Rn)}}function normalizeEmitsOptions(Pn,Cn,$n=!1){const _n=Cn.emitsCache,Rn=_n.get(Pn);if(Rn!==void 0)return Rn;const Bn=Pn.emits;let Ln={},Dn=!1;if(!isFunction$1(Pn)){const Nn=Fn=>{const Wn=normalizeEmitsOptions(Fn,Cn,!0);Wn&&(Dn=!0,extend(Ln,Wn))};!$n&&Cn.mixins.length&&Cn.mixins.forEach(Nn),Pn.extends&&Nn(Pn.extends),Pn.mixins&&Pn.mixins.forEach(Nn)}return!Bn&&!Dn?(isObject$4(Pn)&&_n.set(Pn,null),null):(isArray$1(Bn)?Bn.forEach(Nn=>Ln[Nn]=null):extend(Ln,Bn),isObject$4(Pn)&&_n.set(Pn,Ln),Ln)}function isEmitListener(Pn,Cn){return!Pn||!isOn(Cn)?!1:(Cn=Cn.slice(2).replace(/Once$/,""),hasOwn(Pn,Cn[0].toLowerCase()+Cn.slice(1))||hasOwn(Pn,hyphenate(Cn))||hasOwn(Pn,Cn))}function markAttrsAccessed(){}function renderComponentRoot(Pn){const{type:Cn,vnode:$n,proxy:_n,withProxy:Rn,propsOptions:[Bn],slots:Ln,attrs:Dn,emit:Nn,render:Fn,renderCache:Wn,props:zn,data:Yn,setupState:Gn,ctx:ei,inheritAttrs:ti}=Pn,ii=setCurrentRenderingInstance(Pn);let oi,ai;try{if($n.shapeFlag&4){const ui=Rn||_n,di=ui;oi=normalizeVNode(Fn.call(di,ui,Wn,zn,Gn,Yn,ei)),ai=Dn}else{const ui=Cn;oi=normalizeVNode(ui.length>1?ui(zn,{attrs:Dn,slots:Ln,emit:Nn}):ui(zn,null)),ai=Cn.props?Dn:getFunctionalFallthrough(Dn)}}catch(ui){blockStack.length=0,handleError(ui,Pn,1),oi=createVNode(Comment)}let fi=oi;if(ai&&ti!==!1){const ui=Object.keys(ai),{shapeFlag:di}=fi;ui.length&&di&7&&(Bn&&ui.some(isModelListener)&&(ai=filterModelListeners(ai,Bn)),fi=cloneVNode(fi,ai,!1,!0))}return $n.dirs&&(fi=cloneVNode(fi,null,!1,!0),fi.dirs=fi.dirs?fi.dirs.concat($n.dirs):$n.dirs),$n.transition&&setTransitionHooks(fi,$n.transition),oi=fi,setCurrentRenderingInstance(ii),oi}const getFunctionalFallthrough=Pn=>{let Cn;for(const $n in Pn)($n==="class"||$n==="style"||isOn($n))&&((Cn||(Cn={}))[$n]=Pn[$n]);return Cn},filterModelListeners=(Pn,Cn)=>{const $n={};for(const _n in Pn)(!isModelListener(_n)||!(_n.slice(9)in Cn))&&($n[_n]=Pn[_n]);return $n};function shouldUpdateComponent(Pn,Cn,$n){const{props:_n,children:Rn,component:Bn}=Pn,{props:Ln,children:Dn,patchFlag:Nn}=Cn,Fn=Bn.emitsOptions;if(Cn.dirs||Cn.transition)return!0;if($n&&Nn>=0){if(Nn&1024)return!0;if(Nn&16)return _n?hasPropsChanged(_n,Ln,Fn):!!Ln;if(Nn&8){const Wn=Cn.dynamicProps;for(let zn=0;zn<Wn.length;zn++){const Yn=Wn[zn];if(Ln[Yn]!==_n[Yn]&&!isEmitListener(Fn,Yn))return!0}}}else return(Rn||Dn)&&(!Dn||!Dn.$stable)?!0:_n===Ln?!1:_n?Ln?hasPropsChanged(_n,Ln,Fn):!0:!!Ln;return!1}function hasPropsChanged(Pn,Cn,$n){const _n=Object.keys(Cn);if(_n.length!==Object.keys(Pn).length)return!0;for(let Rn=0;Rn<_n.length;Rn++){const Bn=_n[Rn];if(Cn[Bn]!==Pn[Bn]&&!isEmitListener($n,Bn))return!0}return!1}function updateHOCHostEl({vnode:Pn,parent:Cn},$n){for(;Cn;){const _n=Cn.subTree;if(_n.suspense&&_n.suspense.activeBranch===Pn&&(_n.el=Pn.el),_n===Pn)(Pn=Cn.vnode).el=$n,Cn=Cn.parent;else break}}const isSuspense=Pn=>Pn.__isSuspense;function queueEffectWithSuspense(Pn,Cn){Cn&&Cn.pendingBranch?isArray$1(Pn)?Cn.effects.push(...Pn):Cn.effects.push(Pn):queuePostFlushCb(Pn)}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(Pn=!1){blockStack.push(currentBlock=Pn?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(Pn,Cn=!1){isBlockTreeEnabled+=Pn,Pn<0&&currentBlock&&Cn&&(currentBlock.hasOnce=!0)}function setupBlock(Pn){return Pn.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(Pn),Pn}function createElementBlock(Pn,Cn,$n,_n,Rn,Bn){return setupBlock(createBaseVNode(Pn,Cn,$n,_n,Rn,Bn,!0))}function createBlock(Pn,Cn,$n,_n,Rn){return setupBlock(createVNode(Pn,Cn,$n,_n,Rn,!0))}function isVNode(Pn){return Pn?Pn.__v_isVNode===!0:!1}function isSameVNodeType(Pn,Cn){return Pn.type===Cn.type&&Pn.key===Cn.key}const normalizeKey=({key:Pn})=>Pn??null,normalizeRef=({ref:Pn,ref_key:Cn,ref_for:$n})=>(typeof Pn=="number"&&(Pn=""+Pn),Pn!=null?isString(Pn)||isRef(Pn)||isFunction$1(Pn)?{i:currentRenderingInstance,r:Pn,k:Cn,f:!!$n}:Pn:null);function createBaseVNode(Pn,Cn=null,$n=null,_n=0,Rn=null,Bn=Pn===Fragment?0:1,Ln=!1,Dn=!1){const Nn={__v_isVNode:!0,__v_skip:!0,type:Pn,props:Cn,key:Cn&&normalizeKey(Cn),ref:Cn&&normalizeRef(Cn),scopeId:currentScopeId,slotScopeIds:null,children:$n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:Bn,patchFlag:_n,dynamicProps:Rn,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Dn?(normalizeChildren(Nn,$n),Bn&128&&Pn.normalize(Nn)):$n&&(Nn.shapeFlag|=isString($n)?8:16),isBlockTreeEnabled>0&&!Ln&&currentBlock&&(Nn.patchFlag>0||Bn&6)&&Nn.patchFlag!==32&&currentBlock.push(Nn),Nn}const createVNode=_createVNode;function _createVNode(Pn,Cn=null,$n=null,_n=0,Rn=null,Bn=!1){if((!Pn||Pn===NULL_DYNAMIC_COMPONENT)&&(Pn=Comment),isVNode(Pn)){const Dn=cloneVNode(Pn,Cn,!0);return $n&&normalizeChildren(Dn,$n),isBlockTreeEnabled>0&&!Bn&&currentBlock&&(Dn.shapeFlag&6?currentBlock[currentBlock.indexOf(Pn)]=Dn:currentBlock.push(Dn)),Dn.patchFlag=-2,Dn}if(isClassComponent(Pn)&&(Pn=Pn.__vccOpts),Cn){Cn=guardReactiveProps(Cn);let{class:Dn,style:Nn}=Cn;Dn&&!isString(Dn)&&(Cn.class=normalizeClass(Dn)),isObject$4(Nn)&&(isProxy(Nn)&&!isArray$1(Nn)&&(Nn=extend({},Nn)),Cn.style=normalizeStyle(Nn))}const Ln=isString(Pn)?1:isSuspense(Pn)?128:isTeleport(Pn)?64:isObject$4(Pn)?4:isFunction$1(Pn)?2:0;return createBaseVNode(Pn,Cn,$n,_n,Rn,Ln,Bn,!0)}function guardReactiveProps(Pn){return Pn?isProxy(Pn)||isInternalObject(Pn)?extend({},Pn):Pn:null}function cloneVNode(Pn,Cn,$n=!1,_n=!1){const{props:Rn,ref:Bn,patchFlag:Ln,children:Dn,transition:Nn}=Pn,Fn=Cn?mergeProps(Rn||{},Cn):Rn,Wn={__v_isVNode:!0,__v_skip:!0,type:Pn.type,props:Fn,key:Fn&&normalizeKey(Fn),ref:Cn&&Cn.ref?$n&&Bn?isArray$1(Bn)?Bn.concat(normalizeRef(Cn)):[Bn,normalizeRef(Cn)]:normalizeRef(Cn):Bn,scopeId:Pn.scopeId,slotScopeIds:Pn.slotScopeIds,children:Dn,target:Pn.target,targetStart:Pn.targetStart,targetAnchor:Pn.targetAnchor,staticCount:Pn.staticCount,shapeFlag:Pn.shapeFlag,patchFlag:Cn&&Pn.type!==Fragment?Ln===-1?16:Ln|16:Ln,dynamicProps:Pn.dynamicProps,dynamicChildren:Pn.dynamicChildren,appContext:Pn.appContext,dirs:Pn.dirs,transition:Nn,component:Pn.component,suspense:Pn.suspense,ssContent:Pn.ssContent&&cloneVNode(Pn.ssContent),ssFallback:Pn.ssFallback&&cloneVNode(Pn.ssFallback),el:Pn.el,anchor:Pn.anchor,ctx:Pn.ctx,ce:Pn.ce};return Nn&&_n&&setTransitionHooks(Wn,Nn.clone(Wn)),Wn}function createTextVNode(Pn=" ",Cn=0){return createVNode(Text$1,null,Pn,Cn)}function createCommentVNode(Pn="",Cn=!1){return Cn?(openBlock(),createBlock(Comment,null,Pn)):createVNode(Comment,null,Pn)}function normalizeVNode(Pn){return Pn==null||typeof Pn=="boolean"?createVNode(Comment):isArray$1(Pn)?createVNode(Fragment,null,Pn.slice()):isVNode(Pn)?cloneIfMounted(Pn):createVNode(Text$1,null,String(Pn))}function cloneIfMounted(Pn){return Pn.el===null&&Pn.patchFlag!==-1||Pn.memo?Pn:cloneVNode(Pn)}function normalizeChildren(Pn,Cn){let $n=0;const{shapeFlag:_n}=Pn;if(Cn==null)Cn=null;else if(isArray$1(Cn))$n=16;else if(typeof Cn=="object")if(_n&65){const Rn=Cn.default;Rn&&(Rn._c&&(Rn._d=!1),normalizeChildren(Pn,Rn()),Rn._c&&(Rn._d=!0));return}else{$n=32;const Rn=Cn._;!Rn&&!isInternalObject(Cn)?Cn._ctx=currentRenderingInstance:Rn===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?Cn._=1:(Cn._=2,Pn.patchFlag|=1024))}else isFunction$1(Cn)?(Cn={default:Cn,_ctx:currentRenderingInstance},$n=32):(Cn=String(Cn),_n&64?($n=16,Cn=[createTextVNode(Cn)]):$n=8);Pn.children=Cn,Pn.shapeFlag|=$n}function mergeProps(...Pn){const Cn={};for(let $n=0;$n<Pn.length;$n++){const _n=Pn[$n];for(const Rn in _n)if(Rn==="class")Cn.class!==_n.class&&(Cn.class=normalizeClass([Cn.class,_n.class]));else if(Rn==="style")Cn.style=normalizeStyle([Cn.style,_n.style]);else if(isOn(Rn)){const Bn=Cn[Rn],Ln=_n[Rn];Ln&&Bn!==Ln&&!(isArray$1(Bn)&&Bn.includes(Ln))&&(Cn[Rn]=Bn?[].concat(Bn,Ln):Ln)}else Rn!==""&&(Cn[Rn]=_n[Rn])}return Cn}function invokeVNodeHook(Pn,Cn,$n,_n=null){callWithAsyncErrorHandling(Pn,Cn,7,[$n,_n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(Pn,Cn,$n){const _n=Pn.type,Rn=(Cn?Cn.appContext:Pn.appContext)||emptyAppContext,Bn={uid:uid++,vnode:Pn,type:_n,parent:Cn,appContext:Rn,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:Cn?Cn.provides:Object.create(Rn.provides),ids:Cn?Cn.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(_n,Rn),emitsOptions:normalizeEmitsOptions(_n,Rn),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:_n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:$n,suspenseId:$n?$n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Bn.ctx={_:Bn},Bn.root=Cn?Cn.root:Bn,Bn.emit=emit.bind(null,Bn),Pn.ce&&Pn.ce(Bn),Bn}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const Pn=getGlobalThis(),Cn=($n,_n)=>{let Rn;return(Rn=Pn[$n])||(Rn=Pn[$n]=[]),Rn.push(_n),Bn=>{Rn.length>1?Rn.forEach(Ln=>Ln(Bn)):Rn[0](Bn)}};internalSetCurrentInstance=Cn("__VUE_INSTANCE_SETTERS__",$n=>currentInstance=$n),setInSSRSetupState=Cn("__VUE_SSR_SETTERS__",$n=>isInSSRComponentSetup=$n)}const setCurrentInstance=Pn=>{const Cn=currentInstance;return internalSetCurrentInstance(Pn),Pn.scope.on(),()=>{Pn.scope.off(),internalSetCurrentInstance(Cn)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(Pn){return Pn.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(Pn,Cn=!1,$n=!1){Cn&&setInSSRSetupState(Cn);const{props:_n,children:Rn}=Pn.vnode,Bn=isStatefulComponent(Pn);initProps(Pn,_n,Bn,Cn),initSlots(Pn,Rn,$n);const Ln=Bn?setupStatefulComponent(Pn,Cn):void 0;return Cn&&setInSSRSetupState(!1),Ln}function setupStatefulComponent(Pn,Cn){const $n=Pn.type;Pn.accessCache=Object.create(null),Pn.proxy=new Proxy(Pn.ctx,PublicInstanceProxyHandlers);const{setup:_n}=$n;if(_n){pauseTracking();const Rn=Pn.setupContext=_n.length>1?createSetupContext(Pn):null,Bn=setCurrentInstance(Pn),Ln=callWithErrorHandling(_n,Pn,0,[Pn.props,Rn]),Dn=isPromise(Ln);if(resetTracking(),Bn(),(Dn||Pn.sp)&&!isAsyncWrapper(Pn)&&markAsyncBoundary(Pn),Dn){if(Ln.then(unsetCurrentInstance,unsetCurrentInstance),Cn)return Ln.then(Nn=>{handleSetupResult(Pn,Nn)}).catch(Nn=>{handleError(Nn,Pn,0)});Pn.asyncDep=Ln}else handleSetupResult(Pn,Ln)}else finishComponentSetup(Pn)}function handleSetupResult(Pn,Cn,$n){isFunction$1(Cn)?Pn.type.__ssrInlineRender?Pn.ssrRender=Cn:Pn.render=Cn:isObject$4(Cn)&&(Pn.setupState=proxyRefs(Cn)),finishComponentSetup(Pn)}function finishComponentSetup(Pn,Cn,$n){const _n=Pn.type;Pn.render||(Pn.render=_n.render||NOOP);{const Rn=setCurrentInstance(Pn);pauseTracking();try{applyOptions(Pn)}finally{resetTracking(),Rn()}}}const attrsProxyHandlers={get(Pn,Cn){return track(Pn,"get",""),Pn[Cn]}};function createSetupContext(Pn){const Cn=$n=>{Pn.exposed=$n||{}};return{attrs:new Proxy(Pn.attrs,attrsProxyHandlers),slots:Pn.slots,emit:Pn.emit,expose:Cn}}function getComponentPublicInstance(Pn){return Pn.exposed?Pn.exposeProxy||(Pn.exposeProxy=new Proxy(proxyRefs(markRaw(Pn.exposed)),{get(Cn,$n){if($n in Cn)return Cn[$n];if($n in publicPropertiesMap)return publicPropertiesMap[$n](Pn)},has(Cn,$n){return $n in Cn||$n in publicPropertiesMap}})):Pn.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=Pn=>Pn.replace(classifyRE,Cn=>Cn.toUpperCase()).replace(/[-_]/g,"");function getComponentName(Pn,Cn=!0){return isFunction$1(Pn)?Pn.displayName||Pn.name:Pn.name||Cn&&Pn.__name}function formatComponentName(Pn,Cn,$n=!1){let _n=getComponentName(Cn);if(!_n&&Cn.__file){const Rn=Cn.__file.match(/([^/\\]+)\.\w+$/);Rn&&(_n=Rn[1])}if(!_n&&Pn&&Pn.parent){const Rn=Bn=>{for(const Ln in Bn)if(Bn[Ln]===Cn)return Ln};_n=Rn(Pn.components||Pn.parent.type.components)||Rn(Pn.appContext.components)}return _n?classify(_n):$n?"App":"Anonymous"}function isClassComponent(Pn){return isFunction$1(Pn)&&"__vccOpts"in Pn}const computed=(Pn,Cn)=>computed$1(Pn,Cn,isInSSRComponentSetup);function h$3(Pn,Cn,$n){const _n=arguments.length;return _n===2?isObject$4(Cn)&&!isArray$1(Cn)?isVNode(Cn)?createVNode(Pn,null,[Cn]):createVNode(Pn,Cn):createVNode(Pn,null,Cn):(_n>3?$n=Array.prototype.slice.call(arguments,2):_n===3&&isVNode($n)&&($n=[$n]),createVNode(Pn,Cn,$n))}const version="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$1=typeof window<"u"&&window.trustedTypes;if(tt$1)try{policy=tt$1.createPolicy("vue",{createHTML:Pn=>Pn})}catch{}const unsafeToTrustedHTML=policy?Pn=>policy.createHTML(Pn):Pn=>Pn,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(Pn,Cn,$n)=>{Cn.insertBefore(Pn,$n||null)},remove:Pn=>{const Cn=Pn.parentNode;Cn&&Cn.removeChild(Pn)},createElement:(Pn,Cn,$n,_n)=>{const Rn=Cn==="svg"?doc$1.createElementNS(svgNS,Pn):Cn==="mathml"?doc$1.createElementNS(mathmlNS,Pn):$n?doc$1.createElement(Pn,{is:$n}):doc$1.createElement(Pn);return Pn==="select"&&_n&&_n.multiple!=null&&Rn.setAttribute("multiple",_n.multiple),Rn},createText:Pn=>doc$1.createTextNode(Pn),createComment:Pn=>doc$1.createComment(Pn),setText:(Pn,Cn)=>{Pn.nodeValue=Cn},setElementText:(Pn,Cn)=>{Pn.textContent=Cn},parentNode:Pn=>Pn.parentNode,nextSibling:Pn=>Pn.nextSibling,querySelector:Pn=>doc$1.querySelector(Pn),setScopeId(Pn,Cn){Pn.setAttribute(Cn,"")},insertStaticContent(Pn,Cn,$n,_n,Rn,Bn){const Ln=$n?$n.previousSibling:Cn.lastChild;if(Rn&&(Rn===Bn||Rn.nextSibling))for(;Cn.insertBefore(Rn.cloneNode(!0),$n),!(Rn===Bn||!(Rn=Rn.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(_n==="svg"?`<svg>${Pn}</svg>`:_n==="mathml"?`<math>${Pn}</math>`:Pn);const Dn=templateContainer.content;if(_n==="svg"||_n==="mathml"){const Nn=Dn.firstChild;for(;Nn.firstChild;)Dn.appendChild(Nn.firstChild);Dn.removeChild(Nn)}Cn.insertBefore(Dn,$n)}return[Ln?Ln.nextSibling:Cn.firstChild,$n?$n.previousSibling:Cn.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(Pn,Cn,$n){const _n=Pn[vtcKey];_n&&(Cn=(Cn?[Cn,..._n]:[..._n]).join(" ")),Cn==null?Pn.removeAttribute("class"):$n?Pn.setAttribute("class",Cn):Pn.className=Cn}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(Pn,{value:Cn},{transition:$n}){Pn[vShowOriginalDisplay]=Pn.style.display==="none"?"":Pn.style.display,$n&&Cn?$n.beforeEnter(Pn):setDisplay(Pn,Cn)},mounted(Pn,{value:Cn},{transition:$n}){$n&&Cn&&$n.enter(Pn)},updated(Pn,{value:Cn,oldValue:$n},{transition:_n}){!Cn!=!$n&&(_n?Cn?(_n.beforeEnter(Pn),setDisplay(Pn,!0),_n.enter(Pn)):_n.leave(Pn,()=>{setDisplay(Pn,!1)}):setDisplay(Pn,Cn))},beforeUnmount(Pn,{value:Cn}){setDisplay(Pn,Cn)}};function setDisplay(Pn,Cn){Pn.style.display=Cn?Pn[vShowOriginalDisplay]:"none",Pn[vShowHidden]=!Cn}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(Pn,Cn,$n){const _n=Pn.style,Rn=isString($n);let Bn=!1;if($n&&!Rn){if(Cn)if(isString(Cn))for(const Ln of Cn.split(";")){const Dn=Ln.slice(0,Ln.indexOf(":")).trim();$n[Dn]==null&&setStyle(_n,Dn,"")}else for(const Ln in Cn)$n[Ln]==null&&setStyle(_n,Ln,"");for(const Ln in $n)Ln==="display"&&(Bn=!0),setStyle(_n,Ln,$n[Ln])}else if(Rn){if(Cn!==$n){const Ln=_n[CSS_VAR_TEXT];Ln&&($n+=";"+Ln),_n.cssText=$n,Bn=displayRE.test($n)}}else Cn&&Pn.removeAttribute("style");vShowOriginalDisplay in Pn&&(Pn[vShowOriginalDisplay]=Bn?_n.display:"",Pn[vShowHidden]&&(_n.display="none"))}const importantRE=/\s*!important$/;function setStyle(Pn,Cn,$n){if(isArray$1($n))$n.forEach(_n=>setStyle(Pn,Cn,_n));else if($n==null&&($n=""),Cn.startsWith("--"))Pn.setProperty(Cn,$n);else{const _n=autoPrefix(Pn,Cn);importantRE.test($n)?Pn.setProperty(hyphenate(_n),$n.replace(importantRE,""),"important"):Pn[_n]=$n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(Pn,Cn){const $n=prefixCache[Cn];if($n)return $n;let _n=camelize(Cn);if(_n!=="filter"&&_n in Pn)return prefixCache[Cn]=_n;_n=capitalize(_n);for(let Rn=0;Rn<prefixes.length;Rn++){const Bn=prefixes[Rn]+_n;if(Bn in Pn)return prefixCache[Cn]=Bn}return Cn}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(Pn,Cn,$n,_n,Rn,Bn=isSpecialBooleanAttr(Cn)){_n&&Cn.startsWith("xlink:")?$n==null?Pn.removeAttributeNS(xlinkNS,Cn.slice(6,Cn.length)):Pn.setAttributeNS(xlinkNS,Cn,$n):$n==null||Bn&&!includeBooleanAttr($n)?Pn.removeAttribute(Cn):Pn.setAttribute(Cn,Bn?"":isSymbol($n)?String($n):$n)}function patchDOMProp(Pn,Cn,$n,_n,Rn){if(Cn==="innerHTML"||Cn==="textContent"){$n!=null&&(Pn[Cn]=Cn==="innerHTML"?unsafeToTrustedHTML($n):$n);return}const Bn=Pn.tagName;if(Cn==="value"&&Bn!=="PROGRESS"&&!Bn.includes("-")){const Dn=Bn==="OPTION"?Pn.getAttribute("value")||"":Pn.value,Nn=$n==null?Pn.type==="checkbox"?"on":"":String($n);(Dn!==Nn||!("_value"in Pn))&&(Pn.value=Nn),$n==null&&Pn.removeAttribute(Cn),Pn._value=$n;return}let Ln=!1;if($n===""||$n==null){const Dn=typeof Pn[Cn];Dn==="boolean"?$n=includeBooleanAttr($n):$n==null&&Dn==="string"?($n="",Ln=!0):Dn==="number"&&($n=0,Ln=!0)}try{Pn[Cn]=$n}catch{}Ln&&Pn.removeAttribute(Rn||Cn)}function addEventListener(Pn,Cn,$n,_n){Pn.addEventListener(Cn,$n,_n)}function removeEventListener(Pn,Cn,$n,_n){Pn.removeEventListener(Cn,$n,_n)}const veiKey=Symbol("_vei");function patchEvent(Pn,Cn,$n,_n,Rn=null){const Bn=Pn[veiKey]||(Pn[veiKey]={}),Ln=Bn[Cn];if(_n&&Ln)Ln.value=_n;else{const[Dn,Nn]=parseName(Cn);if(_n){const Fn=Bn[Cn]=createInvoker(_n,Rn);addEventListener(Pn,Dn,Fn,Nn)}else Ln&&(removeEventListener(Pn,Dn,Ln,Nn),Bn[Cn]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(Pn){let Cn;if(optionsModifierRE.test(Pn)){Cn={};let _n;for(;_n=Pn.match(optionsModifierRE);)Pn=Pn.slice(0,Pn.length-_n[0].length),Cn[_n[0].toLowerCase()]=!0}return[Pn[2]===":"?Pn.slice(3):hyphenate(Pn.slice(2)),Cn]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(Pn,Cn){const $n=_n=>{if(!_n._vts)_n._vts=Date.now();else if(_n._vts<=$n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(_n,$n.value),Cn,5,[_n])};return $n.value=Pn,$n.attached=getNow(),$n}function patchStopImmediatePropagation(Pn,Cn){if(isArray$1(Cn)){const $n=Pn.stopImmediatePropagation;return Pn.stopImmediatePropagation=()=>{$n.call(Pn),Pn._stopped=!0},Cn.map(_n=>Rn=>!Rn._stopped&&_n&&_n(Rn))}else return Cn}const isNativeOn=Pn=>Pn.charCodeAt(0)===111&&Pn.charCodeAt(1)===110&&Pn.charCodeAt(2)>96&&Pn.charCodeAt(2)<123,patchProp=(Pn,Cn,$n,_n,Rn,Bn)=>{const Ln=Rn==="svg";Cn==="class"?patchClass(Pn,_n,Ln):Cn==="style"?patchStyle(Pn,$n,_n):isOn(Cn)?isModelListener(Cn)||patchEvent(Pn,Cn,$n,_n,Bn):(Cn[0]==="."?(Cn=Cn.slice(1),!0):Cn[0]==="^"?(Cn=Cn.slice(1),!1):shouldSetAsProp(Pn,Cn,_n,Ln))?(patchDOMProp(Pn,Cn,_n),!Pn.tagName.includes("-")&&(Cn==="value"||Cn==="checked"||Cn==="selected")&&patchAttr(Pn,Cn,_n,Ln,Bn,Cn!=="value")):Pn._isVueCE&&(/[A-Z]/.test(Cn)||!isString(_n))?patchDOMProp(Pn,camelize(Cn),_n,Bn,Cn):(Cn==="true-value"?Pn._trueValue=_n:Cn==="false-value"&&(Pn._falseValue=_n),patchAttr(Pn,Cn,_n,Ln))};function shouldSetAsProp(Pn,Cn,$n,_n){if(_n)return!!(Cn==="innerHTML"||Cn==="textContent"||Cn in Pn&&isNativeOn(Cn)&&isFunction$1($n));if(Cn==="spellcheck"||Cn==="draggable"||Cn==="translate"||Cn==="form"||Cn==="list"&&Pn.tagName==="INPUT"||Cn==="type"&&Pn.tagName==="TEXTAREA")return!1;if(Cn==="width"||Cn==="height"){const Rn=Pn.tagName;if(Rn==="IMG"||Rn==="VIDEO"||Rn==="CANVAS"||Rn==="SOURCE")return!1}return isNativeOn(Cn)&&isString($n)?!1:Cn in Pn}const getModelAssigner=Pn=>{const Cn=Pn.props["onUpdate:modelValue"]||!1;return isArray$1(Cn)?$n=>invokeArrayFns(Cn,$n):Cn};function onCompositionStart(Pn){Pn.target.composing=!0}function onCompositionEnd(Pn){const Cn=Pn.target;Cn.composing&&(Cn.composing=!1,Cn.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(Pn,{modifiers:{lazy:Cn,trim:$n,number:_n}},Rn){Pn[assignKey]=getModelAssigner(Rn);const Bn=_n||Rn.props&&Rn.props.type==="number";addEventListener(Pn,Cn?"change":"input",Ln=>{if(Ln.target.composing)return;let Dn=Pn.value;$n&&(Dn=Dn.trim()),Bn&&(Dn=looseToNumber(Dn)),Pn[assignKey](Dn)}),$n&&addEventListener(Pn,"change",()=>{Pn.value=Pn.value.trim()}),Cn||(addEventListener(Pn,"compositionstart",onCompositionStart),addEventListener(Pn,"compositionend",onCompositionEnd),addEventListener(Pn,"change",onCompositionEnd))},mounted(Pn,{value:Cn}){Pn.value=Cn??""},beforeUpdate(Pn,{value:Cn,oldValue:$n,modifiers:{lazy:_n,trim:Rn,number:Bn}},Ln){if(Pn[assignKey]=getModelAssigner(Ln),Pn.composing)return;const Dn=(Bn||Pn.type==="number")&&!/^0\d/.test(Pn.value)?looseToNumber(Pn.value):Pn.value,Nn=Cn??"";Dn!==Nn&&(document.activeElement===Pn&&Pn.type!=="range"&&(_n&&Cn===$n||Rn&&Pn.value.trim()===Nn)||(Pn.value=Nn))}},vModelCheckbox={deep:!0,created(Pn,Cn,$n){Pn[assignKey]=getModelAssigner($n),addEventListener(Pn,"change",()=>{const _n=Pn._modelValue,Rn=getValue$1(Pn),Bn=Pn.checked,Ln=Pn[assignKey];if(isArray$1(_n)){const Dn=looseIndexOf(_n,Rn),Nn=Dn!==-1;if(Bn&&!Nn)Ln(_n.concat(Rn));else if(!Bn&&Nn){const Fn=[..._n];Fn.splice(Dn,1),Ln(Fn)}}else if(isSet(_n)){const Dn=new Set(_n);Bn?Dn.add(Rn):Dn.delete(Rn),Ln(Dn)}else Ln(getCheckboxValue(Pn,Bn))})},mounted:setChecked,beforeUpdate(Pn,Cn,$n){Pn[assignKey]=getModelAssigner($n),setChecked(Pn,Cn,$n)}};function setChecked(Pn,{value:Cn,oldValue:$n},_n){Pn._modelValue=Cn;let Rn;if(isArray$1(Cn))Rn=looseIndexOf(Cn,_n.props.value)>-1;else if(isSet(Cn))Rn=Cn.has(_n.props.value);else{if(Cn===$n)return;Rn=looseEqual(Cn,getCheckboxValue(Pn,!0))}Pn.checked!==Rn&&(Pn.checked=Rn)}const vModelSelect={deep:!0,created(Pn,{value:Cn,modifiers:{number:$n}},_n){const Rn=isSet(Cn);addEventListener(Pn,"change",()=>{const Bn=Array.prototype.filter.call(Pn.options,Ln=>Ln.selected).map(Ln=>$n?looseToNumber(getValue$1(Ln)):getValue$1(Ln));Pn[assignKey](Pn.multiple?Rn?new Set(Bn):Bn:Bn[0]),Pn._assigning=!0,nextTick(()=>{Pn._assigning=!1})}),Pn[assignKey]=getModelAssigner(_n)},mounted(Pn,{value:Cn}){setSelected(Pn,Cn)},beforeUpdate(Pn,Cn,$n){Pn[assignKey]=getModelAssigner($n)},updated(Pn,{value:Cn}){Pn._assigning||setSelected(Pn,Cn)}};function setSelected(Pn,Cn){const $n=Pn.multiple,_n=isArray$1(Cn);if(!($n&&!_n&&!isSet(Cn))){for(let Rn=0,Bn=Pn.options.length;Rn<Bn;Rn++){const Ln=Pn.options[Rn],Dn=getValue$1(Ln);if($n)if(_n){const Nn=typeof Dn;Nn==="string"||Nn==="number"?Ln.selected=Cn.some(Fn=>String(Fn)===String(Dn)):Ln.selected=looseIndexOf(Cn,Dn)>-1}else Ln.selected=Cn.has(Dn);else if(looseEqual(getValue$1(Ln),Cn)){Pn.selectedIndex!==Rn&&(Pn.selectedIndex=Rn);return}}!$n&&Pn.selectedIndex!==-1&&(Pn.selectedIndex=-1)}}function getValue$1(Pn){return"_value"in Pn?Pn._value:Pn.value}function getCheckboxValue(Pn,Cn){const $n=Cn?"_trueValue":"_falseValue";return $n in Pn?Pn[$n]:Cn}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:Pn=>Pn.stopPropagation(),prevent:Pn=>Pn.preventDefault(),self:Pn=>Pn.target!==Pn.currentTarget,ctrl:Pn=>!Pn.ctrlKey,shift:Pn=>!Pn.shiftKey,alt:Pn=>!Pn.altKey,meta:Pn=>!Pn.metaKey,left:Pn=>"button"in Pn&&Pn.button!==0,middle:Pn=>"button"in Pn&&Pn.button!==1,right:Pn=>"button"in Pn&&Pn.button!==2,exact:(Pn,Cn)=>systemModifiers.some($n=>Pn[`${$n}Key`]&&!Cn.includes($n))},withModifiers=(Pn,Cn)=>{const $n=Pn._withMods||(Pn._withMods={}),_n=Cn.join(".");return $n[_n]||($n[_n]=(Rn,...Bn)=>{for(let Ln=0;Ln<Cn.length;Ln++){const Dn=modifierGuards[Cn[Ln]];if(Dn&&Dn(Rn,Cn))return}return Pn(Rn,...Bn)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(Pn,Cn)=>{const $n=Pn._withKeys||(Pn._withKeys={}),_n=Cn.join(".");return $n[_n]||($n[_n]=Rn=>{if(!("key"in Rn))return;const Bn=hyphenate(Rn.key);if(Cn.some(Ln=>Ln===Bn||keyNames[Ln]===Bn))return Pn(Rn)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...Pn)=>{const Cn=ensureRenderer().createApp(...Pn),{mount:$n}=Cn;return Cn.mount=_n=>{const Rn=normalizeContainer(_n);if(!Rn)return;const Bn=Cn._component;!isFunction$1(Bn)&&!Bn.render&&!Bn.template&&(Bn.template=Rn.innerHTML),Rn.nodeType===1&&(Rn.textContent="");const Ln=$n(Rn,!1,resolveRootNamespace(Rn));return Rn instanceof Element&&(Rn.removeAttribute("v-cloak"),Rn.setAttribute("data-v-app","")),Ln},Cn};function resolveRootNamespace(Pn){if(Pn instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&Pn instanceof MathMLElement)return"mathml"}function normalizeContainer(Pn){return isString(Pn)?document.querySelector(Pn):Pn}const _imports_0$3="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%2024.75%2024.75'%20xml:space='preserve'%20%3e%3cg%3e%3cpath%20d='M0,3.875c0-1.104,0.896-2,2-2h20.75c1.104,0,2,0.896,2,2s-0.896,2-2,2H2C0.896,5.875,0,4.979,0,3.875z%20M22.75,10.375H2%20c-1.104,0-2,0.896-2,2c0,1.104,0.896,2,2,2h20.75c1.104,0,2-0.896,2-2C24.75,11.271,23.855,10.375,22.75,10.375z%20M22.75,18.875H2%20c-1.104,0-2,0.896-2,2s0.896,2,2,2h20.75c1.104,0,2-0.896,2-2S23.855,18.875,22.75,18.875z'/%3e%3c/g%3e%3c/svg%3e";function tryOnScopeDispose$1(Pn){return getCurrentScope()?(onScopeDispose(Pn),!0):!1}function toValue(Pn){return typeof Pn=="function"?Pn():unref(Pn)}const isClient$1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString$1=Object.prototype.toString,isObject$3=Pn=>toString$1.call(Pn)==="[object Object]",noop=()=>{},isIOS=getIsIOS();function getIsIOS(){var Pn,Cn;return isClient$1&&((Pn=window==null?void 0:window.navigator)==null?void 0:Pn.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((Cn=window==null?void 0:window.navigator)==null?void 0:Cn.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function createFilterWrapper(Pn,Cn){function $n(..._n){return new Promise((Rn,Bn)=>{Promise.resolve(Pn(()=>Cn.apply(this,_n),{fn:Cn,thisArg:this,args:_n})).then(Rn).catch(Bn)})}return $n}const bypassFilter=Pn=>Pn();function debounceFilter(Pn,Cn={}){let $n,_n,Rn=noop;const Bn=Dn=>{clearTimeout(Dn),Rn(),Rn=noop};return Dn=>{const Nn=toValue(Pn),Fn=toValue(Cn.maxWait);return $n&&Bn($n),Nn<=0||Fn!==void 0&&Fn<=0?(_n&&(Bn(_n),_n=null),Promise.resolve(Dn())):new Promise((Wn,zn)=>{Rn=Cn.rejectOnCancel?zn:Wn,Fn&&!_n&&(_n=setTimeout(()=>{$n&&Bn($n),_n=null,Wn(Dn())},Fn)),$n=setTimeout(()=>{_n&&Bn(_n),_n=null,Wn(Dn())},Nn)})}}function pausableFilter(Pn=bypassFilter){const Cn=ref(!0);function $n(){Cn.value=!1}function _n(){Cn.value=!0}const Rn=(...Bn)=>{Cn.value&&Pn(...Bn)};return{isActive:readonly(Cn),pause:$n,resume:_n,eventFilter:Rn}}function createSingletonPromise(Pn){let Cn;function $n(){return Cn||(Cn=Pn()),Cn}return $n.reset=async()=>{const _n=Cn;Cn=void 0,_n&&await _n},$n}function getLifeCycleTarget(Pn){return getCurrentInstance()}function useDebounceFn(Pn,Cn=200,$n={}){return createFilterWrapper(debounceFilter(Cn,$n),Pn)}function watchWithFilter(Pn,Cn,$n={}){const{eventFilter:_n=bypassFilter,...Rn}=$n;return watch(Pn,createFilterWrapper(_n,Cn),Rn)}function watchPausable(Pn,Cn,$n={}){const{eventFilter:_n,...Rn}=$n,{eventFilter:Bn,pause:Ln,resume:Dn,isActive:Nn}=pausableFilter(_n);return{stop:watchWithFilter(Pn,Cn,{...Rn,eventFilter:Bn}),pause:Ln,resume:Dn,isActive:Nn}}function tryOnMounted(Pn,Cn=!0,$n){getLifeCycleTarget()?onMounted(Pn,$n):Cn?Pn():nextTick(Pn)}function useTimeoutFn(Pn,Cn,$n={}){const{immediate:_n=!0}=$n,Rn=ref(!1);let Bn=null;function Ln(){Bn&&(clearTimeout(Bn),Bn=null)}function Dn(){Rn.value=!1,Ln()}function Nn(...Fn){Ln(),Rn.value=!0,Bn=setTimeout(()=>{Rn.value=!1,Bn=null,Pn(...Fn)},toValue(Cn))}return _n&&(Rn.value=!0,isClient$1&&Nn()),tryOnScopeDispose$1(Dn),{isPending:readonly(Rn),start:Nn,stop:Dn}}function whenever(Pn,Cn,$n){const _n=watch(Pn,(Rn,Bn,Ln)=>{Rn&&($n!=null&&$n.once&&nextTick(()=>_n()),Cn(Rn,Bn,Ln))},{...$n,once:!1});return _n}function unrefElement$1(Pn){var Cn;const $n=toValue(Pn);return(Cn=$n==null?void 0:$n.$el)!=null?Cn:$n}const defaultWindow$1=isClient$1?window:void 0,defaultNavigator=isClient$1?window.navigator:void 0;function useEventListener$1(...Pn){let Cn,$n,_n,Rn;if(typeof Pn[0]=="string"||Array.isArray(Pn[0])?([$n,_n,Rn]=Pn,Cn=defaultWindow$1):[Cn,$n,_n,Rn]=Pn,!Cn)return noop;Array.isArray($n)||($n=[$n]),Array.isArray(_n)||(_n=[_n]);const Bn=[],Ln=()=>{Bn.forEach(Wn=>Wn()),Bn.length=0},Dn=(Wn,zn,Yn,Gn)=>(Wn.addEventListener(zn,Yn,Gn),()=>Wn.removeEventListener(zn,Yn,Gn)),Nn=watch(()=>[unrefElement$1(Cn),toValue(Rn)],([Wn,zn])=>{if(Ln(),!Wn)return;const Yn=isObject$3(zn)?{...zn}:zn;Bn.push(...$n.flatMap(Gn=>_n.map(ei=>Dn(Wn,Gn,ei,Yn))))},{immediate:!0,flush:"post"}),Fn=()=>{Nn(),Ln()};return tryOnScopeDispose$1(Fn),Fn}let _iOSWorkaround=!1;function onClickOutside(Pn,Cn,$n={}){const{window:_n=defaultWindow$1,ignore:Rn=[],capture:Bn=!0,detectIframe:Ln=!1}=$n;if(!_n)return noop;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(_n.document.body.children).forEach(Yn=>Yn.addEventListener("click",noop)),_n.document.documentElement.addEventListener("click",noop));let Dn=!0;const Nn=Yn=>Rn.some(Gn=>{if(typeof Gn=="string")return Array.from(_n.document.querySelectorAll(Gn)).some(ei=>ei===Yn.target||Yn.composedPath().includes(ei));{const ei=unrefElement$1(Gn);return ei&&(Yn.target===ei||Yn.composedPath().includes(ei))}}),Wn=[useEventListener$1(_n,"click",Yn=>{const Gn=unrefElement$1(Pn);if(!(!Gn||Gn===Yn.target||Yn.composedPath().includes(Gn))){if(Yn.detail===0&&(Dn=!Nn(Yn)),!Dn){Dn=!0;return}Cn(Yn)}},{passive:!0,capture:Bn}),useEventListener$1(_n,"pointerdown",Yn=>{const Gn=unrefElement$1(Pn);Dn=!Nn(Yn)&&!!(Gn&&!Yn.composedPath().includes(Gn))},{passive:!0}),Ln&&useEventListener$1(_n,"blur",Yn=>{setTimeout(()=>{var Gn;const ei=unrefElement$1(Pn);((Gn=_n.document.activeElement)==null?void 0:Gn.tagName)==="IFRAME"&&!(ei!=null&&ei.contains(_n.document.activeElement))&&Cn(Yn)},0)})].filter(Boolean);return()=>Wn.forEach(Yn=>Yn())}function useMounted(){const Pn=ref(!1),Cn=getCurrentInstance();return Cn&&onMounted(()=>{Pn.value=!0},Cn),Pn}function useSupported(Pn){const Cn=useMounted();return computed(()=>(Cn.value,!!Pn()))}function usePermission(Pn,Cn={}){const{controls:$n=!1,navigator:_n=defaultNavigator}=Cn,Rn=useSupported(()=>_n&&"permissions"in _n);let Bn;const Ln=typeof Pn=="string"?{name:Pn}:Pn,Dn=ref(),Nn=()=>{Bn&&(Dn.value=Bn.state)},Fn=createSingletonPromise(async()=>{if(Rn.value){if(!Bn)try{Bn=await _n.permissions.query(Ln),useEventListener$1(Bn,"change",Nn),Nn()}catch{Dn.value="prompt"}return Bn}});return Fn(),$n?{state:Dn,isSupported:Rn,query:Fn}:Dn}function useClipboard(Pn={}){const{navigator:Cn=defaultNavigator,read:$n=!1,source:_n,copiedDuring:Rn=1500,legacy:Bn=!1}=Pn,Ln=useSupported(()=>Cn&&"clipboard"in Cn),Dn=usePermission("clipboard-read"),Nn=usePermission("clipboard-write"),Fn=computed(()=>Ln.value||Bn),Wn=ref(""),zn=ref(!1),Yn=useTimeoutFn(()=>zn.value=!1,Rn);function Gn(){Ln.value&&oi(Dn.value)?Cn.clipboard.readText().then(ai=>{Wn.value=ai}):Wn.value=ii()}Fn.value&&$n&&useEventListener$1(["copy","cut"],Gn);async function ei(ai=toValue(_n)){Fn.value&&ai!=null&&(Ln.value&&oi(Nn.value)?await Cn.clipboard.writeText(ai):ti(ai),Wn.value=ai,zn.value=!0,Yn.start())}function ti(ai){const fi=document.createElement("textarea");fi.value=ai??"",fi.style.position="absolute",fi.style.opacity="0",document.body.appendChild(fi),fi.select(),document.execCommand("copy"),fi.remove()}function ii(){var ai,fi,ui;return(ui=(fi=(ai=document==null?void 0:document.getSelection)==null?void 0:ai.call(document))==null?void 0:fi.toString())!=null?ui:""}function oi(ai){return ai==="granted"||ai==="prompt"}return{isSupported:Fn,text:Wn,copied:zn,copy:ei}}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers$1=getHandlers();function getHandlers(){return globalKey in _global||(_global[globalKey]=_global[globalKey]||{}),_global[globalKey]}function getSSRHandler(Pn,Cn){return handlers$1[Pn]||Cn}function guessSerializerType(Pn){return Pn==null?"any":Pn instanceof Set?"set":Pn instanceof Map?"map":Pn instanceof Date?"date":typeof Pn=="boolean"?"boolean":typeof Pn=="string"?"string":typeof Pn=="object"?"object":Number.isNaN(Pn)?"any":"number"}const StorageSerializers={boolean:{read:Pn=>Pn==="true",write:Pn=>String(Pn)},object:{read:Pn=>JSON.parse(Pn),write:Pn=>JSON.stringify(Pn)},number:{read:Pn=>Number.parseFloat(Pn),write:Pn=>String(Pn)},any:{read:Pn=>Pn,write:Pn=>String(Pn)},string:{read:Pn=>Pn,write:Pn=>String(Pn)},map:{read:Pn=>new Map(JSON.parse(Pn)),write:Pn=>JSON.stringify(Array.from(Pn.entries()))},set:{read:Pn=>new Set(JSON.parse(Pn)),write:Pn=>JSON.stringify(Array.from(Pn))},date:{read:Pn=>new Date(Pn),write:Pn=>Pn.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(Pn,Cn,$n,_n={}){var Rn;const{flush:Bn="pre",deep:Ln=!0,listenToStorageChanges:Dn=!0,writeDefaults:Nn=!0,mergeDefaults:Fn=!1,shallow:Wn,window:zn=defaultWindow$1,eventFilter:Yn,onError:Gn=Pi=>{console.error(Pi)},initOnMounted:ei}=_n,ti=(Wn?shallowRef:ref)(typeof Cn=="function"?Cn():Cn);if(!$n)try{$n=getSSRHandler("getDefaultStorage",()=>{var Pi;return(Pi=defaultWindow$1)==null?void 0:Pi.localStorage})()}catch(Pi){Gn(Pi)}if(!$n)return ti;const ii=toValue(Cn),oi=guessSerializerType(ii),ai=(Rn=_n.serializer)!=null?Rn:StorageSerializers[oi],{pause:fi,resume:ui}=watchPausable(ti,()=>yi(ti.value),{flush:Bn,deep:Ln,eventFilter:Yn});zn&&Dn&&tryOnMounted(()=>{useEventListener$1(zn,"storage",ki),useEventListener$1(zn,customStorageEventName,_i),ei&&ki()}),ei||ki();function di(Pi,Oi){zn&&zn.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:Pn,oldValue:Pi,newValue:Oi,storageArea:$n}}))}function yi(Pi){try{const Oi=$n.getItem(Pn);if(Pi==null)di(Oi,null),$n.removeItem(Pn);else{const wi=ai.write(Pi);Oi!==wi&&($n.setItem(Pn,wi),di(Oi,wi))}}catch(Oi){Gn(Oi)}}function mi(Pi){const Oi=Pi?Pi.newValue:$n.getItem(Pn);if(Oi==null)return Nn&&ii!=null&&$n.setItem(Pn,ai.write(ii)),ii;if(!Pi&&Fn){const wi=ai.read(Oi);return typeof Fn=="function"?Fn(wi,ii):oi==="object"&&!Array.isArray(wi)?{...ii,...wi}:wi}else return typeof Oi!="string"?Oi:ai.read(Oi)}function ki(Pi){if(!(Pi&&Pi.storageArea!==$n)){if(Pi&&Pi.key==null){ti.value=ii;return}if(!(Pi&&Pi.key!==Pn)){fi();try{(Pi==null?void 0:Pi.newValue)!==ai.write(ti.value)&&(ti.value=mi(Pi))}catch(Oi){Gn(Oi)}finally{Pi?nextTick(ui):ui()}}}}function _i(Pi){ki(Pi.detail)}return ti}function useLocalStorage(Pn,Cn,$n={}){const{window:_n=defaultWindow$1}=$n;return useStorage(Pn,Cn,_n==null?void 0:_n.localStorage,$n)}function _typeof(Pn){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Cn){return typeof Cn}:function(Cn){return Cn&&typeof Symbol=="function"&&Cn.constructor===Symbol&&Cn!==Symbol.prototype?"symbol":typeof Cn},_typeof(Pn)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(Pn,Cn){if(Pn=Pn||"",Cn=Cn||{},Pn instanceof tinycolor)return Pn;if(!(this instanceof tinycolor))return new tinycolor(Pn,Cn);var $n=inputToRGB(Pn);this._originalInput=Pn,this._r=$n.r,this._g=$n.g,this._b=$n.b,this._a=$n.a,this._roundA=Math.round(100*this._a)/100,this._format=Cn.format||$n.format,this._gradientType=Cn.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=$n.ok}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Cn=this.toRgb();return(Cn.r*299+Cn.g*587+Cn.b*114)/1e3},getLuminance:function(){var Cn=this.toRgb(),$n,_n,Rn,Bn,Ln,Dn;return $n=Cn.r/255,_n=Cn.g/255,Rn=Cn.b/255,$n<=.03928?Bn=$n/12.92:Bn=Math.pow(($n+.055)/1.055,2.4),_n<=.03928?Ln=_n/12.92:Ln=Math.pow((_n+.055)/1.055,2.4),Rn<=.03928?Dn=Rn/12.92:Dn=Math.pow((Rn+.055)/1.055,2.4),.2126*Bn+.7152*Ln+.0722*Dn},setAlpha:function(Cn){return this._a=boundAlpha(Cn),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var Cn=rgbToHsv(this._r,this._g,this._b);return{h:Cn.h*360,s:Cn.s,v:Cn.v,a:this._a}},toHsvString:function(){var Cn=rgbToHsv(this._r,this._g,this._b),$n=Math.round(Cn.h*360),_n=Math.round(Cn.s*100),Rn=Math.round(Cn.v*100);return this._a==1?"hsv("+$n+", "+_n+"%, "+Rn+"%)":"hsva("+$n+", "+_n+"%, "+Rn+"%, "+this._roundA+")"},toHsl:function(){var Cn=rgbToHsl(this._r,this._g,this._b);return{h:Cn.h*360,s:Cn.s,l:Cn.l,a:this._a}},toHslString:function(){var Cn=rgbToHsl(this._r,this._g,this._b),$n=Math.round(Cn.h*360),_n=Math.round(Cn.s*100),Rn=Math.round(Cn.l*100);return this._a==1?"hsl("+$n+", "+_n+"%, "+Rn+"%)":"hsla("+$n+", "+_n+"%, "+Rn+"%, "+this._roundA+")"},toHex:function(Cn){return rgbToHex(this._r,this._g,this._b,Cn)},toHexString:function(Cn){return"#"+this.toHex(Cn)},toHex8:function(Cn){return rgbaToHex(this._r,this._g,this._b,this._a,Cn)},toHex8String:function(Cn){return"#"+this.toHex8(Cn)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function(Cn){var $n="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),_n=$n,Rn=this._gradientType?"GradientType = 1, ":"";if(Cn){var Bn=tinycolor(Cn);_n="#"+rgbaToArgbHex(Bn._r,Bn._g,Bn._b,Bn._a)}return"progid:DXImageTransform.Microsoft.gradient("+Rn+"startColorstr="+$n+",endColorstr="+_n+")"},toString:function(Cn){var $n=!!Cn;Cn=Cn||this._format;var _n=!1,Rn=this._a<1&&this._a>=0,Bn=!$n&&Rn&&(Cn==="hex"||Cn==="hex6"||Cn==="hex3"||Cn==="hex4"||Cn==="hex8"||Cn==="name");return Bn?Cn==="name"&&this._a===0?this.toName():this.toRgbString():(Cn==="rgb"&&(_n=this.toRgbString()),Cn==="prgb"&&(_n=this.toPercentageRgbString()),(Cn==="hex"||Cn==="hex6")&&(_n=this.toHexString()),Cn==="hex3"&&(_n=this.toHexString(!0)),Cn==="hex4"&&(_n=this.toHex8String(!0)),Cn==="hex8"&&(_n=this.toHex8String()),Cn==="name"&&(_n=this.toName()),Cn==="hsl"&&(_n=this.toHslString()),Cn==="hsv"&&(_n=this.toHsvString()),_n||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(Cn,$n){var _n=Cn.apply(null,[this].concat([].slice.call($n)));return this._r=_n._r,this._g=_n._g,this._b=_n._b,this.setAlpha(_n._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(Cn,$n){return Cn.apply(null,[this].concat([].slice.call($n)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(Pn,Cn){if(_typeof(Pn)=="object"){var $n={};for(var _n in Pn)Pn.hasOwnProperty(_n)&&(_n==="a"?$n[_n]=Pn[_n]:$n[_n]=convertToPercentage(Pn[_n]));Pn=$n}return tinycolor(Pn,Cn)};function inputToRGB(Pn){var Cn={r:0,g:0,b:0},$n=1,_n=null,Rn=null,Bn=null,Ln=!1,Dn=!1;return typeof Pn=="string"&&(Pn=stringInputToObject(Pn)),_typeof(Pn)=="object"&&(isValidCSSUnit(Pn.r)&&isValidCSSUnit(Pn.g)&&isValidCSSUnit(Pn.b)?(Cn=rgbToRgb(Pn.r,Pn.g,Pn.b),Ln=!0,Dn=String(Pn.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(Pn.h)&&isValidCSSUnit(Pn.s)&&isValidCSSUnit(Pn.v)?(_n=convertToPercentage(Pn.s),Rn=convertToPercentage(Pn.v),Cn=hsvToRgb(Pn.h,_n,Rn),Ln=!0,Dn="hsv"):isValidCSSUnit(Pn.h)&&isValidCSSUnit(Pn.s)&&isValidCSSUnit(Pn.l)&&(_n=convertToPercentage(Pn.s),Bn=convertToPercentage(Pn.l),Cn=hslToRgb(Pn.h,_n,Bn),Ln=!0,Dn="hsl"),Pn.hasOwnProperty("a")&&($n=Pn.a)),$n=boundAlpha($n),{ok:Ln,format:Pn.format||Dn,r:Math.min(255,Math.max(Cn.r,0)),g:Math.min(255,Math.max(Cn.g,0)),b:Math.min(255,Math.max(Cn.b,0)),a:$n}}function rgbToRgb(Pn,Cn,$n){return{r:bound01(Pn,255)*255,g:bound01(Cn,255)*255,b:bound01($n,255)*255}}function rgbToHsl(Pn,Cn,$n){Pn=bound01(Pn,255),Cn=bound01(Cn,255),$n=bound01($n,255);var _n=Math.max(Pn,Cn,$n),Rn=Math.min(Pn,Cn,$n),Bn,Ln,Dn=(_n+Rn)/2;if(_n==Rn)Bn=Ln=0;else{var Nn=_n-Rn;switch(Ln=Dn>.5?Nn/(2-_n-Rn):Nn/(_n+Rn),_n){case Pn:Bn=(Cn-$n)/Nn+(Cn<$n?6:0);break;case Cn:Bn=($n-Pn)/Nn+2;break;case $n:Bn=(Pn-Cn)/Nn+4;break}Bn/=6}return{h:Bn,s:Ln,l:Dn}}function hslToRgb(Pn,Cn,$n){var _n,Rn,Bn;Pn=bound01(Pn,360),Cn=bound01(Cn,100),$n=bound01($n,100);function Ln(Fn,Wn,zn){return zn<0&&(zn+=1),zn>1&&(zn-=1),zn<1/6?Fn+(Wn-Fn)*6*zn:zn<1/2?Wn:zn<2/3?Fn+(Wn-Fn)*(2/3-zn)*6:Fn}if(Cn===0)_n=Rn=Bn=$n;else{var Dn=$n<.5?$n*(1+Cn):$n+Cn-$n*Cn,Nn=2*$n-Dn;_n=Ln(Nn,Dn,Pn+1/3),Rn=Ln(Nn,Dn,Pn),Bn=Ln(Nn,Dn,Pn-1/3)}return{r:_n*255,g:Rn*255,b:Bn*255}}function rgbToHsv(Pn,Cn,$n){Pn=bound01(Pn,255),Cn=bound01(Cn,255),$n=bound01($n,255);var _n=Math.max(Pn,Cn,$n),Rn=Math.min(Pn,Cn,$n),Bn,Ln,Dn=_n,Nn=_n-Rn;if(Ln=_n===0?0:Nn/_n,_n==Rn)Bn=0;else{switch(_n){case Pn:Bn=(Cn-$n)/Nn+(Cn<$n?6:0);break;case Cn:Bn=($n-Pn)/Nn+2;break;case $n:Bn=(Pn-Cn)/Nn+4;break}Bn/=6}return{h:Bn,s:Ln,v:Dn}}function hsvToRgb(Pn,Cn,$n){Pn=bound01(Pn,360)*6,Cn=bound01(Cn,100),$n=bound01($n,100);var _n=Math.floor(Pn),Rn=Pn-_n,Bn=$n*(1-Cn),Ln=$n*(1-Rn*Cn),Dn=$n*(1-(1-Rn)*Cn),Nn=_n%6,Fn=[$n,Ln,Bn,Bn,Dn,$n][Nn],Wn=[Dn,$n,$n,Ln,Bn,Bn][Nn],zn=[Bn,Bn,Dn,$n,$n,Ln][Nn];return{r:Fn*255,g:Wn*255,b:zn*255}}function rgbToHex(Pn,Cn,$n,_n){var Rn=[pad2(Math.round(Pn).toString(16)),pad2(Math.round(Cn).toString(16)),pad2(Math.round($n).toString(16))];return _n&&Rn[0].charAt(0)==Rn[0].charAt(1)&&Rn[1].charAt(0)==Rn[1].charAt(1)&&Rn[2].charAt(0)==Rn[2].charAt(1)?Rn[0].charAt(0)+Rn[1].charAt(0)+Rn[2].charAt(0):Rn.join("")}function rgbaToHex(Pn,Cn,$n,_n,Rn){var Bn=[pad2(Math.round(Pn).toString(16)),pad2(Math.round(Cn).toString(16)),pad2(Math.round($n).toString(16)),pad2(convertDecimalToHex(_n))];return Rn&&Bn[0].charAt(0)==Bn[0].charAt(1)&&Bn[1].charAt(0)==Bn[1].charAt(1)&&Bn[2].charAt(0)==Bn[2].charAt(1)&&Bn[3].charAt(0)==Bn[3].charAt(1)?Bn[0].charAt(0)+Bn[1].charAt(0)+Bn[2].charAt(0)+Bn[3].charAt(0):Bn.join("")}function rgbaToArgbHex(Pn,Cn,$n,_n){var Rn=[pad2(convertDecimalToHex(_n)),pad2(Math.round(Pn).toString(16)),pad2(Math.round(Cn).toString(16)),pad2(Math.round($n).toString(16))];return Rn.join("")}tinycolor.equals=function(Pn,Cn){return!Pn||!Cn?!1:tinycolor(Pn).toRgbString()==tinycolor(Cn).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(Pn,Cn){Cn=Cn===0?0:Cn||10;var $n=tinycolor(Pn).toHsl();return $n.s-=Cn/100,$n.s=clamp01($n.s),tinycolor($n)}function _saturate(Pn,Cn){Cn=Cn===0?0:Cn||10;var $n=tinycolor(Pn).toHsl();return $n.s+=Cn/100,$n.s=clamp01($n.s),tinycolor($n)}function _greyscale(Pn){return tinycolor(Pn).desaturate(100)}function _lighten(Pn,Cn){Cn=Cn===0?0:Cn||10;var $n=tinycolor(Pn).toHsl();return $n.l+=Cn/100,$n.l=clamp01($n.l),tinycolor($n)}function _brighten(Pn,Cn){Cn=Cn===0?0:Cn||10;var $n=tinycolor(Pn).toRgb();return $n.r=Math.max(0,Math.min(255,$n.r-Math.round(255*-(Cn/100)))),$n.g=Math.max(0,Math.min(255,$n.g-Math.round(255*-(Cn/100)))),$n.b=Math.max(0,Math.min(255,$n.b-Math.round(255*-(Cn/100)))),tinycolor($n)}function _darken(Pn,Cn){Cn=Cn===0?0:Cn||10;var $n=tinycolor(Pn).toHsl();return $n.l-=Cn/100,$n.l=clamp01($n.l),tinycolor($n)}function _spin(Pn,Cn){var $n=tinycolor(Pn).toHsl(),_n=($n.h+Cn)%360;return $n.h=_n<0?360+_n:_n,tinycolor($n)}function _complement(Pn){var Cn=tinycolor(Pn).toHsl();return Cn.h=(Cn.h+180)%360,tinycolor(Cn)}function polyad(Pn,Cn){if(isNaN(Cn)||Cn<=0)throw new Error("Argument to polyad must be a positive number");for(var $n=tinycolor(Pn).toHsl(),_n=[tinycolor(Pn)],Rn=360/Cn,Bn=1;Bn<Cn;Bn++)_n.push(tinycolor({h:($n.h+Bn*Rn)%360,s:$n.s,l:$n.l}));return _n}function _splitcomplement(Pn){var Cn=tinycolor(Pn).toHsl(),$n=Cn.h;return[tinycolor(Pn),tinycolor({h:($n+72)%360,s:Cn.s,l:Cn.l}),tinycolor({h:($n+216)%360,s:Cn.s,l:Cn.l})]}function _analogous(Pn,Cn,$n){Cn=Cn||6,$n=$n||30;var _n=tinycolor(Pn).toHsl(),Rn=360/$n,Bn=[tinycolor(Pn)];for(_n.h=(_n.h-(Rn*Cn>>1)+720)%360;--Cn;)_n.h=(_n.h+Rn)%360,Bn.push(tinycolor(_n));return Bn}function _monochromatic(Pn,Cn){Cn=Cn||6;for(var $n=tinycolor(Pn).toHsv(),_n=$n.h,Rn=$n.s,Bn=$n.v,Ln=[],Dn=1/Cn;Cn--;)Ln.push(tinycolor({h:_n,s:Rn,v:Bn})),Bn=(Bn+Dn)%1;return Ln}tinycolor.mix=function(Pn,Cn,$n){$n=$n===0?0:$n||50;var _n=tinycolor(Pn).toRgb(),Rn=tinycolor(Cn).toRgb(),Bn=$n/100,Ln={r:(Rn.r-_n.r)*Bn+_n.r,g:(Rn.g-_n.g)*Bn+_n.g,b:(Rn.b-_n.b)*Bn+_n.b,a:(Rn.a-_n.a)*Bn+_n.a};return tinycolor(Ln)};tinycolor.readability=function(Pn,Cn){var $n=tinycolor(Pn),_n=tinycolor(Cn);return(Math.max($n.getLuminance(),_n.getLuminance())+.05)/(Math.min($n.getLuminance(),_n.getLuminance())+.05)};tinycolor.isReadable=function(Pn,Cn,$n){var _n=tinycolor.readability(Pn,Cn),Rn,Bn;switch(Bn=!1,Rn=validateWCAG2Parms($n),Rn.level+Rn.size){case"AAsmall":case"AAAlarge":Bn=_n>=4.5;break;case"AAlarge":Bn=_n>=3;break;case"AAAsmall":Bn=_n>=7;break}return Bn};tinycolor.mostReadable=function(Pn,Cn,$n){var _n=null,Rn=0,Bn,Ln,Dn,Nn;$n=$n||{},Ln=$n.includeFallbackColors,Dn=$n.level,Nn=$n.size;for(var Fn=0;Fn<Cn.length;Fn++)Bn=tinycolor.readability(Pn,Cn[Fn]),Bn>Rn&&(Rn=Bn,_n=tinycolor(Cn[Fn]));return tinycolor.isReadable(Pn,_n,{level:Dn,size:Nn})||!Ln?_n:($n.includeFallbackColors=!1,tinycolor.mostReadable(Pn,["#fff","#000"],$n))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip$2(names);function flip$2(Pn){var Cn={};for(var $n in Pn)Pn.hasOwnProperty($n)&&(Cn[Pn[$n]]=$n);return Cn}function boundAlpha(Pn){return Pn=parseFloat(Pn),(isNaN(Pn)||Pn<0||Pn>1)&&(Pn=1),Pn}function bound01(Pn,Cn){isOnePointZero(Pn)&&(Pn="100%");var $n=isPercentage(Pn);return Pn=Math.min(Cn,Math.max(0,parseFloat(Pn))),$n&&(Pn=parseInt(Pn*Cn,10)/100),Math.abs(Pn-Cn)<1e-6?1:Pn%Cn/parseFloat(Cn)}function clamp01(Pn){return Math.min(1,Math.max(0,Pn))}function parseIntFromHex(Pn){return parseInt(Pn,16)}function isOnePointZero(Pn){return typeof Pn=="string"&&Pn.indexOf(".")!=-1&&parseFloat(Pn)===1}function isPercentage(Pn){return typeof Pn=="string"&&Pn.indexOf("%")!=-1}function pad2(Pn){return Pn.length==1?"0"+Pn:""+Pn}function convertToPercentage(Pn){return Pn<=1&&(Pn=Pn*100+"%"),Pn}function convertDecimalToHex(Pn){return Math.round(parseFloat(Pn)*255).toString(16)}function convertHexToDecimal(Pn){return parseIntFromHex(Pn)/255}var matchers=function(){var Pn="[-\\+]?\\d+%?",Cn="[-\\+]?\\d*\\.\\d+%?",$n="(?:"+Cn+")|(?:"+Pn+")",_n="[\\s|\\(]+("+$n+")[,|\\s]+("+$n+")[,|\\s]+("+$n+")\\s*\\)?",Rn="[\\s|\\(]+("+$n+")[,|\\s]+("+$n+")[,|\\s]+("+$n+")[,|\\s]+("+$n+")\\s*\\)?";return{CSS_UNIT:new RegExp($n),rgb:new RegExp("rgb"+_n),rgba:new RegExp("rgba"+Rn),hsl:new RegExp("hsl"+_n),hsla:new RegExp("hsla"+Rn),hsv:new RegExp("hsv"+_n),hsva:new RegExp("hsva"+Rn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(Pn){return!!matchers.CSS_UNIT.exec(Pn)}function stringInputToObject(Pn){Pn=Pn.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var Cn=!1;if(names[Pn])Pn=names[Pn],Cn=!0;else if(Pn=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var $n;return($n=matchers.rgb.exec(Pn))?{r:$n[1],g:$n[2],b:$n[3]}:($n=matchers.rgba.exec(Pn))?{r:$n[1],g:$n[2],b:$n[3],a:$n[4]}:($n=matchers.hsl.exec(Pn))?{h:$n[1],s:$n[2],l:$n[3]}:($n=matchers.hsla.exec(Pn))?{h:$n[1],s:$n[2],l:$n[3],a:$n[4]}:($n=matchers.hsv.exec(Pn))?{h:$n[1],s:$n[2],v:$n[3]}:($n=matchers.hsva.exec(Pn))?{h:$n[1],s:$n[2],v:$n[3],a:$n[4]}:($n=matchers.hex8.exec(Pn))?{r:parseIntFromHex($n[1]),g:parseIntFromHex($n[2]),b:parseIntFromHex($n[3]),a:convertHexToDecimal($n[4]),format:Cn?"name":"hex8"}:($n=matchers.hex6.exec(Pn))?{r:parseIntFromHex($n[1]),g:parseIntFromHex($n[2]),b:parseIntFromHex($n[3]),format:Cn?"name":"hex"}:($n=matchers.hex4.exec(Pn))?{r:parseIntFromHex($n[1]+""+$n[1]),g:parseIntFromHex($n[2]+""+$n[2]),b:parseIntFromHex($n[3]+""+$n[3]),a:convertHexToDecimal($n[4]+""+$n[4]),format:Cn?"name":"hex8"}:($n=matchers.hex3.exec(Pn))?{r:parseIntFromHex($n[1]+""+$n[1]),g:parseIntFromHex($n[2]+""+$n[2]),b:parseIntFromHex($n[3]+""+$n[3]),format:Cn?"name":"hex"}:!1}function validateWCAG2Parms(Pn){var Cn,$n;return Pn=Pn||{level:"AA",size:"small"},Cn=(Pn.level||"AA").toUpperCase(),$n=(Pn.size||"small").toLowerCase(),Cn!=="AA"&&Cn!=="AAA"&&(Cn="AA"),$n!=="small"&&$n!=="large"&&($n="small"),{level:Cn,size:$n}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Pn){return Pn&&Pn.__esModule&&Object.prototype.hasOwnProperty.call(Pn,"default")?Pn.default:Pn}var node={},hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var Pn=Pn||{};Pn.stringify=function(){var Cn={"visit_linear-gradient":function($n){return Cn.visit_gradient($n)},"visit_repeating-linear-gradient":function($n){return Cn.visit_gradient($n)},"visit_radial-gradient":function($n){return Cn.visit_gradient($n)},"visit_repeating-radial-gradient":function($n){return Cn.visit_gradient($n)},visit_gradient:function($n){var _n=Cn.visit($n.orientation);return _n&&(_n+=", "),$n.type+"("+_n+Cn.visit($n.colorStops)+")"},visit_shape:function($n){var _n=$n.value,Rn=Cn.visit($n.at),Bn=Cn.visit($n.style);return Bn&&(_n+=" "+Bn),Rn&&(_n+=" at "+Rn),_n},"visit_default-radial":function($n){var _n="",Rn=Cn.visit($n.at);return Rn&&(_n+=Rn),_n},"visit_extent-keyword":function($n){var _n=$n.value,Rn=Cn.visit($n.at);return Rn&&(_n+=" at "+Rn),_n},"visit_position-keyword":function($n){return $n.value},visit_position:function($n){return Cn.visit($n.value.x)+" "+Cn.visit($n.value.y)},"visit_%":function($n){return $n.value+"%"},visit_em:function($n){return $n.value+"em"},visit_px:function($n){return $n.value+"px"},visit_calc:function($n){return"calc("+$n.value+")"},visit_literal:function($n){return Cn.visit_color($n.value,$n)},visit_hex:function($n){return Cn.visit_color("#"+$n.value,$n)},visit_rgb:function($n){return Cn.visit_color("rgb("+$n.value.join(", ")+")",$n)},visit_rgba:function($n){return Cn.visit_color("rgba("+$n.value.join(", ")+")",$n)},visit_hsl:function($n){return Cn.visit_color("hsl("+$n.value[0]+", "+$n.value[1]+"%, "+$n.value[2]+"%)",$n)},visit_hsla:function($n){return Cn.visit_color("hsla("+$n.value[0]+", "+$n.value[1]+"%, "+$n.value[2]+"%, "+$n.value[3]+")",$n)},visit_var:function($n){return Cn.visit_color("var("+$n.value+")",$n)},visit_color:function($n,_n){var Rn=$n,Bn=Cn.visit(_n.length);return Bn&&(Rn+=" "+Bn),Rn},visit_angular:function($n){return $n.value+"deg"},visit_directional:function($n){return"to "+$n.value},visit_array:function($n){var _n="",Rn=$n.length;return $n.forEach(function(Bn,Ln){_n+=Cn.visit(Bn),Ln<Rn-1&&(_n+=", ")}),_n},visit_object:function($n){return $n.width&&$n.height?Cn.visit($n.width)+" "+Cn.visit($n.height):""},visit:function($n){if(!$n)return"";if($n instanceof Array)return Cn.visit_array($n);if(typeof $n=="object"&&!$n.type)return Cn.visit_object($n);if($n.type){var _n=Cn["visit_"+$n.type];if(_n)return _n($n);throw Error("Missing visitor visit_"+$n.type)}else throw Error("Invalid node.")}};return function($n){return Cn.visit($n)}}();var Pn=Pn||{};return Pn.parse=function(){var Cn={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,radianValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))rad/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,varColor:/^var/i,calcValue:/^calc/i,variableName:/^(--[a-zA-Z0-9-,\s\#]+)/,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,hslColor:/^hsl/i,hslaColor:/^hsla/i},$n="";function _n(Bi){var Fi=new Error($n+": "+Bi);throw Fi.source=$n,Fi}function Rn(){var Bi=Bn();return $n.length>0&&_n("Invalid input not EOF"),Bi}function Bn(){return ui(Ln)}function Ln(){return Dn("linear-gradient",Cn.linearGradient,Fn)||Dn("repeating-linear-gradient",Cn.repeatingLinearGradient,Fn)||Dn("radial-gradient",Cn.radialGradient,Yn)||Dn("repeating-radial-gradient",Cn.repeatingRadialGradient,Yn)}function Dn(Bi,Fi,Hi){return Nn(Fi,function(as){var vs=Hi();return vs&&(Ui(Cn.comma)||_n("Missing comma before color stops")),{type:Bi,orientation:vs,colorStops:ui(di)}})}function Nn(Bi,Fi){var Hi=Ui(Bi);if(Hi){Ui(Cn.startCall)||_n("Missing (");var as=Fi(Hi);return Ui(Cn.endCall)||_n("Missing )"),as}}function Fn(){var Bi=Wn();if(Bi)return Bi;var Fi=Zo("position-keyword",Cn.positionKeywords,1);return Fi?{type:"directional",value:Fi.value}:zn()}function Wn(){return Zo("directional",Cn.sideOrCorner,1)}function zn(){return Zo("angular",Cn.angleValue,1)||Zo("angular",Cn.radianValue,1)}function Yn(){var Bi,Fi=Gn(),Hi;return Fi&&(Bi=[],Bi.push(Fi),Hi=$n,Ui(Cn.comma)&&(Fi=Gn(),Fi?Bi.push(Fi):$n=Hi)),Bi}function Gn(){var Bi=ei()||ti();if(Bi)Bi.at=oi();else{var Fi=ii();if(Fi){Bi=Fi;var Hi=oi();Hi&&(Bi.at=Hi)}else{var as=oi();if(as)Bi={type:"default-radial",at:as};else{var vs=ai();vs&&(Bi={type:"default-radial",at:vs})}}}return Bi}function ei(){var Bi=Zo("shape",/^(circle)/i,0);return Bi&&(Bi.style=ns()||ii()),Bi}function ti(){var Bi=Zo("shape",/^(ellipse)/i,0);return Bi&&(Bi.style=ai()||Gi()||ii()),Bi}function ii(){return Zo("extent-keyword",Cn.extentKeywords,1)}function oi(){if(Zo("position",/^at/,0)){var Bi=ai();return Bi||_n("Missing positioning value"),Bi}}function ai(){var Bi=fi();if(Bi.x||Bi.y)return{type:"position",value:Bi}}function fi(){return{x:Gi(),y:Gi()}}function ui(Bi){var Fi=Bi(),Hi=[];if(Fi)for(Hi.push(Fi);Ui(Cn.comma);)Fi=Bi(),Fi?Hi.push(Fi):_n("One extra comma");return Hi}function di(){var Bi=yi();return Bi||_n("Expected color definition"),Bi.length=Gi(),Bi}function yi(){return ki()||Li()||wi()||Pi()||_i()||Oi()||mi()}function mi(){return Zo("literal",Cn.literalColor,0)}function ki(){return Zo("hex",Cn.hexColor,1)}function _i(){return Nn(Cn.rgbColor,function(){return{type:"rgb",value:ui(qi)}})}function Pi(){return Nn(Cn.rgbaColor,function(){return{type:"rgba",value:ui(qi)}})}function Oi(){return Nn(Cn.varColor,function(){return{type:"var",value:Xi()}})}function wi(){return Nn(Cn.hslColor,function(){var Bi=Ui(Cn.percentageValue);Bi&&_n("HSL hue value must be a number in degrees (0-360) or normalized (-360 to 360), not a percentage");var Fi=qi();Ui(Cn.comma);var Hi=Ui(Cn.percentageValue),as=Hi?Hi[1]:null;Ui(Cn.comma),Hi=Ui(Cn.percentageValue);var vs=Hi?Hi[1]:null;return(!as||!vs)&&_n("Expected percentage value for saturation and lightness in HSL"),{type:"hsl",value:[Fi,as,vs]}})}function Li(){return Nn(Cn.hslaColor,function(){var Bi=qi();Ui(Cn.comma);var Fi=Ui(Cn.percentageValue),Hi=Fi?Fi[1]:null;Ui(Cn.comma),Fi=Ui(Cn.percentageValue);var as=Fi?Fi[1]:null;Ui(Cn.comma);var vs=qi();return(!Hi||!as)&&_n("Expected percentage value for saturation and lightness in HSLA"),{type:"hsla",value:[Bi,Hi,as,vs]}})}function Xi(){return Ui(Cn.variableName)[1]}function qi(){return Ui(Cn.number)[1]}function Gi(){return Zo("%",Cn.percentageValue,1)||ji()||Ji()||ns()}function ji(){return Zo("position-keyword",Cn.positionKeywords,1)}function Ji(){return Nn(Cn.calcValue,function(){for(var Bi=1,Fi=0;Bi>0&&Fi<$n.length;){var Hi=$n.charAt(Fi);Hi==="("?Bi++:Hi===")"&&Bi--,Fi++}Bi>0&&_n("Missing closing parenthesis in calc() expression");var as=$n.substring(0,Fi-1);return ls(Fi-1),{type:"calc",value:as}})}function ns(){return Zo("px",Cn.pixelValue,1)||Zo("em",Cn.emValue,1)}function Zo(Bi,Fi,Hi){var as=Ui(Fi);if(as)return{type:Bi,value:as[Hi]}}function Ui(Bi){var Fi,Hi;return Hi=/^[\n\r\t\s]+/.exec($n),Hi&&ls(Hi[0].length),Fi=Bi.exec($n),Fi&&ls(Fi[0].length),Fi}function ls(Bi){$n=$n.substr(Bi)}return function(Bi){return $n=Bi.toString().trim(),$n.endsWith(";")&&($n=$n.slice(0,-1)),Rn()}}(),node.parse=Pn.parse,node.stringify=Pn.stringify,node}var nodeExports=requireNode(),top$1="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top$1,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(Pn,Cn){return Pn.concat([Cn+"-"+start,Cn+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(Pn,Cn){return Pn.concat([Cn,Cn+"-"+start,Cn+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(Pn){return Pn?(Pn.nodeName||"").toLowerCase():null}function getWindow(Pn){if(Pn==null)return window;if(Pn.toString()!=="[object Window]"){var Cn=Pn.ownerDocument;return Cn&&Cn.defaultView||window}return Pn}function isElement(Pn){var Cn=getWindow(Pn).Element;return Pn instanceof Cn||Pn instanceof Element}function isHTMLElement(Pn){var Cn=getWindow(Pn).HTMLElement;return Pn instanceof Cn||Pn instanceof HTMLElement}function isShadowRoot(Pn){if(typeof ShadowRoot>"u")return!1;var Cn=getWindow(Pn).ShadowRoot;return Pn instanceof Cn||Pn instanceof ShadowRoot}function applyStyles(Pn){var Cn=Pn.state;Object.keys(Cn.elements).forEach(function($n){var _n=Cn.styles[$n]||{},Rn=Cn.attributes[$n]||{},Bn=Cn.elements[$n];!isHTMLElement(Bn)||!getNodeName(Bn)||(Object.assign(Bn.style,_n),Object.keys(Rn).forEach(function(Ln){var Dn=Rn[Ln];Dn===!1?Bn.removeAttribute(Ln):Bn.setAttribute(Ln,Dn===!0?"":Dn)}))})}function effect$2(Pn){var Cn=Pn.state,$n={popper:{position:Cn.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Cn.elements.popper.style,$n.popper),Cn.styles=$n,Cn.elements.arrow&&Object.assign(Cn.elements.arrow.style,$n.arrow),function(){Object.keys(Cn.elements).forEach(function(_n){var Rn=Cn.elements[_n],Bn=Cn.attributes[_n]||{},Ln=Object.keys(Cn.styles.hasOwnProperty(_n)?Cn.styles[_n]:$n[_n]),Dn=Ln.reduce(function(Nn,Fn){return Nn[Fn]="",Nn},{});!isHTMLElement(Rn)||!getNodeName(Rn)||(Object.assign(Rn.style,Dn),Object.keys(Bn).forEach(function(Nn){Rn.removeAttribute(Nn)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(Pn){return Pn.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var Pn=navigator.userAgentData;return Pn!=null&&Pn.brands&&Array.isArray(Pn.brands)?Pn.brands.map(function(Cn){return Cn.brand+"/"+Cn.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(Pn,Cn,$n){Cn===void 0&&(Cn=!1),$n===void 0&&($n=!1);var _n=Pn.getBoundingClientRect(),Rn=1,Bn=1;Cn&&isHTMLElement(Pn)&&(Rn=Pn.offsetWidth>0&&round(_n.width)/Pn.offsetWidth||1,Bn=Pn.offsetHeight>0&&round(_n.height)/Pn.offsetHeight||1);var Ln=isElement(Pn)?getWindow(Pn):window,Dn=Ln.visualViewport,Nn=!isLayoutViewport()&&$n,Fn=(_n.left+(Nn&&Dn?Dn.offsetLeft:0))/Rn,Wn=(_n.top+(Nn&&Dn?Dn.offsetTop:0))/Bn,zn=_n.width/Rn,Yn=_n.height/Bn;return{width:zn,height:Yn,top:Wn,right:Fn+zn,bottom:Wn+Yn,left:Fn,x:Fn,y:Wn}}function getLayoutRect(Pn){var Cn=getBoundingClientRect(Pn),$n=Pn.offsetWidth,_n=Pn.offsetHeight;return Math.abs(Cn.width-$n)<=1&&($n=Cn.width),Math.abs(Cn.height-_n)<=1&&(_n=Cn.height),{x:Pn.offsetLeft,y:Pn.offsetTop,width:$n,height:_n}}function contains$1(Pn,Cn){var $n=Cn.getRootNode&&Cn.getRootNode();if(Pn.contains(Cn))return!0;if($n&&isShadowRoot($n)){var _n=Cn;do{if(_n&&Pn.isSameNode(_n))return!0;_n=_n.parentNode||_n.host}while(_n)}return!1}function getComputedStyle$1(Pn){return getWindow(Pn).getComputedStyle(Pn)}function isTableElement(Pn){return["table","td","th"].indexOf(getNodeName(Pn))>=0}function getDocumentElement(Pn){return((isElement(Pn)?Pn.ownerDocument:Pn.document)||window.document).documentElement}function getParentNode(Pn){return getNodeName(Pn)==="html"?Pn:Pn.assignedSlot||Pn.parentNode||(isShadowRoot(Pn)?Pn.host:null)||getDocumentElement(Pn)}function getTrueOffsetParent(Pn){return!isHTMLElement(Pn)||getComputedStyle$1(Pn).position==="fixed"?null:Pn.offsetParent}function getContainingBlock(Pn){var Cn=/firefox/i.test(getUAString()),$n=/Trident/i.test(getUAString());if($n&&isHTMLElement(Pn)){var _n=getComputedStyle$1(Pn);if(_n.position==="fixed")return null}var Rn=getParentNode(Pn);for(isShadowRoot(Rn)&&(Rn=Rn.host);isHTMLElement(Rn)&&["html","body"].indexOf(getNodeName(Rn))<0;){var Bn=getComputedStyle$1(Rn);if(Bn.transform!=="none"||Bn.perspective!=="none"||Bn.contain==="paint"||["transform","perspective"].indexOf(Bn.willChange)!==-1||Cn&&Bn.willChange==="filter"||Cn&&Bn.filter&&Bn.filter!=="none")return Rn;Rn=Rn.parentNode}return null}function getOffsetParent(Pn){for(var Cn=getWindow(Pn),$n=getTrueOffsetParent(Pn);$n&&isTableElement($n)&&getComputedStyle$1($n).position==="static";)$n=getTrueOffsetParent($n);return $n&&(getNodeName($n)==="html"||getNodeName($n)==="body"&&getComputedStyle$1($n).position==="static")?Cn:$n||getContainingBlock(Pn)||Cn}function getMainAxisFromPlacement(Pn){return["top","bottom"].indexOf(Pn)>=0?"x":"y"}function within(Pn,Cn,$n){return max(Pn,min(Cn,$n))}function withinMaxClamp(Pn,Cn,$n){var _n=within(Pn,Cn,$n);return _n>$n?$n:_n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(Pn){return Object.assign({},getFreshSideObject(),Pn)}function expandToHashMap(Pn,Cn){return Cn.reduce(function($n,_n){return $n[_n]=Pn,$n},{})}var toPaddingObject=function(Cn,$n){return Cn=typeof Cn=="function"?Cn(Object.assign({},$n.rects,{placement:$n.placement})):Cn,mergePaddingObject(typeof Cn!="number"?Cn:expandToHashMap(Cn,basePlacements))};function arrow(Pn){var Cn,$n=Pn.state,_n=Pn.name,Rn=Pn.options,Bn=$n.elements.arrow,Ln=$n.modifiersData.popperOffsets,Dn=getBasePlacement($n.placement),Nn=getMainAxisFromPlacement(Dn),Fn=[left,right].indexOf(Dn)>=0,Wn=Fn?"height":"width";if(!(!Bn||!Ln)){var zn=toPaddingObject(Rn.padding,$n),Yn=getLayoutRect(Bn),Gn=Nn==="y"?top$1:left,ei=Nn==="y"?bottom:right,ti=$n.rects.reference[Wn]+$n.rects.reference[Nn]-Ln[Nn]-$n.rects.popper[Wn],ii=Ln[Nn]-$n.rects.reference[Nn],oi=getOffsetParent(Bn),ai=oi?Nn==="y"?oi.clientHeight||0:oi.clientWidth||0:0,fi=ti/2-ii/2,ui=zn[Gn],di=ai-Yn[Wn]-zn[ei],yi=ai/2-Yn[Wn]/2+fi,mi=within(ui,yi,di),ki=Nn;$n.modifiersData[_n]=(Cn={},Cn[ki]=mi,Cn.centerOffset=mi-yi,Cn)}}function effect$1(Pn){var Cn=Pn.state,$n=Pn.options,_n=$n.element,Rn=_n===void 0?"[data-popper-arrow]":_n;Rn!=null&&(typeof Rn=="string"&&(Rn=Cn.elements.popper.querySelector(Rn),!Rn)||contains$1(Cn.elements.popper,Rn)&&(Cn.elements.arrow=Rn))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(Pn){return Pn.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(Pn,Cn){var $n=Pn.x,_n=Pn.y,Rn=Cn.devicePixelRatio||1;return{x:round($n*Rn)/Rn||0,y:round(_n*Rn)/Rn||0}}function mapToStyles(Pn){var Cn,$n=Pn.popper,_n=Pn.popperRect,Rn=Pn.placement,Bn=Pn.variation,Ln=Pn.offsets,Dn=Pn.position,Nn=Pn.gpuAcceleration,Fn=Pn.adaptive,Wn=Pn.roundOffsets,zn=Pn.isFixed,Yn=Ln.x,Gn=Yn===void 0?0:Yn,ei=Ln.y,ti=ei===void 0?0:ei,ii=typeof Wn=="function"?Wn({x:Gn,y:ti}):{x:Gn,y:ti};Gn=ii.x,ti=ii.y;var oi=Ln.hasOwnProperty("x"),ai=Ln.hasOwnProperty("y"),fi=left,ui=top$1,di=window;if(Fn){var yi=getOffsetParent($n),mi="clientHeight",ki="clientWidth";if(yi===getWindow($n)&&(yi=getDocumentElement($n),getComputedStyle$1(yi).position!=="static"&&Dn==="absolute"&&(mi="scrollHeight",ki="scrollWidth")),yi=yi,Rn===top$1||(Rn===left||Rn===right)&&Bn===end){ui=bottom;var _i=zn&&yi===di&&di.visualViewport?di.visualViewport.height:yi[mi];ti-=_i-_n.height,ti*=Nn?1:-1}if(Rn===left||(Rn===top$1||Rn===bottom)&&Bn===end){fi=right;var Pi=zn&&yi===di&&di.visualViewport?di.visualViewport.width:yi[ki];Gn-=Pi-_n.width,Gn*=Nn?1:-1}}var Oi=Object.assign({position:Dn},Fn&&unsetSides),wi=Wn===!0?roundOffsetsByDPR({x:Gn,y:ti},getWindow($n)):{x:Gn,y:ti};if(Gn=wi.x,ti=wi.y,Nn){var Li;return Object.assign({},Oi,(Li={},Li[ui]=ai?"0":"",Li[fi]=oi?"0":"",Li.transform=(di.devicePixelRatio||1)<=1?"translate("+Gn+"px, "+ti+"px)":"translate3d("+Gn+"px, "+ti+"px, 0)",Li))}return Object.assign({},Oi,(Cn={},Cn[ui]=ai?ti+"px":"",Cn[fi]=oi?Gn+"px":"",Cn.transform="",Cn))}function computeStyles(Pn){var Cn=Pn.state,$n=Pn.options,_n=$n.gpuAcceleration,Rn=_n===void 0?!0:_n,Bn=$n.adaptive,Ln=Bn===void 0?!0:Bn,Dn=$n.roundOffsets,Nn=Dn===void 0?!0:Dn,Fn={placement:getBasePlacement(Cn.placement),variation:getVariation(Cn.placement),popper:Cn.elements.popper,popperRect:Cn.rects.popper,gpuAcceleration:Rn,isFixed:Cn.options.strategy==="fixed"};Cn.modifiersData.popperOffsets!=null&&(Cn.styles.popper=Object.assign({},Cn.styles.popper,mapToStyles(Object.assign({},Fn,{offsets:Cn.modifiersData.popperOffsets,position:Cn.options.strategy,adaptive:Ln,roundOffsets:Nn})))),Cn.modifiersData.arrow!=null&&(Cn.styles.arrow=Object.assign({},Cn.styles.arrow,mapToStyles(Object.assign({},Fn,{offsets:Cn.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Nn})))),Cn.attributes.popper=Object.assign({},Cn.attributes.popper,{"data-popper-placement":Cn.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(Pn){var Cn=Pn.state,$n=Pn.instance,_n=Pn.options,Rn=_n.scroll,Bn=Rn===void 0?!0:Rn,Ln=_n.resize,Dn=Ln===void 0?!0:Ln,Nn=getWindow(Cn.elements.popper),Fn=[].concat(Cn.scrollParents.reference,Cn.scrollParents.popper);return Bn&&Fn.forEach(function(Wn){Wn.addEventListener("scroll",$n.update,passive)}),Dn&&Nn.addEventListener("resize",$n.update,passive),function(){Bn&&Fn.forEach(function(Wn){Wn.removeEventListener("scroll",$n.update,passive)}),Dn&&Nn.removeEventListener("resize",$n.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(Pn){return Pn.replace(/left|right|bottom|top/g,function(Cn){return hash$1[Cn]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(Pn){return Pn.replace(/start|end/g,function(Cn){return hash[Cn]})}function getWindowScroll(Pn){var Cn=getWindow(Pn),$n=Cn.pageXOffset,_n=Cn.pageYOffset;return{scrollLeft:$n,scrollTop:_n}}function getWindowScrollBarX(Pn){return getBoundingClientRect(getDocumentElement(Pn)).left+getWindowScroll(Pn).scrollLeft}function getViewportRect(Pn,Cn){var $n=getWindow(Pn),_n=getDocumentElement(Pn),Rn=$n.visualViewport,Bn=_n.clientWidth,Ln=_n.clientHeight,Dn=0,Nn=0;if(Rn){Bn=Rn.width,Ln=Rn.height;var Fn=isLayoutViewport();(Fn||!Fn&&Cn==="fixed")&&(Dn=Rn.offsetLeft,Nn=Rn.offsetTop)}return{width:Bn,height:Ln,x:Dn+getWindowScrollBarX(Pn),y:Nn}}function getDocumentRect(Pn){var Cn,$n=getDocumentElement(Pn),_n=getWindowScroll(Pn),Rn=(Cn=Pn.ownerDocument)==null?void 0:Cn.body,Bn=max($n.scrollWidth,$n.clientWidth,Rn?Rn.scrollWidth:0,Rn?Rn.clientWidth:0),Ln=max($n.scrollHeight,$n.clientHeight,Rn?Rn.scrollHeight:0,Rn?Rn.clientHeight:0),Dn=-_n.scrollLeft+getWindowScrollBarX(Pn),Nn=-_n.scrollTop;return getComputedStyle$1(Rn||$n).direction==="rtl"&&(Dn+=max($n.clientWidth,Rn?Rn.clientWidth:0)-Bn),{width:Bn,height:Ln,x:Dn,y:Nn}}function isScrollParent(Pn){var Cn=getComputedStyle$1(Pn),$n=Cn.overflow,_n=Cn.overflowX,Rn=Cn.overflowY;return/auto|scroll|overlay|hidden/.test($n+Rn+_n)}function getScrollParent(Pn){return["html","body","#document"].indexOf(getNodeName(Pn))>=0?Pn.ownerDocument.body:isHTMLElement(Pn)&&isScrollParent(Pn)?Pn:getScrollParent(getParentNode(Pn))}function listScrollParents(Pn,Cn){var $n;Cn===void 0&&(Cn=[]);var _n=getScrollParent(Pn),Rn=_n===(($n=Pn.ownerDocument)==null?void 0:$n.body),Bn=getWindow(_n),Ln=Rn?[Bn].concat(Bn.visualViewport||[],isScrollParent(_n)?_n:[]):_n,Dn=Cn.concat(Ln);return Rn?Dn:Dn.concat(listScrollParents(getParentNode(Ln)))}function rectToClientRect(Pn){return Object.assign({},Pn,{left:Pn.x,top:Pn.y,right:Pn.x+Pn.width,bottom:Pn.y+Pn.height})}function getInnerBoundingClientRect(Pn,Cn){var $n=getBoundingClientRect(Pn,!1,Cn==="fixed");return $n.top=$n.top+Pn.clientTop,$n.left=$n.left+Pn.clientLeft,$n.bottom=$n.top+Pn.clientHeight,$n.right=$n.left+Pn.clientWidth,$n.width=Pn.clientWidth,$n.height=Pn.clientHeight,$n.x=$n.left,$n.y=$n.top,$n}function getClientRectFromMixedType(Pn,Cn,$n){return Cn===viewport?rectToClientRect(getViewportRect(Pn,$n)):isElement(Cn)?getInnerBoundingClientRect(Cn,$n):rectToClientRect(getDocumentRect(getDocumentElement(Pn)))}function getClippingParents(Pn){var Cn=listScrollParents(getParentNode(Pn)),$n=["absolute","fixed"].indexOf(getComputedStyle$1(Pn).position)>=0,_n=$n&&isHTMLElement(Pn)?getOffsetParent(Pn):Pn;return isElement(_n)?Cn.filter(function(Rn){return isElement(Rn)&&contains$1(Rn,_n)&&getNodeName(Rn)!=="body"}):[]}function getClippingRect(Pn,Cn,$n,_n){var Rn=Cn==="clippingParents"?getClippingParents(Pn):[].concat(Cn),Bn=[].concat(Rn,[$n]),Ln=Bn[0],Dn=Bn.reduce(function(Nn,Fn){var Wn=getClientRectFromMixedType(Pn,Fn,_n);return Nn.top=max(Wn.top,Nn.top),Nn.right=min(Wn.right,Nn.right),Nn.bottom=min(Wn.bottom,Nn.bottom),Nn.left=max(Wn.left,Nn.left),Nn},getClientRectFromMixedType(Pn,Ln,_n));return Dn.width=Dn.right-Dn.left,Dn.height=Dn.bottom-Dn.top,Dn.x=Dn.left,Dn.y=Dn.top,Dn}function computeOffsets(Pn){var Cn=Pn.reference,$n=Pn.element,_n=Pn.placement,Rn=_n?getBasePlacement(_n):null,Bn=_n?getVariation(_n):null,Ln=Cn.x+Cn.width/2-$n.width/2,Dn=Cn.y+Cn.height/2-$n.height/2,Nn;switch(Rn){case top$1:Nn={x:Ln,y:Cn.y-$n.height};break;case bottom:Nn={x:Ln,y:Cn.y+Cn.height};break;case right:Nn={x:Cn.x+Cn.width,y:Dn};break;case left:Nn={x:Cn.x-$n.width,y:Dn};break;default:Nn={x:Cn.x,y:Cn.y}}var Fn=Rn?getMainAxisFromPlacement(Rn):null;if(Fn!=null){var Wn=Fn==="y"?"height":"width";switch(Bn){case start:Nn[Fn]=Nn[Fn]-(Cn[Wn]/2-$n[Wn]/2);break;case end:Nn[Fn]=Nn[Fn]+(Cn[Wn]/2-$n[Wn]/2);break}}return Nn}function detectOverflow(Pn,Cn){Cn===void 0&&(Cn={});var $n=Cn,_n=$n.placement,Rn=_n===void 0?Pn.placement:_n,Bn=$n.strategy,Ln=Bn===void 0?Pn.strategy:Bn,Dn=$n.boundary,Nn=Dn===void 0?clippingParents:Dn,Fn=$n.rootBoundary,Wn=Fn===void 0?viewport:Fn,zn=$n.elementContext,Yn=zn===void 0?popper:zn,Gn=$n.altBoundary,ei=Gn===void 0?!1:Gn,ti=$n.padding,ii=ti===void 0?0:ti,oi=mergePaddingObject(typeof ii!="number"?ii:expandToHashMap(ii,basePlacements)),ai=Yn===popper?reference:popper,fi=Pn.rects.popper,ui=Pn.elements[ei?ai:Yn],di=getClippingRect(isElement(ui)?ui:ui.contextElement||getDocumentElement(Pn.elements.popper),Nn,Wn,Ln),yi=getBoundingClientRect(Pn.elements.reference),mi=computeOffsets({reference:yi,element:fi,placement:Rn}),ki=rectToClientRect(Object.assign({},fi,mi)),_i=Yn===popper?ki:yi,Pi={top:di.top-_i.top+oi.top,bottom:_i.bottom-di.bottom+oi.bottom,left:di.left-_i.left+oi.left,right:_i.right-di.right+oi.right},Oi=Pn.modifiersData.offset;if(Yn===popper&&Oi){var wi=Oi[Rn];Object.keys(Pi).forEach(function(Li){var Xi=[right,bottom].indexOf(Li)>=0?1:-1,qi=[top$1,bottom].indexOf(Li)>=0?"y":"x";Pi[Li]+=wi[qi]*Xi})}return Pi}function computeAutoPlacement(Pn,Cn){Cn===void 0&&(Cn={});var $n=Cn,_n=$n.placement,Rn=$n.boundary,Bn=$n.rootBoundary,Ln=$n.padding,Dn=$n.flipVariations,Nn=$n.allowedAutoPlacements,Fn=Nn===void 0?placements:Nn,Wn=getVariation(_n),zn=Wn?Dn?variationPlacements:variationPlacements.filter(function(ei){return getVariation(ei)===Wn}):basePlacements,Yn=zn.filter(function(ei){return Fn.indexOf(ei)>=0});Yn.length===0&&(Yn=zn);var Gn=Yn.reduce(function(ei,ti){return ei[ti]=detectOverflow(Pn,{placement:ti,boundary:Rn,rootBoundary:Bn,padding:Ln})[getBasePlacement(ti)],ei},{});return Object.keys(Gn).sort(function(ei,ti){return Gn[ei]-Gn[ti]})}function getExpandedFallbackPlacements(Pn){if(getBasePlacement(Pn)===auto)return[];var Cn=getOppositePlacement(Pn);return[getOppositeVariationPlacement(Pn),Cn,getOppositeVariationPlacement(Cn)]}function flip(Pn){var Cn=Pn.state,$n=Pn.options,_n=Pn.name;if(!Cn.modifiersData[_n]._skip){for(var Rn=$n.mainAxis,Bn=Rn===void 0?!0:Rn,Ln=$n.altAxis,Dn=Ln===void 0?!0:Ln,Nn=$n.fallbackPlacements,Fn=$n.padding,Wn=$n.boundary,zn=$n.rootBoundary,Yn=$n.altBoundary,Gn=$n.flipVariations,ei=Gn===void 0?!0:Gn,ti=$n.allowedAutoPlacements,ii=Cn.options.placement,oi=getBasePlacement(ii),ai=oi===ii,fi=Nn||(ai||!ei?[getOppositePlacement(ii)]:getExpandedFallbackPlacements(ii)),ui=[ii].concat(fi).reduce(function(Fi,Hi){return Fi.concat(getBasePlacement(Hi)===auto?computeAutoPlacement(Cn,{placement:Hi,boundary:Wn,rootBoundary:zn,padding:Fn,flipVariations:ei,allowedAutoPlacements:ti}):Hi)},[]),di=Cn.rects.reference,yi=Cn.rects.popper,mi=new Map,ki=!0,_i=ui[0],Pi=0;Pi<ui.length;Pi++){var Oi=ui[Pi],wi=getBasePlacement(Oi),Li=getVariation(Oi)===start,Xi=[top$1,bottom].indexOf(wi)>=0,qi=Xi?"width":"height",Gi=detectOverflow(Cn,{placement:Oi,boundary:Wn,rootBoundary:zn,altBoundary:Yn,padding:Fn}),ji=Xi?Li?right:left:Li?bottom:top$1;di[qi]>yi[qi]&&(ji=getOppositePlacement(ji));var Ji=getOppositePlacement(ji),ns=[];if(Bn&&ns.push(Gi[wi]<=0),Dn&&ns.push(Gi[ji]<=0,Gi[Ji]<=0),ns.every(function(Fi){return Fi})){_i=Oi,ki=!1;break}mi.set(Oi,ns)}if(ki)for(var Zo=ei?3:1,Ui=function(Hi){var as=ui.find(function(vs){var _s=mi.get(vs);if(_s)return _s.slice(0,Hi).every(function(Ks){return Ks})});if(as)return _i=as,"break"},ls=Zo;ls>0;ls--){var Bi=Ui(ls);if(Bi==="break")break}Cn.placement!==_i&&(Cn.modifiersData[_n]._skip=!0,Cn.placement=_i,Cn.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(Pn,Cn,$n){return $n===void 0&&($n={x:0,y:0}),{top:Pn.top-Cn.height-$n.y,right:Pn.right-Cn.width+$n.x,bottom:Pn.bottom-Cn.height+$n.y,left:Pn.left-Cn.width-$n.x}}function isAnySideFullyClipped(Pn){return[top$1,right,bottom,left].some(function(Cn){return Pn[Cn]>=0})}function hide(Pn){var Cn=Pn.state,$n=Pn.name,_n=Cn.rects.reference,Rn=Cn.rects.popper,Bn=Cn.modifiersData.preventOverflow,Ln=detectOverflow(Cn,{elementContext:"reference"}),Dn=detectOverflow(Cn,{altBoundary:!0}),Nn=getSideOffsets(Ln,_n),Fn=getSideOffsets(Dn,Rn,Bn),Wn=isAnySideFullyClipped(Nn),zn=isAnySideFullyClipped(Fn);Cn.modifiersData[$n]={referenceClippingOffsets:Nn,popperEscapeOffsets:Fn,isReferenceHidden:Wn,hasPopperEscaped:zn},Cn.attributes.popper=Object.assign({},Cn.attributes.popper,{"data-popper-reference-hidden":Wn,"data-popper-escaped":zn})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(Pn,Cn,$n){var _n=getBasePlacement(Pn),Rn=[left,top$1].indexOf(_n)>=0?-1:1,Bn=typeof $n=="function"?$n(Object.assign({},Cn,{placement:Pn})):$n,Ln=Bn[0],Dn=Bn[1];return Ln=Ln||0,Dn=(Dn||0)*Rn,[left,right].indexOf(_n)>=0?{x:Dn,y:Ln}:{x:Ln,y:Dn}}function offset(Pn){var Cn=Pn.state,$n=Pn.options,_n=Pn.name,Rn=$n.offset,Bn=Rn===void 0?[0,0]:Rn,Ln=placements.reduce(function(Wn,zn){return Wn[zn]=distanceAndSkiddingToXY(zn,Cn.rects,Bn),Wn},{}),Dn=Ln[Cn.placement],Nn=Dn.x,Fn=Dn.y;Cn.modifiersData.popperOffsets!=null&&(Cn.modifiersData.popperOffsets.x+=Nn,Cn.modifiersData.popperOffsets.y+=Fn),Cn.modifiersData[_n]=Ln}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(Pn){var Cn=Pn.state,$n=Pn.name;Cn.modifiersData[$n]=computeOffsets({reference:Cn.rects.reference,element:Cn.rects.popper,placement:Cn.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(Pn){return Pn==="x"?"y":"x"}function preventOverflow(Pn){var Cn=Pn.state,$n=Pn.options,_n=Pn.name,Rn=$n.mainAxis,Bn=Rn===void 0?!0:Rn,Ln=$n.altAxis,Dn=Ln===void 0?!1:Ln,Nn=$n.boundary,Fn=$n.rootBoundary,Wn=$n.altBoundary,zn=$n.padding,Yn=$n.tether,Gn=Yn===void 0?!0:Yn,ei=$n.tetherOffset,ti=ei===void 0?0:ei,ii=detectOverflow(Cn,{boundary:Nn,rootBoundary:Fn,padding:zn,altBoundary:Wn}),oi=getBasePlacement(Cn.placement),ai=getVariation(Cn.placement),fi=!ai,ui=getMainAxisFromPlacement(oi),di=getAltAxis(ui),yi=Cn.modifiersData.popperOffsets,mi=Cn.rects.reference,ki=Cn.rects.popper,_i=typeof ti=="function"?ti(Object.assign({},Cn.rects,{placement:Cn.placement})):ti,Pi=typeof _i=="number"?{mainAxis:_i,altAxis:_i}:Object.assign({mainAxis:0,altAxis:0},_i),Oi=Cn.modifiersData.offset?Cn.modifiersData.offset[Cn.placement]:null,wi={x:0,y:0};if(yi){if(Bn){var Li,Xi=ui==="y"?top$1:left,qi=ui==="y"?bottom:right,Gi=ui==="y"?"height":"width",ji=yi[ui],Ji=ji+ii[Xi],ns=ji-ii[qi],Zo=Gn?-ki[Gi]/2:0,Ui=ai===start?mi[Gi]:ki[Gi],ls=ai===start?-ki[Gi]:-mi[Gi],Bi=Cn.elements.arrow,Fi=Gn&&Bi?getLayoutRect(Bi):{width:0,height:0},Hi=Cn.modifiersData["arrow#persistent"]?Cn.modifiersData["arrow#persistent"].padding:getFreshSideObject(),as=Hi[Xi],vs=Hi[qi],_s=within(0,mi[Gi],Fi[Gi]),Ks=fi?mi[Gi]/2-Zo-_s-as-Pi.mainAxis:Ui-_s-as-Pi.mainAxis,pa=fi?-mi[Gi]/2+Zo+_s+vs+Pi.mainAxis:ls+_s+vs+Pi.mainAxis,ga=Cn.elements.arrow&&getOffsetParent(Cn.elements.arrow),ci=ga?ui==="y"?ga.clientTop||0:ga.clientLeft||0:0,pi=(Li=Oi==null?void 0:Oi[ui])!=null?Li:0,Si=ji+Ks-pi-ci,Mi=ji+pa-pi,Qi=within(Gn?min(Ji,Si):Ji,ji,Gn?max(ns,Mi):ns);yi[ui]=Qi,wi[ui]=Qi-ji}if(Dn){var Ai,Di=ui==="x"?top$1:left,Vi=ui==="x"?bottom:right,Ei=yi[di],Ti=di==="y"?"height":"width",zi=Ei+ii[Di],Ii=Ei-ii[Vi],Yi=[top$1,left].indexOf(oi)!==-1,Ki=(Ai=Oi==null?void 0:Oi[di])!=null?Ai:0,rs=Yi?zi:Ei-mi[Ti]-ki[Ti]-Ki+Pi.altAxis,fs=Yi?Ei+mi[Ti]+ki[Ti]-Ki-Pi.altAxis:Ii,os=Gn&&Yi?withinMaxClamp(rs,Ei,fs):within(Gn?rs:zi,Ei,Gn?fs:Ii);yi[di]=os,wi[di]=os-Ei}Cn.modifiersData[_n]=wi}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(Pn){return{scrollLeft:Pn.scrollLeft,scrollTop:Pn.scrollTop}}function getNodeScroll(Pn){return Pn===getWindow(Pn)||!isHTMLElement(Pn)?getWindowScroll(Pn):getHTMLElementScroll(Pn)}function isElementScaled(Pn){var Cn=Pn.getBoundingClientRect(),$n=round(Cn.width)/Pn.offsetWidth||1,_n=round(Cn.height)/Pn.offsetHeight||1;return $n!==1||_n!==1}function getCompositeRect(Pn,Cn,$n){$n===void 0&&($n=!1);var _n=isHTMLElement(Cn),Rn=isHTMLElement(Cn)&&isElementScaled(Cn),Bn=getDocumentElement(Cn),Ln=getBoundingClientRect(Pn,Rn,$n),Dn={scrollLeft:0,scrollTop:0},Nn={x:0,y:0};return(_n||!_n&&!$n)&&((getNodeName(Cn)!=="body"||isScrollParent(Bn))&&(Dn=getNodeScroll(Cn)),isHTMLElement(Cn)?(Nn=getBoundingClientRect(Cn,!0),Nn.x+=Cn.clientLeft,Nn.y+=Cn.clientTop):Bn&&(Nn.x=getWindowScrollBarX(Bn))),{x:Ln.left+Dn.scrollLeft-Nn.x,y:Ln.top+Dn.scrollTop-Nn.y,width:Ln.width,height:Ln.height}}function order(Pn){var Cn=new Map,$n=new Set,_n=[];Pn.forEach(function(Bn){Cn.set(Bn.name,Bn)});function Rn(Bn){$n.add(Bn.name);var Ln=[].concat(Bn.requires||[],Bn.requiresIfExists||[]);Ln.forEach(function(Dn){if(!$n.has(Dn)){var Nn=Cn.get(Dn);Nn&&Rn(Nn)}}),_n.push(Bn)}return Pn.forEach(function(Bn){$n.has(Bn.name)||Rn(Bn)}),_n}function orderModifiers(Pn){var Cn=order(Pn);return modifierPhases.reduce(function($n,_n){return $n.concat(Cn.filter(function(Rn){return Rn.phase===_n}))},[])}function debounce(Pn){var Cn;return function(){return Cn||(Cn=new Promise(function($n){Promise.resolve().then(function(){Cn=void 0,$n(Pn())})})),Cn}}function mergeByName(Pn){var Cn=Pn.reduce(function($n,_n){var Rn=$n[_n.name];return $n[_n.name]=Rn?Object.assign({},Rn,_n,{options:Object.assign({},Rn.options,_n.options),data:Object.assign({},Rn.data,_n.data)}):_n,$n},{});return Object.keys(Cn).map(function($n){return Cn[$n]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var Pn=arguments.length,Cn=new Array(Pn),$n=0;$n<Pn;$n++)Cn[$n]=arguments[$n];return!Cn.some(function(_n){return!(_n&&typeof _n.getBoundingClientRect=="function")})}function popperGenerator(Pn){Pn===void 0&&(Pn={});var Cn=Pn,$n=Cn.defaultModifiers,_n=$n===void 0?[]:$n,Rn=Cn.defaultOptions,Bn=Rn===void 0?DEFAULT_OPTIONS:Rn;return function(Dn,Nn,Fn){Fn===void 0&&(Fn=Bn);var Wn={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,Bn),modifiersData:{},elements:{reference:Dn,popper:Nn},attributes:{},styles:{}},zn=[],Yn=!1,Gn={state:Wn,setOptions:function(oi){var ai=typeof oi=="function"?oi(Wn.options):oi;ti(),Wn.options=Object.assign({},Bn,Wn.options,ai),Wn.scrollParents={reference:isElement(Dn)?listScrollParents(Dn):Dn.contextElement?listScrollParents(Dn.contextElement):[],popper:listScrollParents(Nn)};var fi=orderModifiers(mergeByName([].concat(_n,Wn.options.modifiers)));return Wn.orderedModifiers=fi.filter(function(ui){return ui.enabled}),ei(),Gn.update()},forceUpdate:function(){if(!Yn){var oi=Wn.elements,ai=oi.reference,fi=oi.popper;if(areValidElements(ai,fi)){Wn.rects={reference:getCompositeRect(ai,getOffsetParent(fi),Wn.options.strategy==="fixed"),popper:getLayoutRect(fi)},Wn.reset=!1,Wn.placement=Wn.options.placement,Wn.orderedModifiers.forEach(function(Pi){return Wn.modifiersData[Pi.name]=Object.assign({},Pi.data)});for(var ui=0;ui<Wn.orderedModifiers.length;ui++){if(Wn.reset===!0){Wn.reset=!1,ui=-1;continue}var di=Wn.orderedModifiers[ui],yi=di.fn,mi=di.options,ki=mi===void 0?{}:mi,_i=di.name;typeof yi=="function"&&(Wn=yi({state:Wn,options:ki,name:_i,instance:Gn})||Wn)}}}},update:debounce(function(){return new Promise(function(ii){Gn.forceUpdate(),ii(Wn)})}),destroy:function(){ti(),Yn=!0}};if(!areValidElements(Dn,Nn))return Gn;Gn.setOptions(Fn).then(function(ii){!Yn&&Fn.onFirstUpdate&&Fn.onFirstUpdate(ii)});function ei(){Wn.orderedModifiers.forEach(function(ii){var oi=ii.name,ai=ii.options,fi=ai===void 0?{}:ai,ui=ii.effect;if(typeof ui=="function"){var di=ui({state:Wn,name:oi,instance:Gn,options:fi}),yi=function(){};zn.push(di||yi)}})}function ti(){zn.forEach(function(ii){return ii()}),zn=[]}return Gn}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject$2(Pn){return Object.prototype.toString.call(Pn)==="[object Object]"}function isPlainObject$1(Pn){var Cn,$n;return isObject$2(Pn)===!1?!1:(Cn=Pn.constructor,Cn===void 0?!0:($n=Cn.prototype,!(isObject$2($n)===!1||$n.hasOwnProperty("isPrototypeOf")===!1)))}function t$2(){return t$2=Object.assign?Object.assign.bind():function(Pn){for(var Cn=1;Cn<arguments.length;Cn++){var $n=arguments[Cn];for(var _n in $n)Object.prototype.hasOwnProperty.call($n,_n)&&(Pn[_n]=$n[_n])}return Pn},t$2.apply(this,arguments)}function r$1(Pn,Cn){if(Pn==null)return{};var $n,_n,Rn={},Bn=Object.keys(Pn);for(_n=0;_n<Bn.length;_n++)Cn.indexOf($n=Bn[_n])>=0||(Rn[$n]=Pn[$n]);return Rn}const n$1={silent:!1,logLevel:"warn"},i$2=["validator"],o$1=Object.prototype,a$1=o$1.toString,s$1=o$1.hasOwnProperty,u$1=/^\s*function (\w+)/;function l$1(Pn){var Cn;const $n=(Cn=Pn==null?void 0:Pn.type)!==null&&Cn!==void 0?Cn:Pn;if($n){const _n=$n.toString().match(u$1);return _n?_n[1]:""}return""}const c$1=isPlainObject$1,f$1=Pn=>Pn;let d$1=f$1;const p$1=(Pn,Cn)=>s$1.call(Pn,Cn),y$2=Number.isInteger||function(Pn){return typeof Pn=="number"&&isFinite(Pn)&&Math.floor(Pn)===Pn},v$1=Array.isArray||function(Pn){return a$1.call(Pn)==="[object Array]"},h$2=Pn=>a$1.call(Pn)==="[object Function]",b$1=Pn=>c$1(Pn)&&p$1(Pn,"_vueTypes_name"),g$1=Pn=>c$1(Pn)&&(p$1(Pn,"type")||["_vueTypes_name","validator","default","required"].some(Cn=>p$1(Pn,Cn)));function O$2(Pn,Cn){return Object.defineProperty(Pn.bind(Cn),"__original",{value:Pn})}function m$1(Pn,Cn,$n=!1){let _n,Rn=!0,Bn="";_n=c$1(Pn)?Pn:{type:Pn};const Ln=b$1(_n)?_n._vueTypes_name+" - ":"";if(g$1(_n)&&_n.type!==null){if(_n.type===void 0||_n.type===!0||!_n.required&&Cn===void 0)return Rn;v$1(_n.type)?(Rn=_n.type.some(Dn=>m$1(Dn,Cn,!0)===!0),Bn=_n.type.map(Dn=>l$1(Dn)).join(" or ")):(Bn=l$1(_n),Rn=Bn==="Array"?v$1(Cn):Bn==="Object"?c$1(Cn):Bn==="String"||Bn==="Number"||Bn==="Boolean"||Bn==="Function"?function(Dn){if(Dn==null)return"";const Nn=Dn.constructor.toString().match(u$1);return Nn?Nn[1]:""}(Cn)===Bn:Cn instanceof _n.type)}if(!Rn){const Dn=`${Ln}value "${Cn}" should be of type "${Bn}"`;return $n===!1?(d$1(Dn),!1):Dn}if(p$1(_n,"validator")&&h$2(_n.validator)){const Dn=d$1,Nn=[];if(d$1=Fn=>{Nn.push(Fn)},Rn=_n.validator(Cn),d$1=Dn,!Rn){const Fn=(Nn.length>1?"* ":"")+Nn.join(`
* `);return Nn.length=0,$n===!1?(d$1(Fn),Rn):Fn}}return Rn}function j$2(Pn,Cn){const $n=Object.defineProperties(Cn,{_vueTypes_name:{value:Pn,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(Rn){return Rn===void 0?(p$1(this,"default")&&delete this.default,this):h$2(Rn)||m$1(this,Rn,!0)===!0?(this.default=v$1(Rn)?()=>[...Rn]:c$1(Rn)?()=>Object.assign({},Rn):Rn,this):(d$1(`${this._vueTypes_name} - invalid default value: "${Rn}"`),this)}}}),{validator:_n}=$n;return h$2(_n)&&($n.validator=O$2(_n,$n)),$n}function _$2(Pn,Cn){const $n=j$2(Pn,Cn);return Object.defineProperty($n,"validate",{value(_n){return h$2(this.validator)&&d$1(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=O$2(_n,this),this}})}function T$2(Pn,Cn,$n){const _n=function(Nn){const Fn={};return Object.getOwnPropertyNames(Nn).forEach(Wn=>{Fn[Wn]=Object.getOwnPropertyDescriptor(Nn,Wn)}),Object.defineProperties({},Fn)}(Cn);if(_n._vueTypes_name=Pn,!c$1($n))return _n;const{validator:Rn}=$n,Bn=r$1($n,i$2);if(h$2(Rn)){let{validator:Nn}=_n;Nn&&(Nn=(Dn=(Ln=Nn).__original)!==null&&Dn!==void 0?Dn:Ln),_n.validator=O$2(Nn?function(Fn){return Nn.call(this,Fn)&&Rn.call(this,Fn)}:Rn,_n)}var Ln,Dn;return Object.assign(_n,Bn)}function $$1(Pn){return Pn.replace(/^(?!\s*$)/gm,"  ")}const w$2=()=>_$2("any",{}),P$3=()=>_$2("function",{type:Function}),x$2=()=>_$2("boolean",{type:Boolean}),E$1=()=>_$2("string",{type:String}),N$1=()=>_$2("number",{type:Number}),q$2=()=>_$2("array",{type:Array}),A$2=()=>_$2("object",{type:Object}),V$1=()=>j$2("integer",{type:Number,validator:Pn=>y$2(Pn)}),S$2=()=>j$2("symbol",{validator:Pn=>typeof Pn=="symbol"});function D$2(Pn,Cn="custom validation failed"){if(typeof Pn!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return j$2(Pn.name||"<<anonymous function>>",{type:null,validator($n){const _n=Pn($n);return _n||d$1(`${this._vueTypes_name} - ${Cn}`),_n}})}function L$1(Pn){if(!v$1(Pn))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const Cn=`oneOf - value should be one of "${Pn.join('", "')}".`,$n=Pn.reduce((_n,Rn)=>{if(Rn!=null){const Bn=Rn.constructor;_n.indexOf(Bn)===-1&&_n.push(Bn)}return _n},[]);return j$2("oneOf",{type:$n.length>0?$n:void 0,validator(_n){const Rn=Pn.indexOf(_n)!==-1;return Rn||d$1(Cn),Rn}})}function F$2(Pn){if(!v$1(Pn))throw new TypeError("[VueTypes error]: You must provide an array as argument");let Cn=!1,$n=[];for(let Rn=0;Rn<Pn.length;Rn+=1){const Bn=Pn[Rn];if(g$1(Bn)){if(b$1(Bn)&&Bn._vueTypes_name==="oneOf"&&Bn.type){$n=$n.concat(Bn.type);continue}if(h$2(Bn.validator)&&(Cn=!0),Bn.type===!0||!Bn.type){d$1('oneOfType - invalid usage of "true" or "null" as types.');continue}$n=$n.concat(Bn.type)}else $n.push(Bn)}$n=$n.filter((Rn,Bn)=>$n.indexOf(Rn)===Bn);const _n=$n.length>0?$n:null;return j$2("oneOfType",Cn?{type:_n,validator(Rn){const Bn=[],Ln=Pn.some(Dn=>{const Nn=m$1(b$1(Dn)&&Dn._vueTypes_name==="oneOf"?Dn.type||null:Dn,Rn,!0);return typeof Nn=="string"&&Bn.push(Nn),Nn===!0});return Ln||d$1(`oneOfType - provided value does not match any of the ${Bn.length} passed-in validators:
${$$1(Bn.join(`
`))}`),Ln}}:{type:_n})}function Y$1(Pn){return j$2("arrayOf",{type:Array,validator(Cn){let $n="";const _n=Cn.every(Rn=>($n=m$1(Pn,Rn,!0),$n===!0));return _n||d$1(`arrayOf - value validation error:
${$$1($n)}`),_n}})}function B$2(Pn){return j$2("instanceOf",{type:Pn})}function I$1(Pn){return j$2("objectOf",{type:Object,validator(Cn){let $n="";const _n=Object.keys(Cn).every(Rn=>($n=m$1(Pn,Cn[Rn],!0),$n===!0));return _n||d$1(`objectOf - value validation error:
${$$1($n)}`),_n}})}function J$1(Pn){const Cn=Object.keys(Pn),$n=Cn.filter(Rn=>{var Bn;return!((Bn=Pn[Rn])===null||Bn===void 0||!Bn.required)}),_n=j$2("shape",{type:Object,validator(Rn){if(!c$1(Rn))return!1;const Bn=Object.keys(Rn);if($n.length>0&&$n.some(Ln=>Bn.indexOf(Ln)===-1)){const Ln=$n.filter(Dn=>Bn.indexOf(Dn)===-1);return d$1(Ln.length===1?`shape - required property "${Ln[0]}" is not defined.`:`shape - required properties "${Ln.join('", "')}" are not defined.`),!1}return Bn.every(Ln=>{if(Cn.indexOf(Ln)===-1)return this._vueTypes_isLoose===!0||(d$1(`shape - shape definition does not include a "${Ln}" property. Allowed keys: "${Cn.join('", "')}".`),!1);const Dn=m$1(Pn[Ln],Rn[Ln],!0);return typeof Dn=="string"&&d$1(`shape - "${Ln}" property validation error:
 ${$$1(Dn)}`),Dn===!0})}});return Object.defineProperty(_n,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(_n,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),_n}const M$1=["name","validate","getter"],R$1=(()=>{var Pn;return(Pn=class{static get any(){return w$2()}static get func(){return P$3().def(this.defaults.func)}static get bool(){return x$2().def(this.defaults.bool)}static get string(){return E$1().def(this.defaults.string)}static get number(){return N$1().def(this.defaults.number)}static get array(){return q$2().def(this.defaults.array)}static get object(){return A$2().def(this.defaults.object)}static get integer(){return V$1().def(this.defaults.integer)}static get symbol(){return S$2()}static get nullable(){return{type:null}}static extend(Cn){if(v$1(Cn))return Cn.forEach(Nn=>this.extend(Nn)),this;const{name:$n,validate:_n=!1,getter:Rn=!1}=Cn,Bn=r$1(Cn,M$1);if(p$1(this,$n))throw new TypeError(`[VueTypes error]: Type "${$n}" already defined`);const{type:Ln}=Bn;if(b$1(Ln))return delete Bn.type,Object.defineProperty(this,$n,Rn?{get:()=>T$2($n,Ln,Bn)}:{value(...Nn){const Fn=T$2($n,Ln,Bn);return Fn.validator&&(Fn.validator=Fn.validator.bind(Fn,...Nn)),Fn}});let Dn;return Dn=Rn?{get(){const Nn=Object.assign({},Bn);return _n?_$2($n,Nn):j$2($n,Nn)},enumerable:!0}:{value(...Nn){const Fn=Object.assign({},Bn);let Wn;return Wn=_n?_$2($n,Fn):j$2($n,Fn),Fn.validator&&(Wn.validator=Fn.validator.bind(Wn,...Nn)),Wn},enumerable:!0},Object.defineProperty(this,$n,Dn)}}).defaults={},Pn.sensibleDefaults=void 0,Pn.config=n$1,Pn.custom=D$2,Pn.oneOf=L$1,Pn.instanceOf=B$2,Pn.oneOfType=F$2,Pn.arrayOf=Y$1,Pn.objectOf=I$1,Pn.shape=J$1,Pn.utils={validate:(Cn,$n)=>m$1($n,Cn,!0)===!0,toType:(Cn,$n,_n=!1)=>_n?_$2(Cn,$n):j$2(Cn,$n)},Pn})();function z$2(Pn={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var Cn;return(Cn=class extends R$1{static get sensibleDefaults(){return t$2({},this.defaults)}static set sensibleDefaults($n){this.defaults=$n!==!1?t$2({},$n!==!0?$n:Pn):{}}}).defaults=t$2({},Pn),Cn}let C$3=class extends z$2(){};var t$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(Pn){var Cn={exports:{}};return Pn(Cn,Cn.exports),Cn.exports}var n=function(Pn){return Pn&&Pn.Math==Math&&Pn},r=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof t$1=="object"&&t$1)||function(){return this}()||Function("return this")(),o=function(Pn){try{return!!Pn()}catch{return!0}},i$1=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),u={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c={f:a&&!u.call({1:2},1)?function(Pn){var Cn=a(this,Pn);return!!Cn&&Cn.enumerable}:u},l=function(Pn,Cn){return{enumerable:!(1&Pn),configurable:!(2&Pn),writable:!(4&Pn),value:Cn}},f={}.toString,s=function(Pn){return f.call(Pn).slice(8,-1)},d="".split,v=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(Pn){return s(Pn)=="String"?d.call(Pn,""):Object(Pn)}:Object,p=function(Pn){if(Pn==null)throw TypeError("Can't call method on "+Pn);return Pn},g=function(Pn){return v(p(Pn))},h$1=function(Pn){return typeof Pn=="object"?Pn!==null:typeof Pn=="function"},y$1=function(Pn,Cn){if(!h$1(Pn))return Pn;var $n,_n;if(Cn&&typeof($n=Pn.toString)=="function"&&!h$1(_n=$n.call(Pn))||typeof($n=Pn.valueOf)=="function"&&!h$1(_n=$n.call(Pn))||!Cn&&typeof($n=Pn.toString)=="function"&&!h$1(_n=$n.call(Pn)))return _n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,S$1=function(Pn,Cn){return m.call(Pn,Cn)},x$1=r.document,b=h$1(x$1)&&h$1(x$1.createElement),E=function(Pn){return b?x$1.createElement(Pn):{}},w$1=!i$1&&!o(function(){return Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a!=7}),O$1=Object.getOwnPropertyDescriptor,T$1={f:i$1?O$1:function(Pn,Cn){if(Pn=g(Pn),Cn=y$1(Cn,!0),w$1)try{return O$1(Pn,Cn)}catch{}if(S$1(Pn,Cn))return l(!c.f.call(Pn,Cn),Pn[Cn])}},A$1=function(Pn){if(!h$1(Pn))throw TypeError(String(Pn)+" is not an object");return Pn},k=Object.defineProperty,R={f:i$1?k:function(Pn,Cn,$n){if(A$1(Pn),Cn=y$1(Cn,!0),A$1($n),w$1)try{return k(Pn,Cn,$n)}catch{}if("get"in $n||"set"in $n)throw TypeError("Accessors not supported");return"value"in $n&&(Pn[Cn]=$n.value),Pn}},I=i$1?function(Pn,Cn,$n){return R.f(Pn,Cn,l(1,$n))}:function(Pn,Cn,$n){return Pn[Cn]=$n,Pn},j$1=function(Pn,Cn){try{I(r,Pn,Cn)}catch{r[Pn]=Cn}return Cn},C$2=r["__core-js_shared__"]||j$1("__core-js_shared__",{}),L=Function.toString;typeof C$2.inspectSource!="function"&&(C$2.inspectSource=function(Pn){return L.call(Pn)});var P$2,M,_$1,D$1=C$2.inspectSource,U$1=r.WeakMap,N=typeof U$1=="function"&&/native code/.test(D$1(U$1)),F$1=e(function(Pn){(Pn.exports=function(Cn,$n){return C$2[Cn]||(C$2[Cn]=$n!==void 0?$n:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),W$1=0,z$1=Math.random(),$=function(Pn){return"Symbol("+String(Pn===void 0?"":Pn)+")_"+(++W$1+z$1).toString(36)},B$1=F$1("keys"),Y=function(Pn){return B$1[Pn]||(B$1[Pn]=$(Pn))},G={},H=r.WeakMap;if(N){var X=C$2.state||(C$2.state=new H),V=X.get,K=X.has,q$1=X.set;P$2=function(Pn,Cn){return Cn.facade=Pn,q$1.call(X,Pn,Cn),Cn},M=function(Pn){return V.call(X,Pn)||{}},_$1=function(Pn){return K.call(X,Pn)}}else{var Q=Y("state");G[Q]=!0,P$2=function(Pn,Cn){return Cn.facade=Pn,I(Pn,Q,Cn),Cn},M=function(Pn){return S$1(Pn,Q)?Pn[Q]:{}},_$1=function(Pn){return S$1(Pn,Q)}}var J={set:P$2,get:M,has:_$1,enforce:function(Pn){return _$1(Pn)?M(Pn):P$2(Pn,{})},getterFor:function(Pn){return function(Cn){var $n;if(!h$1(Cn)||($n=M(Cn)).type!==Pn)throw TypeError("Incompatible receiver, "+Pn+" required");return $n}}},Z=e(function(Pn){var Cn=J.get,$n=J.enforce,_n=String(String).split("String");(Pn.exports=function(Rn,Bn,Ln,Dn){var Nn,Fn=!!Dn&&!!Dn.unsafe,Wn=!!Dn&&!!Dn.enumerable,zn=!!Dn&&!!Dn.noTargetGet;typeof Ln=="function"&&(typeof Bn!="string"||S$1(Ln,"name")||I(Ln,"name",Bn),(Nn=$n(Ln)).source||(Nn.source=_n.join(typeof Bn=="string"?Bn:""))),Rn!==r?(Fn?!zn&&Rn[Bn]&&(Wn=!0):delete Rn[Bn],Wn?Rn[Bn]=Ln:I(Rn,Bn,Ln)):Wn?Rn[Bn]=Ln:j$1(Bn,Ln)})(Function.prototype,"toString",function(){return typeof this=="function"&&Cn(this).source||D$1(this)})}),tt=r,et=function(Pn){return typeof Pn=="function"?Pn:void 0},nt=function(Pn,Cn){return arguments.length<2?et(tt[Pn])||et(r[Pn]):tt[Pn]&&tt[Pn][Cn]||r[Pn]&&r[Pn][Cn]},rt=Math.ceil,ot=Math.floor,it$1=function(Pn){return isNaN(Pn=+Pn)?0:(Pn>0?ot:rt)(Pn)},ut$1=Math.min,at=function(Pn){return Pn>0?ut$1(it$1(Pn),9007199254740991):0},ct$1=Math.max,lt$2=Math.min,ft$1=function(Pn,Cn){var $n=it$1(Pn);return $n<0?ct$1($n+Cn,0):lt$2($n,Cn)},st$1=function(Pn){return function(Cn,$n,_n){var Rn,Bn=g(Cn),Ln=at(Bn.length),Dn=ft$1(_n,Ln);if(Pn&&$n!=$n){for(;Ln>Dn;)if((Rn=Bn[Dn++])!=Rn)return!0}else for(;Ln>Dn;Dn++)if((Pn||Dn in Bn)&&Bn[Dn]===$n)return Pn||Dn||0;return!Pn&&-1}},dt$1={indexOf:st$1(!1)},vt$1=dt$1.indexOf,pt$1=function(Pn,Cn){var $n,_n=g(Pn),Rn=0,Bn=[];for($n in _n)!S$1(G,$n)&&S$1(_n,$n)&&Bn.push($n);for(;Cn.length>Rn;)S$1(_n,$n=Cn[Rn++])&&(~vt$1(Bn,$n)||Bn.push($n));return Bn},gt$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ht$1=gt$1.concat("length","prototype"),yt$1={f:Object.getOwnPropertyNames||function(Pn){return pt$1(Pn,ht$1)}},mt$1={f:Object.getOwnPropertySymbols},St$1=nt("Reflect","ownKeys")||function(Pn){var Cn=yt$1.f(A$1(Pn)),$n=mt$1.f;return $n?Cn.concat($n(Pn)):Cn},xt$1=function(Pn,Cn){for(var $n=St$1(Cn),_n=R.f,Rn=T$1.f,Bn=0;Bn<$n.length;Bn++){var Ln=$n[Bn];S$1(Pn,Ln)||_n(Pn,Ln,Rn(Cn,Ln))}},bt$1=/#|\.prototype\./,Et$1=function(Pn,Cn){var $n=Ot$1[wt$1(Pn)];return $n==At$1||$n!=Tt$1&&(typeof Cn=="function"?o(Cn):!!Cn)},wt$1=Et$1.normalize=function(Pn){return String(Pn).replace(bt$1,".").toLowerCase()},Ot$1=Et$1.data={},Tt$1=Et$1.NATIVE="N",At$1=Et$1.POLYFILL="P",kt$1=Et$1,Rt$1=T$1.f,It$1=function(Pn,Cn){var $n,_n,Rn,Bn,Ln,Dn=Pn.target,Nn=Pn.global,Fn=Pn.stat;if($n=Nn?r:Fn?r[Dn]||j$1(Dn,{}):(r[Dn]||{}).prototype)for(_n in Cn){if(Bn=Cn[_n],Rn=Pn.noTargetGet?(Ln=Rt$1($n,_n))&&Ln.value:$n[_n],!kt$1(Nn?_n:Dn+(Fn?".":"#")+_n,Pn.forced)&&Rn!==void 0){if(typeof Bn==typeof Rn)continue;xt$1(Bn,Rn)}(Pn.sham||Rn&&Rn.sham)&&I(Bn,"sham",!0),Z($n,_n,Bn,Pn)}},jt$1=function(Pn,Cn){var $n=[][Pn];return!!$n&&o(function(){$n.call(null,Cn||function(){throw 1},1)})},Ct$1=Object.defineProperty,Lt$1={},Pt$1=function(Pn){throw Pn},Mt$1=function(Pn,Cn){if(S$1(Lt$1,Pn))return Lt$1[Pn];Cn||(Cn={});var $n=[][Pn],_n=!!S$1(Cn,"ACCESSORS")&&Cn.ACCESSORS,Rn=S$1(Cn,0)?Cn[0]:Pt$1,Bn=S$1(Cn,1)?Cn[1]:void 0;return Lt$1[Pn]=!!$n&&!o(function(){if(_n&&!i$1)return!0;var Ln={length:-1};_n?Ct$1(Ln,1,{enumerable:!0,get:Pt$1}):Ln[1]=1,$n.call(Ln,Rn,Bn)})},_t$1=dt$1.indexOf,Dt$1=[].indexOf,Ut$1=!!Dt$1&&1/[1].indexOf(1,-0)<0,Nt$1=jt$1("indexOf"),Ft$1=Mt$1("indexOf",{ACCESSORS:!0,1:0});function Wt$1(Pn,Cn){if(!(Pn instanceof Cn))throw new TypeError("Cannot call a class as a function")}function zt$1(Pn,Cn){for(var $n=0;$n<Cn.length;$n++){var _n=Cn[$n];_n.enumerable=_n.enumerable||!1,_n.configurable=!0,"value"in _n&&(_n.writable=!0),Object.defineProperty(Pn,_n.key,_n)}}function $t$1(Pn,Cn,$n){return $n&&zt$1(Pn,$n),Pn}It$1({target:"Array",proto:!0,forced:Ut$1||!Nt$1||!Ft$1},{indexOf:function(Pn){return Ut$1?Dt$1.apply(this,arguments)||0:_t$1(this,Pn,arguments.length>1?arguments[1]:void 0)}});(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"isInBrowser",value:function(){return typeof window<"u"}},{key:"isServer",value:function(){return typeof window>"u"}},{key:"getUA",value:function(){return Pn.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return navigator.userAgent.indexOf("Opera")!==-1}},{key:"isIE",value:function(){var Cn=Pn.getUA();return Cn!==""&&Cn.indexOf("msie")>0}},{key:"isIE9",value:function(){var Cn=Pn.getUA();return Cn!==""&&Cn.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var Cn=Pn.getUA();return Cn!==""&&Cn.indexOf("edge/")>0}},{key:"isChrome",value:function(){var Cn=Pn.getUA();return Cn!==""&&/chrome\/\d+/.test(Cn)&&!Pn.isEdge()}},{key:"isPhantomJS",value:function(){var Cn=Pn.getUA();return Cn!==""&&/phantomjs/.test(Cn)}},{key:"isFirefox",value:function(){var Cn=Pn.getUA();return Cn!==""&&/firefox/.test(Cn)}}]),Pn})();var Yt$1=[].join,Gt$1=v!=Object,Ht$1=jt$1("join",",");It$1({target:"Array",proto:!0,forced:Gt$1||!Ht$1},{join:function(Pn){return Yt$1.call(g(this),Pn===void 0?",":Pn)}});var Xt$1,Vt$1,Kt$1=function(Pn){return Object(p(Pn))},qt$1=Array.isArray||function(Pn){return s(Pn)=="Array"},Qt$1=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())}),Jt$1=Qt$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Zt$1=F$1("wks"),te=r.Symbol,ee=Jt$1?te:te&&te.withoutSetter||$,ne=function(Pn){return S$1(Zt$1,Pn)||(Qt$1&&S$1(te,Pn)?Zt$1[Pn]=te[Pn]:Zt$1[Pn]=ee("Symbol."+Pn)),Zt$1[Pn]},re$1=ne("species"),oe=function(Pn,Cn){var $n;return qt$1(Pn)&&(typeof($n=Pn.constructor)!="function"||$n!==Array&&!qt$1($n.prototype)?h$1($n)&&($n=$n[re$1])===null&&($n=void 0):$n=void 0),new($n===void 0?Array:$n)(Cn===0?0:Cn)},ie$2=function(Pn,Cn,$n){var _n=y$1(Cn);_n in Pn?R.f(Pn,_n,l(0,$n)):Pn[_n]=$n},ue$1=nt("navigator","userAgent")||"",ae=r.process,ce=ae&&ae.versions,le=ce&&ce.v8;le?Vt$1=(Xt$1=le.split("."))[0]+Xt$1[1]:ue$1&&(!(Xt$1=ue$1.match(/Edge\/(\d+)/))||Xt$1[1]>=74)&&(Xt$1=ue$1.match(/Chrome\/(\d+)/))&&(Vt$1=Xt$1[1]);var fe$1=Vt$1&&+Vt$1,se=ne("species"),de$1=function(Pn){return fe$1>=51||!o(function(){var Cn=[];return(Cn.constructor={})[se]=function(){return{foo:1}},Cn[Pn](Boolean).foo!==1})},ve$1=de$1("splice"),pe=Mt$1("splice",{ACCESSORS:!0,0:0,1:2}),ge=Math.max,he=Math.min;It$1({target:"Array",proto:!0,forced:!ve$1||!pe},{splice:function(Pn,Cn){var $n,_n,Rn,Bn,Ln,Dn,Nn=Kt$1(this),Fn=at(Nn.length),Wn=ft$1(Pn,Fn),zn=arguments.length;if(zn===0?$n=_n=0:zn===1?($n=0,_n=Fn-Wn):($n=zn-2,_n=he(ge(it$1(Cn),0),Fn-Wn)),Fn+$n-_n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(Rn=oe(Nn,_n),Bn=0;Bn<_n;Bn++)(Ln=Wn+Bn)in Nn&&ie$2(Rn,Bn,Nn[Ln]);if(Rn.length=_n,$n<_n){for(Bn=Wn;Bn<Fn-_n;Bn++)Dn=Bn+$n,(Ln=Bn+_n)in Nn?Nn[Dn]=Nn[Ln]:delete Nn[Dn];for(Bn=Fn;Bn>Fn-_n+$n;Bn--)delete Nn[Bn-1]}else if($n>_n)for(Bn=Fn-_n;Bn>Wn;Bn--)Dn=Bn+$n-1,(Ln=Bn+_n-1)in Nn?Nn[Dn]=Nn[Ln]:delete Nn[Dn];for(Bn=0;Bn<$n;Bn++)Nn[Bn+Wn]=arguments[Bn+2];return Nn.length=Fn-_n+$n,Rn}});var ye$1={};ye$1[ne("toStringTag")]="z";var me$1=String(ye$1)==="[object z]",Se$1=ne("toStringTag"),xe=s(function(){return arguments}())=="Arguments",be$1=me$1?s:function(Pn){var Cn,$n,_n;return Pn===void 0?"Undefined":Pn===null?"Null":typeof($n=function(Rn,Bn){try{return Rn[Bn]}catch{}}(Cn=Object(Pn),Se$1))=="string"?$n:xe?s(Cn):(_n=s(Cn))=="Object"&&typeof Cn.callee=="function"?"Arguments":_n},Ee=me$1?{}.toString:function(){return"[object "+be$1(this)+"]"};me$1||Z(Object.prototype,"toString",Ee,{unsafe:!0});var we=function(){var Pn=A$1(this),Cn="";return Pn.global&&(Cn+="g"),Pn.ignoreCase&&(Cn+="i"),Pn.multiline&&(Cn+="m"),Pn.dotAll&&(Cn+="s"),Pn.unicode&&(Cn+="u"),Pn.sticky&&(Cn+="y"),Cn};function Oe(Pn,Cn){return RegExp(Pn,Cn)}var Te,Ae$1,ke$1={UNSUPPORTED_Y:o(function(){var Pn=Oe("a","y");return Pn.lastIndex=2,Pn.exec("abcd")!=null}),BROKEN_CARET:o(function(){var Pn=Oe("^r","gy");return Pn.lastIndex=2,Pn.exec("str")!=null})},Re=RegExp.prototype.exec,Ie=String.prototype.replace,je=Re,Ce$1=(Te=/a/,Ae$1=/b*/g,Re.call(Te,"a"),Re.call(Ae$1,"a"),Te.lastIndex!==0||Ae$1.lastIndex!==0),Le$1=ke$1.UNSUPPORTED_Y||ke$1.BROKEN_CARET,Pe$1=/()??/.exec("")[1]!==void 0;(Ce$1||Pe$1||Le$1)&&(je=function(Pn){var Cn,$n,_n,Rn,Bn=this,Ln=Le$1&&Bn.sticky,Dn=we.call(Bn),Nn=Bn.source,Fn=0,Wn=Pn;return Ln&&((Dn=Dn.replace("y","")).indexOf("g")===-1&&(Dn+="g"),Wn=String(Pn).slice(Bn.lastIndex),Bn.lastIndex>0&&(!Bn.multiline||Bn.multiline&&Pn[Bn.lastIndex-1]!==`
`)&&(Nn="(?: "+Nn+")",Wn=" "+Wn,Fn++),$n=new RegExp("^(?:"+Nn+")",Dn)),Pe$1&&($n=new RegExp("^"+Nn+"$(?!\\s)",Dn)),Ce$1&&(Cn=Bn.lastIndex),_n=Re.call(Ln?$n:Bn,Wn),Ln?_n?(_n.input=_n.input.slice(Fn),_n[0]=_n[0].slice(Fn),_n.index=Bn.lastIndex,Bn.lastIndex+=_n[0].length):Bn.lastIndex=0:Ce$1&&_n&&(Bn.lastIndex=Bn.global?_n.index+_n[0].length:Cn),Pe$1&&_n&&_n.length>1&&Ie.call(_n[0],$n,function(){for(Rn=1;Rn<arguments.length-2;Rn++)arguments[Rn]===void 0&&(_n[Rn]=void 0)}),_n});var Me$1=je;It$1({target:"RegExp",proto:!0,forced:/./.exec!==Me$1},{exec:Me$1});var _e$1=RegExp.prototype,De=_e$1.toString,Ue=o(function(){return De.call({source:"a",flags:"b"})!="/a/b"}),Ne$1=De.name!="toString";(Ue||Ne$1)&&Z(RegExp.prototype,"toString",function(){var Pn=A$1(this),Cn=String(Pn.source),$n=Pn.flags;return"/"+Cn+"/"+String($n===void 0&&Pn instanceof RegExp&&!("flags"in _e$1)?we.call(Pn):$n)},{unsafe:!0});var Fe=ne("species"),We=!o(function(){var Pn=/./;return Pn.exec=function(){var Cn=[];return Cn.groups={a:"7"},Cn},"".replace(Pn,"$<a>")!=="7"}),ze="a".replace(/./,"$0")==="$0",$e=ne("replace"),Be=!!/./[$e]&&/./[$e]("a","$0")==="",Ye$1=!o(function(){var Pn=/(?:)/,Cn=Pn.exec;Pn.exec=function(){return Cn.apply(this,arguments)};var $n="ab".split(Pn);return $n.length!==2||$n[0]!=="a"||$n[1]!=="b"}),Ge=function(Pn,Cn,$n,_n){var Rn=ne(Pn),Bn=!o(function(){var zn={};return zn[Rn]=function(){return 7},""[Pn](zn)!=7}),Ln=Bn&&!o(function(){var zn=!1,Yn=/a/;return Pn==="split"&&((Yn={}).constructor={},Yn.constructor[Fe]=function(){return Yn},Yn.flags="",Yn[Rn]=/./[Rn]),Yn.exec=function(){return zn=!0,null},Yn[Rn](""),!zn});if(!Bn||!Ln||Pn==="replace"&&(!We||!ze||Be)||Pn==="split"&&!Ye$1){var Dn=/./[Rn],Nn=$n(Rn,""[Pn],function(zn,Yn,Gn,ei,ti){return Yn.exec===Me$1?Bn&&!ti?{done:!0,value:Dn.call(Yn,Gn,ei)}:{done:!0,value:zn.call(Gn,Yn,ei)}:{done:!1}},{REPLACE_KEEPS_$0:ze,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Be}),Fn=Nn[0],Wn=Nn[1];Z(String.prototype,Pn,Fn),Z(RegExp.prototype,Rn,function(zn,Yn){return Wn.call(zn,this,Yn)})}_n&&I(RegExp.prototype[Rn],"sham",!0)},He=ne("match"),Xe=function(Pn){var Cn;return h$1(Pn)&&((Cn=Pn[He])!==void 0?!!Cn:s(Pn)=="RegExp")},Ve$1=function(Pn){if(typeof Pn!="function")throw TypeError(String(Pn)+" is not a function");return Pn},Ke$1=ne("species"),qe$1=function(Pn){return function(Cn,$n){var _n,Rn,Bn=String(p(Cn)),Ln=it$1($n),Dn=Bn.length;return Ln<0||Ln>=Dn?Pn?"":void 0:(_n=Bn.charCodeAt(Ln))<55296||_n>56319||Ln+1===Dn||(Rn=Bn.charCodeAt(Ln+1))<56320||Rn>57343?Pn?Bn.charAt(Ln):_n:Pn?Bn.slice(Ln,Ln+2):Rn-56320+(_n-55296<<10)+65536}},Qe={charAt:qe$1(!0)},Je=Qe.charAt,Ze=function(Pn,Cn,$n){return Cn+($n?Je(Pn,Cn).length:1)},tn=function(Pn,Cn){var $n=Pn.exec;if(typeof $n=="function"){var _n=$n.call(Pn,Cn);if(typeof _n!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _n}if(s(Pn)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Me$1.call(Pn,Cn)},en=[].push,nn=Math.min,rn$1=!o(function(){return!RegExp(4294967295,"y")});Ge("split",2,function(Pn,Cn,$n){var _n;return _n="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Rn,Bn){var Ln=String(p(this)),Dn=Bn===void 0?4294967295:Bn>>>0;if(Dn===0)return[];if(Rn===void 0)return[Ln];if(!Xe(Rn))return Cn.call(Ln,Rn,Dn);for(var Nn,Fn,Wn,zn=[],Yn=(Rn.ignoreCase?"i":"")+(Rn.multiline?"m":"")+(Rn.unicode?"u":"")+(Rn.sticky?"y":""),Gn=0,ei=new RegExp(Rn.source,Yn+"g");(Nn=Me$1.call(ei,Ln))&&!((Fn=ei.lastIndex)>Gn&&(zn.push(Ln.slice(Gn,Nn.index)),Nn.length>1&&Nn.index<Ln.length&&en.apply(zn,Nn.slice(1)),Wn=Nn[0].length,Gn=Fn,zn.length>=Dn));)ei.lastIndex===Nn.index&&ei.lastIndex++;return Gn===Ln.length?!Wn&&ei.test("")||zn.push(""):zn.push(Ln.slice(Gn)),zn.length>Dn?zn.slice(0,Dn):zn}:"0".split(void 0,0).length?function(Rn,Bn){return Rn===void 0&&Bn===0?[]:Cn.call(this,Rn,Bn)}:Cn,[function(Rn,Bn){var Ln=p(this),Dn=Rn==null?void 0:Rn[Pn];return Dn!==void 0?Dn.call(Rn,Ln,Bn):_n.call(String(Ln),Rn,Bn)},function(Rn,Bn){var Ln=$n(_n,Rn,this,Bn,_n!==Cn);if(Ln.done)return Ln.value;var Dn=A$1(Rn),Nn=String(this),Fn=function(ui,di){var yi,mi=A$1(ui).constructor;return mi===void 0||(yi=A$1(mi)[Ke$1])==null?di:Ve$1(yi)}(Dn,RegExp),Wn=Dn.unicode,zn=(Dn.ignoreCase?"i":"")+(Dn.multiline?"m":"")+(Dn.unicode?"u":"")+(rn$1?"y":"g"),Yn=new Fn(rn$1?Dn:"^(?:"+Dn.source+")",zn),Gn=Bn===void 0?4294967295:Bn>>>0;if(Gn===0)return[];if(Nn.length===0)return tn(Yn,Nn)===null?[Nn]:[];for(var ei=0,ti=0,ii=[];ti<Nn.length;){Yn.lastIndex=rn$1?ti:0;var oi,ai=tn(Yn,rn$1?Nn:Nn.slice(ti));if(ai===null||(oi=nn(at(Yn.lastIndex+(rn$1?0:ti)),Nn.length))===ei)ti=Ze(Nn,ti,Wn);else{if(ii.push(Nn.slice(ei,ti)),ii.length===Gn)return ii;for(var fi=1;fi<=ai.length-1;fi++)if(ii.push(ai[fi]),ii.length===Gn)return ii;ti=ei=oi}}return ii.push(Nn.slice(ei)),ii}]},!rn$1);var on=`	
\v\f\r \u2028\u2029\uFEFF`,un="["+on+"]",an=RegExp("^"+un+un+"*"),cn=RegExp(un+un+"*$"),ln=function(Pn){return function(Cn){var $n=String(p(Cn));return 1&Pn&&($n=$n.replace(an,"")),2&Pn&&($n=$n.replace(cn,"")),$n}},fn={trim:ln(3)},sn=fn.trim;It$1({target:"String",proto:!0,forced:function(Pn){return o(function(){return!!on[Pn]()||""[Pn]()!=""||on[Pn].name!==Pn})}("trim")},{trim:function(){return sn(this)}});var dn=de$1("slice"),vn=Mt$1("slice",{ACCESSORS:!0,0:0,1:2}),pn=ne("species"),gn=[].slice,hn=Math.max;It$1({target:"Array",proto:!0,forced:!dn||!vn},{slice:function(Pn,Cn){var $n,_n,Rn,Bn=g(this),Ln=at(Bn.length),Dn=ft$1(Pn,Ln),Nn=ft$1(Cn===void 0?Ln:Cn,Ln);if(qt$1(Bn)&&(typeof($n=Bn.constructor)!="function"||$n!==Array&&!qt$1($n.prototype)?h$1($n)&&($n=$n[pn])===null&&($n=void 0):$n=void 0,$n===Array||$n===void 0))return gn.call(Bn,Dn,Nn);for(_n=new($n===void 0?Array:$n)(hn(Nn-Dn,0)),Rn=0;Dn<Nn;Dn++,Rn++)Dn in Bn&&ie$2(_n,Rn,Bn[Dn]);return _n.length=Rn,_n}});var yn=Object.keys||function(Pn){return pt$1(Pn,gt$1)},mn=o(function(){yn(1)});It$1({target:"Object",stat:!0,forced:mn},{keys:function(Pn){return yn(Kt$1(Pn))}});var Sn,xn=function(Pn){if(Xe(Pn))throw TypeError("The method doesn't accept regular expressions");return Pn},bn=ne("match"),En=T$1.f,wn="".startsWith,On=Math.min,Tn=function(Pn){var Cn=/./;try{"/./"[Pn](Cn)}catch{try{return Cn[bn]=!1,"/./"[Pn](Cn)}catch{}}return!1}("startsWith"),An=!(Tn||(Sn=En(String.prototype,"startsWith"),!Sn||Sn.writable));function kn(Pn){return(kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Cn){return typeof Cn}:function(Cn){return Cn&&typeof Symbol=="function"&&Cn.constructor===Symbol&&Cn!==Symbol.prototype?"symbol":typeof Cn})(Pn)}It$1({target:"String",proto:!0,forced:!An&&!Tn},{startsWith:function(Pn){var Cn=String(p(this));xn(Pn);var $n=at(On(arguments.length>1?arguments[1]:void 0,Cn.length)),_n=String(Pn);return wn?wn.call(Cn,_n,$n):Cn.slice($n,$n+_n.length)===_n}});var jn=function(Pn){return typeof Pn=="string"},Mn=function(Pn){return Pn!==null&&kn(Pn)==="object"},Vn=function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"isWindow",value:function(Cn){return Cn===window}},{key:"addEventListener",value:function(Cn,$n,_n){var Rn=arguments.length>3&&arguments[3]!==void 0&&arguments[3];Cn&&$n&&_n&&Cn.addEventListener($n,_n,Rn)}},{key:"removeEventListener",value:function(Cn,$n,_n){var Rn=arguments.length>3&&arguments[3]!==void 0&&arguments[3];Cn&&$n&&_n&&Cn.removeEventListener($n,_n,Rn)}},{key:"triggerDragEvent",value:function(Cn,$n){var _n=!1,Rn=function(Ln){var Dn;(Dn=$n.drag)===null||Dn===void 0||Dn.call($n,Ln)},Bn=function Ln(Dn){var Nn;Pn.removeEventListener(document,"mousemove",Rn),Pn.removeEventListener(document,"mouseup",Ln),document.onselectstart=null,document.ondragstart=null,_n=!1,(Nn=$n.end)===null||Nn===void 0||Nn.call($n,Dn)};Pn.addEventListener(Cn,"mousedown",function(Ln){var Dn;_n||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},Pn.addEventListener(document,"mousemove",Rn),Pn.addEventListener(document,"mouseup",Bn),_n=!0,(Dn=$n.start)===null||Dn===void 0||Dn.call($n,Ln))})}},{key:"getBoundingClientRect",value:function(Cn){return Cn&&Mn(Cn)&&Cn.nodeType===1?Cn.getBoundingClientRect():null}},{key:"hasClass",value:function(Cn,$n){return!!(Cn&&Mn(Cn)&&jn($n)&&Cn.nodeType===1)&&Cn.classList.contains($n.trim())}},{key:"addClass",value:function(Cn,$n){if(Cn&&Mn(Cn)&&jn($n)&&Cn.nodeType===1&&($n=$n.trim(),!Pn.hasClass(Cn,$n))){var _n=Cn.className;Cn.className=_n?_n+" "+$n:$n}}},{key:"removeClass",value:function(Cn,$n){if(Cn&&Mn(Cn)&&jn($n)&&Cn.nodeType===1&&typeof Cn.className=="string"){$n=$n.trim();for(var _n=Cn.className.trim().split(" "),Rn=_n.length-1;Rn>=0;Rn--)_n[Rn]=_n[Rn].trim(),_n[Rn]&&_n[Rn]!==$n||_n.splice(Rn,1);Cn.className=_n.join(" ")}}},{key:"toggleClass",value:function(Cn,$n,_n){Cn&&Mn(Cn)&&jn($n)&&Cn.nodeType===1&&Cn.classList.toggle($n,_n)}},{key:"replaceClass",value:function(Cn,$n,_n){Cn&&Mn(Cn)&&jn($n)&&jn(_n)&&Cn.nodeType===1&&($n=$n.trim(),_n=_n.trim(),Pn.removeClass(Cn,$n),Pn.addClass(Cn,_n))}},{key:"getScrollTop",value:function(Cn){var $n="scrollTop"in Cn?Cn.scrollTop:Cn.pageYOffset;return Math.max($n,0)}},{key:"setScrollTop",value:function(Cn,$n){"scrollTop"in Cn?Cn.scrollTop=$n:Cn.scrollTo(Cn.scrollX,$n)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(Cn){Pn.setScrollTop(window,Cn),Pn.setScrollTop(document.body,Cn)}},{key:"getElementTop",value:function(Cn,$n){if(Pn.isWindow(Cn))return 0;var _n=$n?Pn.getScrollTop($n):Pn.getRootScrollTop();return Cn.getBoundingClientRect().top+_n}},{key:"getVisibleHeight",value:function(Cn){return Pn.isWindow(Cn)?Cn.innerHeight:Cn.getBoundingClientRect().height}},{key:"isHidden",value:function(Cn){if(!Cn)return!1;var $n=window.getComputedStyle(Cn),_n=$n.display==="none",Rn=Cn.offsetParent===null&&$n.position!=="fixed";return _n||Rn}},{key:"triggerEvent",value:function(Cn,$n){if("createEvent"in document){var _n=document.createEvent("HTMLEvents");_n.initEvent($n,!1,!0),Cn.dispatchEvent(_n)}}},{key:"calcAngle",value:function(Cn,$n){var _n=Cn.getBoundingClientRect(),Rn=_n.left+_n.width/2,Bn=_n.top+_n.height/2,Ln=Math.abs(Rn-$n.clientX),Dn=Math.abs(Bn-$n.clientY),Nn=Dn/Math.sqrt(Math.pow(Ln,2)+Math.pow(Dn,2)),Fn=Math.acos(Nn),Wn=Math.floor(180/(Math.PI/Fn));return $n.clientX>Rn&&$n.clientY>Bn&&(Wn=180-Wn),$n.clientX==Rn&&$n.clientY>Bn&&(Wn=180),$n.clientX>Rn&&$n.clientY==Bn&&(Wn=90),$n.clientX<Rn&&$n.clientY>Bn&&(Wn=180+Wn),$n.clientX<Rn&&$n.clientY==Bn&&(Wn=270),$n.clientX<Rn&&$n.clientY<Bn&&(Wn=360-Wn),Wn}},{key:"querySelector",value:function(Cn,$n){return $n?$n.querySelector(Cn):document.querySelector(Cn)}},{key:"createElement",value:function(Cn){for(var $n=document.createElement(Cn),_n=arguments.length,Rn=new Array(_n>1?_n-1:0),Bn=1;Bn<_n;Bn++)Rn[Bn-1]=arguments[Bn];for(var Ln=0;Ln<Rn.length;Ln++)Rn[Ln]&&$n.classList.add(Rn[Ln]);return $n}},{key:"appendChild",value:function(Cn){for(var $n=0;$n<(arguments.length<=1?0:arguments.length-1);$n++)Cn.appendChild($n+1<1||arguments.length<=$n+1?void 0:arguments[$n+1])}},{key:"getWindow",value:function(Cn){if(Cn.toString()!=="[object Window]"){var $n=Cn.ownerDocument;return $n&&$n.defaultView||window}return Cn}},{key:"isElement",value:function(Cn){return Cn instanceof this.getWindow(Cn).Element||Cn instanceof Element}},{key:"isHTMLElement",value:function(Cn){return Cn instanceof this.getWindow(Cn).HTMLElement||Cn instanceof HTMLElement}},{key:"isShadowRoot",value:function(Cn){return typeof ShadowRoot<"u"&&(Cn instanceof this.getWindow(Cn).ShadowRoot||Cn instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(Cn){var $n=this.getWindow(Cn);return{scrollLeft:$n.pageXOffset||0,scrollTop:$n.pageYOffset||0}}}]),Pn}(),Kn=Math.floor,qn="".replace,Qn=/\$([$&'`]|\d\d?|<[^>]*>)/g,Jn=/\$([$&'`]|\d\d?)/g,Zn=function(Pn,Cn,$n,_n,Rn,Bn){var Ln=$n+Pn.length,Dn=_n.length,Nn=Jn;return Rn!==void 0&&(Rn=Kt$1(Rn),Nn=Qn),qn.call(Bn,Nn,function(Fn,Wn){var zn;switch(Wn.charAt(0)){case"$":return"$";case"&":return Pn;case"`":return Cn.slice(0,$n);case"'":return Cn.slice(Ln);case"<":zn=Rn[Wn.slice(1,-1)];break;default:var Yn=+Wn;if(Yn===0)return Fn;if(Yn>Dn){var Gn=Kn(Yn/10);return Gn===0?Fn:Gn<=Dn?_n[Gn-1]===void 0?Wn.charAt(1):_n[Gn-1]+Wn.charAt(1):Fn}zn=_n[Yn-1]}return zn===void 0?"":zn})},tr=Math.max,er=Math.min;Ge("replace",2,function(Pn,Cn,$n,_n){var Rn=_n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Bn=_n.REPLACE_KEEPS_$0,Ln=Rn?"$":"$0";return[function(Dn,Nn){var Fn=p(this),Wn=Dn==null?void 0:Dn[Pn];return Wn!==void 0?Wn.call(Dn,Fn,Nn):Cn.call(String(Fn),Dn,Nn)},function(Dn,Nn){if(!Rn&&Bn||typeof Nn=="string"&&Nn.indexOf(Ln)===-1){var Fn=$n(Cn,Dn,this,Nn);if(Fn.done)return Fn.value}var Wn=A$1(Dn),zn=String(this),Yn=typeof Nn=="function";Yn||(Nn=String(Nn));var Gn=Wn.global;if(Gn){var ei=Wn.unicode;Wn.lastIndex=0}for(var ti=[];;){var ii=tn(Wn,zn);if(ii===null||(ti.push(ii),!Gn))break;String(ii[0])===""&&(Wn.lastIndex=Ze(zn,at(Wn.lastIndex),ei))}for(var oi,ai="",fi=0,ui=0;ui<ti.length;ui++){ii=ti[ui];for(var di=String(ii[0]),yi=tr(er(it$1(ii.index),zn.length),0),mi=[],ki=1;ki<ii.length;ki++)mi.push((oi=ii[ki])===void 0?oi:String(oi));var _i=ii.groups;if(Yn){var Pi=[di].concat(mi,yi,zn);_i!==void 0&&Pi.push(_i);var Oi=String(Nn.apply(void 0,Pi))}else Oi=Zn(di,zn,yi,mi,_i,Nn);yi>=fi&&(ai+=zn.slice(fi,yi)+Oi,fi=yi+di.length)}return ai+zn.slice(fi)}]});(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"camelize",value:function(Cn){return Cn.replace(/-(\w)/g,function($n,_n){return _n?_n.toUpperCase():""})}},{key:"capitalize",value:function(Cn){return Cn.charAt(0).toUpperCase()+Cn.slice(1)}}]),Pn})();(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"_clone",value:function(){}}]),Pn})();var or=ne("isConcatSpreadable"),ir=fe$1>=51||!o(function(){var Pn=[];return Pn[or]=!1,Pn.concat()[0]!==Pn}),ur=de$1("concat"),ar=function(Pn){if(!h$1(Pn))return!1;var Cn=Pn[or];return Cn!==void 0?!!Cn:qt$1(Pn)};It$1({target:"Array",proto:!0,forced:!ir||!ur},{concat:function(Pn){var Cn,$n,_n,Rn,Bn,Ln=Kt$1(this),Dn=oe(Ln,0),Nn=0;for(Cn=-1,_n=arguments.length;Cn<_n;Cn++)if(ar(Bn=Cn===-1?Ln:arguments[Cn])){if(Nn+(Rn=at(Bn.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for($n=0;$n<Rn;$n++,Nn++)$n in Bn&&ie$2(Dn,Nn,Bn[$n])}else{if(Nn>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ie$2(Dn,Nn++,Bn)}return Dn.length=Nn,Dn}});var cr,lr=function(Pn,Cn,$n){if(Ve$1(Pn),Cn===void 0)return Pn;switch($n){case 0:return function(){return Pn.call(Cn)};case 1:return function(_n){return Pn.call(Cn,_n)};case 2:return function(_n,Rn){return Pn.call(Cn,_n,Rn)};case 3:return function(_n,Rn,Bn){return Pn.call(Cn,_n,Rn,Bn)}}return function(){return Pn.apply(Cn,arguments)}},fr=[].push,sr=function(Pn){var Cn=Pn==1,$n=Pn==2,_n=Pn==3,Rn=Pn==4,Bn=Pn==6,Ln=Pn==7,Dn=Pn==5||Bn;return function(Nn,Fn,Wn,zn){for(var Yn,Gn,ei=Kt$1(Nn),ti=v(ei),ii=lr(Fn,Wn,3),oi=at(ti.length),ai=0,fi=zn||oe,ui=Cn?fi(Nn,oi):$n||Ln?fi(Nn,0):void 0;oi>ai;ai++)if((Dn||ai in ti)&&(Gn=ii(Yn=ti[ai],ai,ei),Pn))if(Cn)ui[ai]=Gn;else if(Gn)switch(Pn){case 3:return!0;case 5:return Yn;case 6:return ai;case 2:fr.call(ui,Yn)}else switch(Pn){case 4:return!1;case 7:fr.call(ui,Yn)}return Bn?-1:_n||Rn?Rn:ui}},dr={find:sr(5),findIndex:sr(6)},vr=i$1?Object.defineProperties:function(Pn,Cn){A$1(Pn);for(var $n,_n=yn(Cn),Rn=_n.length,Bn=0;Rn>Bn;)R.f(Pn,$n=_n[Bn++],Cn[$n]);return Pn},pr=nt("document","documentElement"),gr=Y("IE_PROTO"),hr=function(){},yr=function(Pn){return"<script>"+Pn+"<\/script>"},mr=function(){try{cr=document.domain&&new ActiveXObject("htmlfile")}catch{}var Pn,Cn;mr=cr?function(_n){_n.write(yr("")),_n.close();var Rn=_n.parentWindow.Object;return _n=null,Rn}(cr):((Cn=E("iframe")).style.display="none",pr.appendChild(Cn),Cn.src="javascript:",(Pn=Cn.contentWindow.document).open(),Pn.write(yr("document.F=Object")),Pn.close(),Pn.F);for(var $n=gt$1.length;$n--;)delete mr.prototype[gt$1[$n]];return mr()};G[gr]=!0;var Sr=Object.create||function(Pn,Cn){var $n;return Pn!==null?(hr.prototype=A$1(Pn),$n=new hr,hr.prototype=null,$n[gr]=Pn):$n=mr(),Cn===void 0?$n:vr($n,Cn)},xr=ne("unscopables"),br=Array.prototype;br[xr]==null&&R.f(br,xr,{configurable:!0,value:Sr(null)});var Er=function(Pn){br[xr][Pn]=!0},wr=dr.find,Or=!0,Tr=Mt$1("find");"find"in[]&&Array(1).find(function(){Or=!1}),It$1({target:"Array",proto:!0,forced:Or||!Tr},{find:function(Pn){return wr(this,Pn,arguments.length>1?arguments[1]:void 0)}}),Er("find");var Ar=dr.findIndex,kr=!0,Rr=Mt$1("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){kr=!1}),It$1({target:"Array",proto:!0,forced:kr||!Rr},{findIndex:function(Pn){return Ar(this,Pn,arguments.length>1?arguments[1]:void 0)}}),Er("findIndex");var Ir=function(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn){for(var Nn,Fn=Rn,Wn=0,zn=!!Ln&&lr(Ln,Dn,3);Wn<_n;){if(Wn in $n){if(Nn=zn?zn($n[Wn],Wn,Cn):$n[Wn],Bn>0&&qt$1(Nn))Fn=Ir(Pn,Cn,Nn,at(Nn.length),Fn,Bn-1)-1;else{if(Fn>=9007199254740991)throw TypeError("Exceed the acceptable array length");Pn[Fn]=Nn}Fn++}Wn++}return Fn},jr=Ir;It$1({target:"Array",proto:!0},{flat:function(){var Pn=arguments.length?arguments[0]:void 0,Cn=Kt$1(this),$n=at(Cn.length),_n=oe(Cn,0);return _n.length=jr(_n,Cn,Cn,$n,0,Pn===void 0?1:it$1(Pn)),_n}});var Cr=function(Pn){var Cn=Pn.return;if(Cn!==void 0)return A$1(Cn.call(Pn)).value},Lr=function(Pn,Cn,$n,_n){try{return _n?Cn(A$1($n)[0],$n[1]):Cn($n)}catch(Rn){throw Cr(Pn),Rn}},Pr={},Mr=ne("iterator"),_r=Array.prototype,Dr=function(Pn){return Pn!==void 0&&(Pr.Array===Pn||_r[Mr]===Pn)},Ur=ne("iterator"),Nr=function(Pn){if(Pn!=null)return Pn[Ur]||Pn["@@iterator"]||Pr[be$1(Pn)]},Fr=ne("iterator"),Wr=!1;try{var zr=0,$r={next:function(){return{done:!!zr++}},return:function(){Wr=!0}};$r[Fr]=function(){return this},Array.from($r,function(){throw 2})}catch{}var Br=function(Pn,Cn){if(!Wr)return!1;var $n=!1;try{var _n={};_n[Fr]=function(){return{next:function(){return{done:$n=!0}}}},Pn(_n)}catch{}return $n},Yr=!Br(function(Pn){Array.from(Pn)});It$1({target:"Array",stat:!0,forced:Yr},{from:function(Pn){var Cn,$n,_n,Rn,Bn,Ln,Dn=Kt$1(Pn),Nn=typeof this=="function"?this:Array,Fn=arguments.length,Wn=Fn>1?arguments[1]:void 0,zn=Wn!==void 0,Yn=Nr(Dn),Gn=0;if(zn&&(Wn=lr(Wn,Fn>2?arguments[2]:void 0,2)),Yn==null||Nn==Array&&Dr(Yn))for($n=new Nn(Cn=at(Dn.length));Cn>Gn;Gn++)Ln=zn?Wn(Dn[Gn],Gn):Dn[Gn],ie$2($n,Gn,Ln);else for(Bn=(Rn=Yn.call(Dn)).next,$n=new Nn;!(_n=Bn.call(Rn)).done;Gn++)Ln=zn?Lr(Rn,Wn,[_n.value,Gn],!0):_n.value,ie$2($n,Gn,Ln);return $n.length=Gn,$n}});var Gr=function(Pn){return function(Cn,$n,_n,Rn){Ve$1($n);var Bn=Kt$1(Cn),Ln=v(Bn),Dn=at(Bn.length),Nn=Pn?Dn-1:0,Fn=Pn?-1:1;if(_n<2)for(;;){if(Nn in Ln){Rn=Ln[Nn],Nn+=Fn;break}if(Nn+=Fn,Pn?Nn<0:Dn<=Nn)throw TypeError("Reduce of empty array with no initial value")}for(;Pn?Nn>=0:Dn>Nn;Nn+=Fn)Nn in Ln&&(Rn=$n(Rn,Ln[Nn],Nn,Bn));return Rn}},Hr={left:Gr(!1)},Xr=s(r.process)=="process",Vr=Hr.left,Kr=jt$1("reduce"),qr=Mt$1("reduce",{1:0});It$1({target:"Array",proto:!0,forced:!Kr||!qr||!Xr&&fe$1>79&&fe$1<83},{reduce:function(Pn){return Vr(this,Pn,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Er("flat");var Qr,Jr,Zr,to$1=!o(function(){return Object.isExtensible(Object.preventExtensions({}))}),eo$1=e(function(Pn){var Cn=R.f,$n=$("meta"),_n=0,Rn=Object.isExtensible||function(){return!0},Bn=function(Dn){Cn(Dn,$n,{value:{objectID:"O"+ ++_n,weakData:{}}})},Ln=Pn.exports={REQUIRED:!1,fastKey:function(Dn,Nn){if(!h$1(Dn))return typeof Dn=="symbol"?Dn:(typeof Dn=="string"?"S":"P")+Dn;if(!S$1(Dn,$n)){if(!Rn(Dn))return"F";if(!Nn)return"E";Bn(Dn)}return Dn[$n].objectID},getWeakData:function(Dn,Nn){if(!S$1(Dn,$n)){if(!Rn(Dn))return!0;if(!Nn)return!1;Bn(Dn)}return Dn[$n].weakData},onFreeze:function(Dn){return to$1&&Ln.REQUIRED&&Rn(Dn)&&!S$1(Dn,$n)&&Bn(Dn),Dn}};G[$n]=!0}),no$1=function(Pn,Cn){this.stopped=Pn,this.result=Cn},ro$1=function(Pn,Cn,$n){var _n,Rn,Bn,Ln,Dn,Nn,Fn,Wn=$n&&$n.that,zn=!(!$n||!$n.AS_ENTRIES),Yn=!(!$n||!$n.IS_ITERATOR),Gn=!(!$n||!$n.INTERRUPTED),ei=lr(Cn,Wn,1+zn+Gn),ti=function(oi){return _n&&Cr(_n),new no$1(!0,oi)},ii=function(oi){return zn?(A$1(oi),Gn?ei(oi[0],oi[1],ti):ei(oi[0],oi[1])):Gn?ei(oi,ti):ei(oi)};if(Yn)_n=Pn;else{if(typeof(Rn=Nr(Pn))!="function")throw TypeError("Target is not iterable");if(Dr(Rn)){for(Bn=0,Ln=at(Pn.length);Ln>Bn;Bn++)if((Dn=ii(Pn[Bn]))&&Dn instanceof no$1)return Dn;return new no$1(!1)}_n=Rn.call(Pn)}for(Nn=_n.next;!(Fn=Nn.call(_n)).done;){try{Dn=ii(Fn.value)}catch(oi){throw Cr(_n),oi}if(typeof Dn=="object"&&Dn&&Dn instanceof no$1)return Dn}return new no$1(!1)},oo$1=function(Pn,Cn,$n){if(!(Pn instanceof Cn))throw TypeError("Incorrect "+($n?$n+" ":"")+"invocation");return Pn},io$1=R.f,uo$1=ne("toStringTag"),ao$1=function(Pn,Cn,$n){Pn&&!S$1(Pn=$n?Pn:Pn.prototype,uo$1)&&io$1(Pn,uo$1,{configurable:!0,value:Cn})},co$1=Object.setPrototypeOf||("__proto__"in{}?function(){var Pn,Cn=!1,$n={};try{(Pn=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call($n,[]),Cn=$n instanceof Array}catch{}return function(_n,Rn){return A$1(_n),function(Bn){if(!h$1(Bn)&&Bn!==null)throw TypeError("Can't set "+String(Bn)+" as a prototype")}(Rn),Cn?Pn.call(_n,Rn):_n.__proto__=Rn,_n}}():void 0),lo$1=function(Pn,Cn,$n){for(var _n in Cn)Z(Pn,_n,Cn[_n],$n);return Pn},fo$1=!o(function(){function Pn(){}return Pn.prototype.constructor=null,Object.getPrototypeOf(new Pn)!==Pn.prototype}),so$1=Y("IE_PROTO"),vo$1=Object.prototype,po$1=fo$1?Object.getPrototypeOf:function(Pn){return Pn=Kt$1(Pn),S$1(Pn,so$1)?Pn[so$1]:typeof Pn.constructor=="function"&&Pn instanceof Pn.constructor?Pn.constructor.prototype:Pn instanceof Object?vo$1:null},go$1=ne("iterator"),ho$1=!1;[].keys&&("next"in(Zr=[].keys())?(Jr=po$1(po$1(Zr)))!==Object.prototype&&(Qr=Jr):ho$1=!0),(Qr==null||o(function(){var Pn={};return Qr[go$1].call(Pn)!==Pn}))&&(Qr={}),S$1(Qr,go$1)||I(Qr,go$1,function(){return this});var yo$1={IteratorPrototype:Qr,BUGGY_SAFARI_ITERATORS:ho$1},mo$1=yo$1.IteratorPrototype,So$1=function(){return this},xo=yo$1.IteratorPrototype,bo$1=yo$1.BUGGY_SAFARI_ITERATORS,Eo$1=ne("iterator"),wo$1=function(){return this},Oo$1=function(Pn,Cn,$n,_n,Rn,Bn,Ln){(function(oi,ai,fi){var ui=ai+" Iterator";oi.prototype=Sr(mo$1,{next:l(1,fi)}),ao$1(oi,ui,!1),Pr[ui]=So$1})($n,Cn,_n);var Dn,Nn,Fn,Wn=function(oi){if(oi===Rn&&ti)return ti;if(!bo$1&&oi in Gn)return Gn[oi];switch(oi){case"keys":case"values":case"entries":return function(){return new $n(this,oi)}}return function(){return new $n(this)}},zn=Cn+" Iterator",Yn=!1,Gn=Pn.prototype,ei=Gn[Eo$1]||Gn["@@iterator"]||Rn&&Gn[Rn],ti=!bo$1&&ei||Wn(Rn),ii=Cn=="Array"&&Gn.entries||ei;if(ii&&(Dn=po$1(ii.call(new Pn)),xo!==Object.prototype&&Dn.next&&(po$1(Dn)!==xo&&(co$1?co$1(Dn,xo):typeof Dn[Eo$1]!="function"&&I(Dn,Eo$1,wo$1)),ao$1(Dn,zn,!0))),Rn=="values"&&ei&&ei.name!=="values"&&(Yn=!0,ti=function(){return ei.call(this)}),Gn[Eo$1]!==ti&&I(Gn,Eo$1,ti),Pr[Cn]=ti,Rn)if(Nn={values:Wn("values"),keys:Bn?ti:Wn("keys"),entries:Wn("entries")},Ln)for(Fn in Nn)(bo$1||Yn||!(Fn in Gn))&&Z(Gn,Fn,Nn[Fn]);else It$1({target:Cn,proto:!0,forced:bo$1||Yn},Nn);return Nn},To$1=ne("species"),Ao$1=R.f,ko$1=eo$1.fastKey,Ro$1=J.set,Io$1=J.getterFor;(function(Pn,Cn,$n){var _n=Pn.indexOf("Map")!==-1,Rn=Pn.indexOf("Weak")!==-1,Bn=_n?"set":"add",Ln=r[Pn],Dn=Ln&&Ln.prototype,Nn=Ln,Fn={},Wn=function(ii){var oi=Dn[ii];Z(Dn,ii,ii=="add"?function(ai){return oi.call(this,ai===0?0:ai),this}:ii=="delete"?function(ai){return!(Rn&&!h$1(ai))&&oi.call(this,ai===0?0:ai)}:ii=="get"?function(ai){return Rn&&!h$1(ai)?void 0:oi.call(this,ai===0?0:ai)}:ii=="has"?function(ai){return!(Rn&&!h$1(ai))&&oi.call(this,ai===0?0:ai)}:function(ai,fi){return oi.call(this,ai===0?0:ai,fi),this})};if(kt$1(Pn,typeof Ln!="function"||!(Rn||Dn.forEach&&!o(function(){new Ln().entries().next()}))))Nn=$n.getConstructor(Cn,Pn,_n,Bn),eo$1.REQUIRED=!0;else if(kt$1(Pn,!0)){var zn=new Nn,Yn=zn[Bn](Rn?{}:-0,1)!=zn,Gn=o(function(){zn.has(1)}),ei=Br(function(ii){new Ln(ii)}),ti=!Rn&&o(function(){for(var ii=new Ln,oi=5;oi--;)ii[Bn](oi,oi);return!ii.has(-0)});ei||((Nn=Cn(function(ii,oi){oo$1(ii,Nn,Pn);var ai=function(fi,ui,di){var yi,mi;return co$1&&typeof(yi=ui.constructor)=="function"&&yi!==di&&h$1(mi=yi.prototype)&&mi!==di.prototype&&co$1(fi,mi),fi}(new Ln,ii,Nn);return oi!=null&&ro$1(oi,ai[Bn],{that:ai,AS_ENTRIES:_n}),ai})).prototype=Dn,Dn.constructor=Nn),(Gn||ti)&&(Wn("delete"),Wn("has"),_n&&Wn("get")),(ti||Yn)&&Wn(Bn),Rn&&Dn.clear&&delete Dn.clear}Fn[Pn]=Nn,It$1({global:!0,forced:Nn!=Ln},Fn),ao$1(Nn,Pn),Rn||$n.setStrong(Nn,Pn,_n)})("Set",function(Pn){return function(){return Pn(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(Pn,Cn,$n,_n){var Rn=Pn(function(Nn,Fn){oo$1(Nn,Rn,Cn),Ro$1(Nn,{type:Cn,index:Sr(null),first:void 0,last:void 0,size:0}),i$1||(Nn.size=0),Fn!=null&&ro$1(Fn,Nn[_n],{that:Nn,AS_ENTRIES:$n})}),Bn=Io$1(Cn),Ln=function(Nn,Fn,Wn){var zn,Yn,Gn=Bn(Nn),ei=Dn(Nn,Fn);return ei?ei.value=Wn:(Gn.last=ei={index:Yn=ko$1(Fn,!0),key:Fn,value:Wn,previous:zn=Gn.last,next:void 0,removed:!1},Gn.first||(Gn.first=ei),zn&&(zn.next=ei),i$1?Gn.size++:Nn.size++,Yn!=="F"&&(Gn.index[Yn]=ei)),Nn},Dn=function(Nn,Fn){var Wn,zn=Bn(Nn),Yn=ko$1(Fn);if(Yn!=="F")return zn.index[Yn];for(Wn=zn.first;Wn;Wn=Wn.next)if(Wn.key==Fn)return Wn};return lo$1(Rn.prototype,{clear:function(){for(var Nn=Bn(this),Fn=Nn.index,Wn=Nn.first;Wn;)Wn.removed=!0,Wn.previous&&(Wn.previous=Wn.previous.next=void 0),delete Fn[Wn.index],Wn=Wn.next;Nn.first=Nn.last=void 0,i$1?Nn.size=0:this.size=0},delete:function(Nn){var Fn=this,Wn=Bn(Fn),zn=Dn(Fn,Nn);if(zn){var Yn=zn.next,Gn=zn.previous;delete Wn.index[zn.index],zn.removed=!0,Gn&&(Gn.next=Yn),Yn&&(Yn.previous=Gn),Wn.first==zn&&(Wn.first=Yn),Wn.last==zn&&(Wn.last=Gn),i$1?Wn.size--:Fn.size--}return!!zn},forEach:function(Nn){for(var Fn,Wn=Bn(this),zn=lr(Nn,arguments.length>1?arguments[1]:void 0,3);Fn=Fn?Fn.next:Wn.first;)for(zn(Fn.value,Fn.key,this);Fn&&Fn.removed;)Fn=Fn.previous},has:function(Nn){return!!Dn(this,Nn)}}),lo$1(Rn.prototype,$n?{get:function(Nn){var Fn=Dn(this,Nn);return Fn&&Fn.value},set:function(Nn,Fn){return Ln(this,Nn===0?0:Nn,Fn)}}:{add:function(Nn){return Ln(this,Nn=Nn===0?0:Nn,Nn)}}),i$1&&Ao$1(Rn.prototype,"size",{get:function(){return Bn(this).size}}),Rn},setStrong:function(Pn,Cn,$n){var _n=Cn+" Iterator",Rn=Io$1(Cn),Bn=Io$1(_n);Oo$1(Pn,Cn,function(Ln,Dn){Ro$1(this,{type:_n,target:Ln,state:Rn(Ln),kind:Dn,last:void 0})},function(){for(var Ln=Bn(this),Dn=Ln.kind,Nn=Ln.last;Nn&&Nn.removed;)Nn=Nn.previous;return Ln.target&&(Ln.last=Nn=Nn?Nn.next:Ln.state.first)?Dn=="keys"?{value:Nn.key,done:!1}:Dn=="values"?{value:Nn.value,done:!1}:{value:[Nn.key,Nn.value],done:!1}:(Ln.target=void 0,{value:void 0,done:!0})},$n?"entries":"values",!$n,!0),function(Ln){var Dn=nt(Ln),Nn=R.f;i$1&&Dn&&!Dn[To$1]&&Nn(Dn,To$1,{configurable:!0,get:function(){return this}})}(Cn)}});var jo$1=Qe.charAt,Co$1=J.set,Lo$1=J.getterFor("String Iterator");Oo$1(String,"String",function(Pn){Co$1(this,{type:"String Iterator",string:String(Pn),index:0})},function(){var Pn,Cn=Lo$1(this),$n=Cn.string,_n=Cn.index;return _n>=$n.length?{value:void 0,done:!0}:(Pn=jo$1($n,_n),Cn.index+=Pn.length,{value:Pn,done:!1})});var Po$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Mo$1=J.set,_o$1=J.getterFor("Array Iterator"),Do$1=Oo$1(Array,"Array",function(Pn,Cn){Mo$1(this,{type:"Array Iterator",target:g(Pn),index:0,kind:Cn})},function(){var Pn=_o$1(this),Cn=Pn.target,$n=Pn.kind,_n=Pn.index++;return!Cn||_n>=Cn.length?(Pn.target=void 0,{value:void 0,done:!0}):$n=="keys"?{value:_n,done:!1}:$n=="values"?{value:Cn[_n],done:!1}:{value:[_n,Cn[_n]],done:!1}},"values");Pr.Arguments=Pr.Array,Er("keys"),Er("values"),Er("entries");var Uo$1=ne("iterator"),No$1=ne("toStringTag"),Fo$1=Do$1.values;for(var Wo$1 in Po$1){var zo$1=r[Wo$1],$o$1=zo$1&&zo$1.prototype;if($o$1){if($o$1[Uo$1]!==Fo$1)try{I($o$1,Uo$1,Fo$1)}catch{$o$1[Uo$1]=Fo$1}if($o$1[No$1]||I($o$1,No$1,Wo$1),Po$1[Wo$1]){for(var Bo$1 in Do$1)if($o$1[Bo$1]!==Do$1[Bo$1])try{I($o$1,Bo$1,Do$1[Bo$1])}catch{$o$1[Bo$1]=Do$1[Bo$1]}}}}(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"deduplicate",value:function(Cn){return Array.from(new Set(Cn))}},{key:"flat",value:function(Cn){return Cn.reduce(function($n,_n){var Rn=Array.isArray(_n)?Pn.flat(_n):_n;return $n.concat(Rn)},[])}},{key:"find",value:function(Cn,$n){return Cn.find($n)}},{key:"findIndex",value:function(Cn,$n){return Cn.findIndex($n)}}]),Pn})();(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"today",value:function(){return new Date}}]),Pn})();(function(){function Pn(){Wt$1(this,Pn)}return $t$1(Pn,null,[{key:"range",value:function(Cn,$n,_n){return Math.min(Math.max(Cn,$n),_n)}},{key:"clamp",value:function(Cn,$n,_n){return $n<_n?Cn<$n?$n:Cn>_n?_n:Cn:Cn<_n?_n:Cn>$n?$n:Cn}}]),Pn})();var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,nativeObjectToString$1=objectProto$9.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(Pn){var Cn=hasOwnProperty$7.call(Pn,symToStringTag$1),$n=Pn[symToStringTag$1];try{Pn[symToStringTag$1]=void 0;var _n=!0}catch{}var Rn=nativeObjectToString$1.call(Pn);return _n&&(Cn?Pn[symToStringTag$1]=$n:delete Pn[symToStringTag$1]),Rn}var objectProto$8=Object.prototype,nativeObjectToString=objectProto$8.toString;function objectToString(Pn){return nativeObjectToString.call(Pn)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(Pn){return Pn==null?Pn===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(Pn)?getRawTag(Pn):objectToString(Pn)}function isObjectLike(Pn){return Pn!=null&&typeof Pn=="object"}var isArray=Array.isArray;function isObject$1(Pn){var Cn=typeof Pn;return Pn!=null&&(Cn=="object"||Cn=="function")}function identity(Pn){return Pn}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(Pn){if(!isObject$1(Pn))return!1;var Cn=baseGetTag(Pn);return Cn==funcTag$1||Cn==genTag||Cn==asyncTag||Cn==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var Pn=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return Pn?"Symbol(src)_1."+Pn:""}();function isMasked(Pn){return!!maskSrcKey&&maskSrcKey in Pn}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(Pn){if(Pn!=null){try{return funcToString$2.call(Pn)}catch{}try{return Pn+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$7=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(Pn){if(!isObject$1(Pn)||isMasked(Pn))return!1;var Cn=isFunction(Pn)?reIsNative:reIsHostCtor;return Cn.test(toSource(Pn))}function getValue(Pn,Cn){return Pn==null?void 0:Pn[Cn]}function getNative(Pn,Cn){var $n=getValue(Pn,Cn);return baseIsNative($n)?$n:void 0}var objectCreate=Object.create,baseCreate=function(){function Pn(){}return function(Cn){if(!isObject$1(Cn))return{};if(objectCreate)return objectCreate(Cn);Pn.prototype=Cn;var $n=new Pn;return Pn.prototype=void 0,$n}}();function apply(Pn,Cn,$n){switch($n.length){case 0:return Pn.call(Cn);case 1:return Pn.call(Cn,$n[0]);case 2:return Pn.call(Cn,$n[0],$n[1]);case 3:return Pn.call(Cn,$n[0],$n[1],$n[2])}return Pn.apply(Cn,$n)}function copyArray(Pn,Cn){var $n=-1,_n=Pn.length;for(Cn||(Cn=Array(_n));++$n<_n;)Cn[$n]=Pn[$n];return Cn}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(Pn){var Cn=0,$n=0;return function(){var _n=nativeNow(),Rn=HOT_SPAN-(_n-$n);if($n=_n,Rn>0){if(++Cn>=HOT_COUNT)return arguments[0]}else Cn=0;return Pn.apply(void 0,arguments)}}function constant(Pn){return function(){return Pn}}var defineProperty=function(){try{var Pn=getNative(Object,"defineProperty");return Pn({},"",{}),Pn}catch{}}(),baseSetToString=defineProperty?function(Pn,Cn){return defineProperty(Pn,"toString",{configurable:!0,enumerable:!1,value:constant(Cn),writable:!0})}:identity,setToString=shortOut(baseSetToString),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(Pn,Cn){var $n=typeof Pn;return Cn=Cn??MAX_SAFE_INTEGER$1,!!Cn&&($n=="number"||$n!="symbol"&&reIsUint.test(Pn))&&Pn>-1&&Pn%1==0&&Pn<Cn}function baseAssignValue(Pn,Cn,$n){Cn=="__proto__"&&defineProperty?defineProperty(Pn,Cn,{configurable:!0,enumerable:!0,value:$n,writable:!0}):Pn[Cn]=$n}function eq(Pn,Cn){return Pn===Cn||Pn!==Pn&&Cn!==Cn}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function assignValue(Pn,Cn,$n){var _n=Pn[Cn];(!(hasOwnProperty$5.call(Pn,Cn)&&eq(_n,$n))||$n===void 0&&!(Cn in Pn))&&baseAssignValue(Pn,Cn,$n)}function copyObject(Pn,Cn,$n,_n){var Rn=!$n;$n||($n={});for(var Bn=-1,Ln=Cn.length;++Bn<Ln;){var Dn=Cn[Bn],Nn=void 0;Nn===void 0&&(Nn=Pn[Dn]),Rn?baseAssignValue($n,Dn,Nn):assignValue($n,Dn,Nn)}return $n}var nativeMax=Math.max;function overRest(Pn,Cn,$n){return Cn=nativeMax(Cn===void 0?Pn.length-1:Cn,0),function(){for(var _n=arguments,Rn=-1,Bn=nativeMax(_n.length-Cn,0),Ln=Array(Bn);++Rn<Bn;)Ln[Rn]=_n[Cn+Rn];Rn=-1;for(var Dn=Array(Cn+1);++Rn<Cn;)Dn[Rn]=_n[Rn];return Dn[Cn]=$n(Ln),apply(Pn,this,Dn)}}function baseRest(Pn,Cn){return setToString(overRest(Pn,Cn,identity),Pn+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(Pn){return typeof Pn=="number"&&Pn>-1&&Pn%1==0&&Pn<=MAX_SAFE_INTEGER}function isArrayLike(Pn){return Pn!=null&&isLength(Pn.length)&&!isFunction(Pn)}function isIterateeCall(Pn,Cn,$n){if(!isObject$1($n))return!1;var _n=typeof Cn;return(_n=="number"?isArrayLike($n)&&isIndex(Cn,$n.length):_n=="string"&&Cn in $n)?eq($n[Cn],Pn):!1}function createAssigner(Pn){return baseRest(function(Cn,$n){var _n=-1,Rn=$n.length,Bn=Rn>1?$n[Rn-1]:void 0,Ln=Rn>2?$n[2]:void 0;for(Bn=Pn.length>3&&typeof Bn=="function"?(Rn--,Bn):void 0,Ln&&isIterateeCall($n[0],$n[1],Ln)&&(Bn=Rn<3?void 0:Bn,Rn=1),Cn=Object(Cn);++_n<Rn;){var Dn=$n[_n];Dn&&Pn(Cn,Dn,_n,Bn)}return Cn})}var objectProto$5=Object.prototype;function isPrototype(Pn){var Cn=Pn&&Pn.constructor,$n=typeof Cn=="function"&&Cn.prototype||objectProto$5;return Pn===$n}function baseTimes(Pn,Cn){for(var $n=-1,_n=Array(Pn);++$n<Pn;)_n[$n]=Cn($n);return _n}var argsTag$1="[object Arguments]";function baseIsArguments(Pn){return isObjectLike(Pn)&&baseGetTag(Pn)==argsTag$1}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty,propertyIsEnumerable=objectProto$4.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(Pn){return isObjectLike(Pn)&&hasOwnProperty$4.call(Pn,"callee")&&!propertyIsEnumerable.call(Pn,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(Pn){return isObjectLike(Pn)&&isLength(Pn.length)&&!!typedArrayTags[baseGetTag(Pn)]}function baseUnary(Pn){return function(Cn){return Pn(Cn)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var Pn=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return Pn||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function arrayLikeKeys(Pn,Cn){var $n=isArray(Pn),_n=!$n&&isArguments(Pn),Rn=!$n&&!_n&&isBuffer(Pn),Bn=!$n&&!_n&&!Rn&&isTypedArray(Pn),Ln=$n||_n||Rn||Bn,Dn=Ln?baseTimes(Pn.length,String):[],Nn=Dn.length;for(var Fn in Pn)Ln&&(Fn=="length"||Rn&&(Fn=="offset"||Fn=="parent")||Bn&&(Fn=="buffer"||Fn=="byteLength"||Fn=="byteOffset")||isIndex(Fn,Nn))||Dn.push(Fn);return Dn}function overArg(Pn,Cn){return function($n){return Pn(Cn($n))}}function nativeKeysIn(Pn){var Cn=[];if(Pn!=null)for(var $n in Object(Pn))Cn.push($n);return Cn}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeysIn(Pn){if(!isObject$1(Pn))return nativeKeysIn(Pn);var Cn=isPrototype(Pn),$n=[];for(var _n in Pn)_n=="constructor"&&(Cn||!hasOwnProperty$3.call(Pn,_n))||$n.push(_n);return $n}function keysIn(Pn){return isArrayLike(Pn)?arrayLikeKeys(Pn):baseKeysIn(Pn)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(Pn){var Cn=this.has(Pn)&&delete this.__data__[Pn];return this.size-=Cn?1:0,Cn}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function hashGet(Pn){var Cn=this.__data__;if(nativeCreate){var $n=Cn[Pn];return $n===HASH_UNDEFINED$1?void 0:$n}return hasOwnProperty$2.call(Cn,Pn)?Cn[Pn]:void 0}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashHas(Pn){var Cn=this.__data__;return nativeCreate?Cn[Pn]!==void 0:hasOwnProperty$1.call(Cn,Pn)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(Pn,Cn){var $n=this.__data__;return this.size+=this.has(Pn)?0:1,$n[Pn]=nativeCreate&&Cn===void 0?HASH_UNDEFINED:Cn,this}function Hash(Pn){var Cn=-1,$n=Pn==null?0:Pn.length;for(this.clear();++Cn<$n;){var _n=Pn[Cn];this.set(_n[0],_n[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(Pn,Cn){for(var $n=Pn.length;$n--;)if(eq(Pn[$n][0],Cn))return $n;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(Pn){var Cn=this.__data__,$n=assocIndexOf(Cn,Pn);if($n<0)return!1;var _n=Cn.length-1;return $n==_n?Cn.pop():splice.call(Cn,$n,1),--this.size,!0}function listCacheGet(Pn){var Cn=this.__data__,$n=assocIndexOf(Cn,Pn);return $n<0?void 0:Cn[$n][1]}function listCacheHas(Pn){return assocIndexOf(this.__data__,Pn)>-1}function listCacheSet(Pn,Cn){var $n=this.__data__,_n=assocIndexOf($n,Pn);return _n<0?(++this.size,$n.push([Pn,Cn])):$n[_n][1]=Cn,this}function ListCache(Pn){var Cn=-1,$n=Pn==null?0:Pn.length;for(this.clear();++Cn<$n;){var _n=Pn[Cn];this.set(_n[0],_n[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(Pn){var Cn=typeof Pn;return Cn=="string"||Cn=="number"||Cn=="symbol"||Cn=="boolean"?Pn!=="__proto__":Pn===null}function getMapData(Pn,Cn){var $n=Pn.__data__;return isKeyable(Cn)?$n[typeof Cn=="string"?"string":"hash"]:$n.map}function mapCacheDelete(Pn){var Cn=getMapData(this,Pn).delete(Pn);return this.size-=Cn?1:0,Cn}function mapCacheGet(Pn){return getMapData(this,Pn).get(Pn)}function mapCacheHas(Pn){return getMapData(this,Pn).has(Pn)}function mapCacheSet(Pn,Cn){var $n=getMapData(this,Pn),_n=$n.size;return $n.set(Pn,Cn),this.size+=$n.size==_n?0:1,this}function MapCache(Pn){var Cn=-1,$n=Pn==null?0:Pn.length;for(this.clear();++Cn<$n;){var _n=Pn[Cn];this.set(_n[0],_n[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(Pn){if(!isObjectLike(Pn)||baseGetTag(Pn)!=objectTag)return!1;var Cn=getPrototype(Pn);if(Cn===null)return!0;var $n=hasOwnProperty.call(Cn,"constructor")&&Cn.constructor;return typeof $n=="function"&&$n instanceof $n&&funcToString.call($n)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(Pn){var Cn=this.__data__,$n=Cn.delete(Pn);return this.size=Cn.size,$n}function stackGet(Pn){return this.__data__.get(Pn)}function stackHas(Pn){return this.__data__.has(Pn)}var LARGE_ARRAY_SIZE=200;function stackSet(Pn,Cn){var $n=this.__data__;if($n instanceof ListCache){var _n=$n.__data__;if(!Map$1||_n.length<LARGE_ARRAY_SIZE-1)return _n.push([Pn,Cn]),this.size=++$n.size,this;$n=this.__data__=new MapCache(_n)}return $n.set(Pn,Cn),this.size=$n.size,this}function Stack$1(Pn){var Cn=this.__data__=new ListCache(Pn);this.size=Cn.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0;Buffer&&Buffer.allocUnsafe;function cloneBuffer(Pn,Cn){return Pn.slice()}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(Pn){var Cn=new Pn.constructor(Pn.byteLength);return new Uint8Array$1(Cn).set(new Uint8Array$1(Pn)),Cn}function cloneTypedArray(Pn,Cn){var $n=cloneArrayBuffer(Pn.buffer);return new Pn.constructor($n,Pn.byteOffset,Pn.length)}function initCloneObject(Pn){return typeof Pn.constructor=="function"&&!isPrototype(Pn)?baseCreate(getPrototype(Pn)):{}}function createBaseFor(Pn){return function(Cn,$n,_n){for(var Rn=-1,Bn=Object(Cn),Ln=_n(Cn),Dn=Ln.length;Dn--;){var Nn=Ln[++Rn];if($n(Bn[Nn],Nn,Bn)===!1)break}return Cn}}var baseFor=createBaseFor();function assignMergeValue(Pn,Cn,$n){($n!==void 0&&!eq(Pn[Cn],$n)||$n===void 0&&!(Cn in Pn))&&baseAssignValue(Pn,Cn,$n)}function isArrayLikeObject(Pn){return isObjectLike(Pn)&&isArrayLike(Pn)}function safeGet(Pn,Cn){if(!(Cn==="constructor"&&typeof Pn[Cn]=="function")&&Cn!="__proto__")return Pn[Cn]}function toPlainObject(Pn){return copyObject(Pn,keysIn(Pn))}function baseMergeDeep(Pn,Cn,$n,_n,Rn,Bn,Ln){var Dn=safeGet(Pn,$n),Nn=safeGet(Cn,$n),Fn=Ln.get(Nn);if(Fn){assignMergeValue(Pn,$n,Fn);return}var Wn=Bn?Bn(Dn,Nn,$n+"",Pn,Cn,Ln):void 0,zn=Wn===void 0;if(zn){var Yn=isArray(Nn),Gn=!Yn&&isBuffer(Nn),ei=!Yn&&!Gn&&isTypedArray(Nn);Wn=Nn,Yn||Gn||ei?isArray(Dn)?Wn=Dn:isArrayLikeObject(Dn)?Wn=copyArray(Dn):Gn?(zn=!1,Wn=cloneBuffer(Nn)):ei?(zn=!1,Wn=cloneTypedArray(Nn)):Wn=[]:isPlainObject(Nn)||isArguments(Nn)?(Wn=Dn,isArguments(Dn)?Wn=toPlainObject(Dn):(!isObject$1(Dn)||isFunction(Dn))&&(Wn=initCloneObject(Nn))):zn=!1}zn&&(Ln.set(Nn,Wn),Rn(Wn,Nn,_n,Bn,Ln),Ln.delete(Nn)),assignMergeValue(Pn,$n,Wn)}function baseMerge(Pn,Cn,$n,_n,Rn){Pn!==Cn&&baseFor(Cn,function(Bn,Ln){if(Rn||(Rn=new Stack$1),isObject$1(Bn))baseMergeDeep(Pn,Cn,Ln,$n,baseMerge,_n,Rn);else{var Dn=_n?_n(safeGet(Pn,Ln),Bn,Ln+"",Pn,Cn,Rn):void 0;Dn===void 0&&(Dn=Bn),assignMergeValue(Pn,Ln,Dn)}},keysIn)}var merge=createAssigner(function(Pn,Cn,$n){baseMerge(Pn,Cn,$n)}),qe=Object.defineProperty,Ye=(Pn,Cn,$n)=>Cn in Pn?qe(Pn,Cn,{enumerable:!0,configurable:!0,writable:!0,value:$n}):Pn[Cn]=$n,W=(Pn,Cn,$n)=>(Ye(Pn,typeof Cn!="symbol"?Cn+"":Cn,$n),$n);const P$1=Pn=>Math.round(Pn*100)/100;class A{constructor(Cn){W(this,"instance"),W(this,"alphaValue",0),W(this,"redValue",0),W(this,"greenValue",0),W(this,"blueValue",0),W(this,"hueValue",0),W(this,"saturationValue",0),W(this,"brightnessValue",0),W(this,"hslSaturationValue",0),W(this,"lightnessValue",0),W(this,"initAlpha",()=>{const $n=this.instance.getAlpha();this.alphaValue=Math.min(1,$n)*100}),W(this,"initLightness",()=>{const{s:$n,l:_n}=this.instance.toHsl();this.hslSaturationValue=P$1($n),this.lightnessValue=P$1(_n)}),W(this,"initRgb",()=>{const{r:$n,g:_n,b:Rn}=this.instance.toRgb();this.redValue=P$1($n),this.greenValue=P$1(_n),this.blueValue=P$1(Rn)}),W(this,"initHsb",()=>{const{h:$n,s:_n,v:Rn}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil($n)),this.saturationValue=P$1(_n),this.brightnessValue=P$1(Rn)}),W(this,"toHexString",()=>this.instance.toHexString()),W(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=tinycolor(Cn),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(Cn){return this.instance.toString(Cn)}get hex(){return this.instance.toHex()}set hex(Cn){this.instance=tinycolor(Cn),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(Cn){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=tinycolor({h:P$1(Cn),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=P$1(Cn)}get hue(){return this.hueValue}set saturation(Cn){this.instance=tinycolor({h:this.hue,s:P$1(Cn),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=P$1(Cn)}get saturation(){return this.saturationValue}set brightness(Cn){this.instance=tinycolor({h:this.hue,s:this.saturation,v:P$1(Cn),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=P$1(Cn)}get brightness(){return this.brightnessValue}set lightness(Cn){this.instance=tinycolor({h:this.hue,s:this.hslSaturationValue,l:P$1(Cn),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=P$1(Cn)}get lightness(){return this.lightnessValue}set red(Cn){const $n=this.instance.toRgb();this.instance=tinycolor({...$n,r:P$1(Cn),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=P$1(Cn)}get red(){return this.redValue}set green(Cn){const $n=this.instance.toRgb();this.instance=tinycolor({...$n,g:P$1(Cn),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=P$1(Cn)}get green(){return this.greenValue}set blue(Cn){const $n=this.instance.toRgb();this.instance=tinycolor({...$n,b:P$1(Cn),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=P$1(Cn)}get blue(){return this.blueValue}set alpha(Cn){this.instance.setAlpha(Cn/100),this.alphaValue=Cn}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,parseFloat((this.alpha/100).toFixed(2))]}get HSB(){return[this.hue,this.saturation,this.brightness,parseFloat((this.alpha/100).toFixed(2))]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,parseFloat((this.alpha/100).toFixed(2))]}}function Ae(Pn,Cn,$n,_n){return`rgba(${[Pn,Cn,$n,_n/100].join(",")})`}const ue=(Pn,Cn,$n)=>Cn<$n?Pn<Cn?Cn:Pn>$n?$n:Pn:Pn<$n?$n:Pn>Cn?Cn:Pn,fe="color-history",Ce=8,q=(Pn,Cn)=>{const $n=Pn.__vccOpts||Pn;for(const[_n,Rn]of Cn)$n[_n]=Rn;return $n},lt$1=defineComponent({name:"Alpha",props:{color:C$3.instanceOf(A),size:C$3.oneOf(["small","default"]).def("default")},emits:["change"],setup(Pn,{emit:Cn}){const $n=ref(null),_n=ref(null);let Rn=Pn.color||new A;const Bn=reactive({red:Rn.red,green:Rn.green,blue:Rn.blue,alpha:Rn.alpha});watch(()=>Pn.color,zn=>{zn&&(Rn=zn,merge(Bn,{red:zn.red,green:zn.green,blue:zn.blue,alpha:zn.alpha}))},{deep:!0});const Ln=computed(()=>{const zn=Ae(Bn.red,Bn.green,Bn.blue,0),Yn=Ae(Bn.red,Bn.green,Bn.blue,100);return{background:`linear-gradient(to right, ${zn} , ${Yn})`}}),Dn=()=>{if($n.value&&_n.value){const zn=Bn.alpha/100,Yn=$n.value.getBoundingClientRect(),Gn=_n.value.offsetWidth;return Math.round(zn*(Yn.width-Gn)+Gn/2)}return 0},Nn=computed(()=>({left:Dn()+"px",top:0})),Fn=zn=>{zn.target!==$n.value&&Wn(zn)},Wn=zn=>{if(zn.stopPropagation(),$n.value&&_n.value){const Yn=$n.value.getBoundingClientRect(),Gn=_n.value.offsetWidth;let ei=zn.clientX-Yn.left;ei=Math.max(Gn/2,ei),ei=Math.min(ei,Yn.width-Gn/2);const ti=Math.round((ei-Gn/2)/(Yn.width-Gn)*100);Rn.alpha=ti,Bn.alpha=ti,Cn("change",ti)}};return tryOnMounted(()=>{const zn={drag:Yn=>{Wn(Yn)},end:Yn=>{Wn(Yn)}};$n.value&&_n.value&&Vn.triggerDragEvent($n.value,zn)}),{barElement:$n,cursorElement:_n,getCursorStyle:Nn,getBackgroundStyle:Ln,onClickSider:Fn}}}),st=Pn=>(pushScopeId("data-v-18925ba6"),Pn=Pn(),popScopeId(),Pn),it=st(()=>createBaseVNode("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),ct=[it];function ut(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",{class:normalizeClass(["vc-alpha-slider","transparent",{"small-slider":Pn.size==="small"}])},[createBaseVNode("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:normalizeStyle(Pn.getBackgroundStyle),onClick:Cn[0]||(Cn[0]=(...Ln)=>Pn.onClickSider&&Pn.onClickSider(...Ln))},[createBaseVNode("div",{class:normalizeClass(["vc-alpha-slider__bar-pointer",{"small-bar":Pn.size==="small"}]),ref:"cursorElement",style:normalizeStyle(Pn.getCursorStyle)},ct,6)],4)],2)}const ve=q(lt$1,[["render",ut],["__scopeId","data-v-18925ba6"]]),dt=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],gt=defineComponent({name:"Palette",emits:["change"],setup(Pn,{emit:Cn}){return{palettes:dt,computedBgStyle:$n=>$n==="transparent"?$n:$n==="advance"?{}:{background:tinycolor($n).toRgbString()},onColorChange:$n=>{Cn("change",$n)}}}}),ht={class:"vc-compact"},pt=["onClick"];function ft(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",ht,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.palettes,(Ln,Dn)=>(openBlock(),createElementBlock("div",{key:Dn,class:"vc-compact__row"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ln,(Nn,Fn)=>(openBlock(),createElementBlock("div",{key:Fn,class:"vc-compact__color-cube--wrap",onClick:Wn=>Pn.onColorChange(Nn)},[createBaseVNode("div",{class:normalizeClass(["vc-compact__color_cube",{advance:Nn==="advance",transparent:Nn==="transparent"}]),style:normalizeStyle(Pn.computedBgStyle(Nn))},null,6)],8,pt))),128))]))),128))])}const Ke=q(gt,[["render",ft],["__scopeId","data-v-b969fd48"]]),Ct=defineComponent({name:"Board",props:{color:C$3.instanceOf(A),round:C$3.bool.def(!1),hide:C$3.bool.def(!0)},emits:["change"],setup(Pn,{emit:Cn}){var $n,_n,Rn;const Bn=getCurrentInstance(),Ln={h:(($n=Pn.color)==null?void 0:$n.hue)||0,s:1,v:1},Dn=new A(Ln).toHexString(),Nn=reactive({hueColor:Dn,saturation:((_n=Pn.color)==null?void 0:_n.saturation)||0,brightness:((Rn=Pn.color)==null?void 0:Rn.brightness)||0}),Fn=ref(0),Wn=ref(0),zn=ref(),Yn=computed(()=>({top:Fn.value+"px",left:Wn.value+"px"})),Gn=()=>{if(Bn){const fi=Bn.vnode.el;Wn.value=Nn.saturation*(fi==null?void 0:fi.clientWidth),Fn.value=(1-Nn.brightness)*(fi==null?void 0:fi.clientHeight)}};let ei=!1;const ti=fi=>{ei=!0,ai(fi)},ii=fi=>{ei&&ai(fi)},oi=()=>{ei=!1},ai=fi=>{if(Bn){const ui=Bn.vnode.el,di=ui==null?void 0:ui.getBoundingClientRect();let yi=fi.clientX-di.left,mi=fi.clientY-di.top;yi=ue(yi,0,di.width),mi=ue(mi,0,di.height);const ki=yi/di.width,_i=ue(-(mi/di.height)+1,0,1);Wn.value=yi,Fn.value=mi,Nn.saturation=ki,Nn.brightness=_i,Cn("change",ki,_i)}};return tryOnMounted(()=>{Bn&&Bn.vnode.el&&zn.value&&nextTick(()=>{Gn()})}),whenever(()=>Pn.color,fi=>{merge(Nn,{hueColor:new A({h:fi.hue,s:1,v:1}).toHexString(),saturation:fi.saturation,brightness:fi.brightness}),Gn()},{deep:!0}),{state:Nn,cursorElement:zn,getCursorStyle:Yn,onClickBoard:ti,onDrag:ii,onDragEnd:oi}}}),be=Pn=>(pushScopeId("data-v-7f0cdcdf"),Pn=Pn(),popScopeId(),Pn),vt=be(()=>createBaseVNode("div",{class:"vc-saturation__white"},null,-1)),bt=be(()=>createBaseVNode("div",{class:"vc-saturation__black"},null,-1)),yt=be(()=>createBaseVNode("div",null,null,-1)),_t=[yt];function mt(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",{ref:"boardElement",class:normalizeClass(["vc-saturation",{"vc-saturation__chrome":Pn.round,"vc-saturation__hidden":Pn.hide}]),style:normalizeStyle({backgroundColor:Pn.state.hueColor}),onMousedown:Cn[0]||(Cn[0]=(...Ln)=>Pn.onClickBoard&&Pn.onClickBoard(...Ln)),onMousemove:Cn[1]||(Cn[1]=(...Ln)=>Pn.onDrag&&Pn.onDrag(...Ln)),onMouseup:Cn[2]||(Cn[2]=(...Ln)=>Pn.onDragEnd&&Pn.onDragEnd(...Ln))},[vt,bt,createBaseVNode("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:normalizeStyle(Pn.getCursorStyle)},_t,4)],38)}const ye=q(Ct,[["render",mt],["__scopeId","data-v-7f0cdcdf"]]),St=defineComponent({name:"Hue",props:{color:C$3.instanceOf(A),size:C$3.oneOf(["small","default"]).def("default")},emits:["change"],setup(Pn,{emit:Cn}){const $n=ref(null),_n=ref(null);let Rn=Pn.color||new A;const Bn=reactive({hue:Rn.hue||0});watch(()=>Pn.color,Wn=>{Wn&&(Rn=Wn,merge(Bn,{hue:Rn.hue}))},{deep:!0});const Ln=()=>{if($n.value&&_n.value){const Wn=$n.value.getBoundingClientRect(),zn=_n.value.offsetWidth;return Bn.hue===360?Wn.width-zn/2:Bn.hue%360*(Wn.width-zn)/360+zn/2}return 0},Dn=computed(()=>({left:Ln()+"px",top:0})),Nn=Wn=>{Wn.target!==$n.value&&Fn(Wn)},Fn=Wn=>{if(Wn.stopPropagation(),$n.value&&_n.value){const zn=$n.value.getBoundingClientRect(),Yn=_n.value.offsetWidth;let Gn=Wn.clientX-zn.left;Gn=Math.min(Gn,zn.width-Yn/2),Gn=Math.max(Yn/2,Gn);const ei=Math.round((Gn-Yn/2)/(zn.width-Yn)*360);Rn.hue=ei,Bn.hue=ei,Cn("change",ei)}};return tryOnMounted(()=>{const Wn={drag:zn=>{Fn(zn)},end:zn=>{Fn(zn)}};$n.value&&_n.value&&Vn.triggerDragEvent($n.value,Wn)}),{barElement:$n,cursorElement:_n,getCursorStyle:Dn,onClickSider:Nn}}}),kt=Pn=>(pushScopeId("data-v-e1a08576"),Pn=Pn(),popScopeId(),Pn),$t=kt(()=>createBaseVNode("div",{class:"vc-hue-slider__bar-handle"},null,-1)),wt=[$t];function Bt(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",{class:normalizeClass(["vc-hue-slider",{"small-slider":Pn.size==="small"}])},[createBaseVNode("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:Cn[0]||(Cn[0]=(...Ln)=>Pn.onClickSider&&Pn.onClickSider(...Ln))},[createBaseVNode("div",{class:normalizeClass(["vc-hue-slider__bar-pointer",{"small-bar":Pn.size==="small"}]),ref:"cursorElement",style:normalizeStyle(Pn.getCursorStyle)},wt,6)],512)],2)}const _e=q(St,[["render",Bt],["__scopeId","data-v-e1a08576"]]),Ht=defineComponent({name:"Lightness",props:{color:C$3.instanceOf(A),size:C$3.oneOf(["small","default"]).def("default")},emits:["change"],setup(Pn,{emit:Cn}){const $n=ref(null),_n=ref(null);let Rn=Pn.color||new A;const[Bn,Ln,Dn]=Rn.HSL,Nn=reactive({hue:Bn,saturation:Ln,lightness:Dn});watch(()=>Pn.color,ei=>{if(ei){Rn=ei;const[ti,ii,oi]=Rn.HSL;merge(Nn,{hue:ti,saturation:ii,lightness:oi})}},{deep:!0});const Fn=computed(()=>{const ei=tinycolor({h:Nn.hue,s:Nn.saturation,l:.8}).toPercentageRgbString(),ti=tinycolor({h:Nn.hue,s:Nn.saturation,l:.6}).toPercentageRgbString(),ii=tinycolor({h:Nn.hue,s:Nn.saturation,l:.4}).toPercentageRgbString(),oi=tinycolor({h:Nn.hue,s:Nn.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${ei}, ${ti}, ${ii}, ${oi}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${ei}, ${ti}, ${ii}, ${oi}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${ei}, ${ti}, ${ii}, ${oi}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${ei}, ${ti}, ${ii}, ${oi}, rgb(0, 0, 0))`]}}),Wn=()=>{if($n.value&&_n.value){const ei=Nn.lightness,ti=$n.value.getBoundingClientRect(),ii=_n.value.offsetWidth;return(1-ei)*(ti.width-ii)+ii/2}return 0},zn=computed(()=>({left:Wn()+"px",top:0})),Yn=ei=>{ei.target!==$n.value&&Gn(ei)},Gn=ei=>{if(ei.stopPropagation(),$n.value&&_n.value){const ti=$n.value.getBoundingClientRect(),ii=_n.value.offsetWidth;let oi=ei.clientX-ti.left;oi=Math.max(ii/2,oi),oi=Math.min(oi,ti.width-ii/2);const ai=1-(oi-ii/2)/(ti.width-ii);Rn.lightness=ai,Cn("change",ai)}};return tryOnMounted(()=>{const ei={drag:ti=>{Gn(ti)},end:ti=>{Gn(ti)}};$n.value&&_n.value&&Vn.triggerDragEvent($n.value,ei)}),{barElement:$n,cursorElement:_n,getCursorStyle:zn,getBackgroundStyle:Fn,onClickSider:Yn}}}),Rt=Pn=>(pushScopeId("data-v-94a50a9e"),Pn=Pn(),popScopeId(),Pn),At=Rt(()=>createBaseVNode("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),Pt=[At];function Vt(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",{class:normalizeClass(["vc-lightness-slider",{"small-slider":Pn.size==="small"}])},[createBaseVNode("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:normalizeStyle(Pn.getBackgroundStyle),onClick:Cn[0]||(Cn[0]=(...Ln)=>Pn.onClickSider&&Pn.onClickSider(...Ln))},[createBaseVNode("div",{class:normalizeClass(["vc-lightness-slider__bar-pointer",{"small-bar":Pn.size==="small"}]),ref:"cursorElement",style:normalizeStyle(Pn.getCursorStyle)},Pt,6)],4)],2)}const Le=q(Ht,[["render",Vt],["__scopeId","data-v-94a50a9e"]]),Mt=defineComponent({name:"History",props:{colors:C$3.arrayOf(String).def(()=>[]),round:C$3.bool.def(!1)},emits:["change"],setup(Pn,{emit:Cn}){return{onColorSelect:$n=>{Cn("change",$n)}}}}),Et={key:0,class:"vc-colorPicker__record"},It={class:"color-list"},Kt=["onClick"];function Lt(Pn,Cn,$n,_n,Rn,Bn){return Pn.colors&&Pn.colors.length>0?(openBlock(),createElementBlock("div",Et,[createBaseVNode("div",It,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.colors,(Ln,Dn)=>(openBlock(),createElementBlock("div",{key:Dn,class:normalizeClass(["color-item","transparent",{"color-item__round":Pn.round}]),onClick:Nn=>Pn.onColorSelect(Ln)},[createBaseVNode("div",{class:"color-item__display",style:normalizeStyle({backgroundColor:Ln})},null,4)],10,Kt))),128))])])):createCommentVNode("",!0)}const me=q(Mt,[["render",Lt],["__scopeId","data-v-0f657238"]]),Nt=defineComponent({name:"Display",props:{color:C$3.instanceOf(A),disableAlpha:C$3.bool.def(!1)},emits:["update:color","change"],setup(Pn,{emit:Cn}){var $n,_n,Rn,Bn;const{copy:Ln,copied:Dn,isSupported:Nn}=useClipboard(),Fn=ref("hex"),Wn=reactive({color:Pn.color,hex:($n=Pn.color)==null?void 0:$n.hex,alpha:Math.round(((_n=Pn.color)==null?void 0:_n.alpha)||100),rgba:(Rn=Pn.color)==null?void 0:Rn.RGB,previewBgColor:(Bn=Pn.color)==null?void 0:Bn.toRgbString()}),zn=computed(()=>({background:Wn.previewBgColor})),Yn=()=>{Fn.value=Fn.value==="rgba"?"hex":"rgba"},Gn=useDebounceFn(oi=>{if(!oi.target.value)return;let ai=parseInt(oi.target.value.replace("%",""));ai>100&&(oi.target.value="100",ai=100),ai<0&&(oi.target.value="0",ai=0),isNaN(ai)&&(oi.target.value="100",ai=100),!isNaN(ai)&&Wn.color&&(Wn.color.alpha=ai),Cn("change",Wn.color)},300),ei=useDebounceFn((oi,ai)=>{if(Wn.color){if(Fn.value==="hex"){const fi=oi.target.value.replace("#","");tinycolor(fi).isValid()?[3,4].includes(fi.length)&&(Wn.color.hex=fi):Wn.color.hex="000000",Cn("change",Wn.color)}else if(Fn.value==="rgba"&&ai===3&&oi.target.value.toString()==="0."&&Wn.rgba){Wn.rgba[ai]=oi.target.value;const[fi,ui,di,yi]=Wn.rgba;Wn.color.hex=tinycolor({r:fi,g:ui,b:di}).toHex(),Wn.color.alpha=Math.round(yi*100),Cn("change",Wn.color)}}},100),ti=useDebounceFn((oi,ai)=>{if(oi.target.value){if(Fn.value==="hex"){const fi=oi.target.value.replace("#","");tinycolor(fi).isValid()&&Wn.color&&[6,8].includes(fi.length)&&(Wn.color.hex=fi)}else if(ai!==void 0&&Wn.rgba&&Wn.color){if(oi.target.value<0&&(oi.target.value=0),ai===3&&((oi.target.value>1||isNaN(oi.target.value))&&(oi.target.value=1),oi.target.value.toString()==="0."))return;ai<3&&oi.target.value>255&&(oi.target.value=255),Wn.rgba[ai]=oi.target.value;const[fi,ui,di,yi]=Wn.rgba;Wn.color.hex=tinycolor({r:fi,g:ui,b:di}).toHex(),Wn.color.alpha=Math.round(yi*100)}Cn("change",Wn.color)}},300),ii=()=>{if(Nn&&Wn.color){const oi=Fn.value==="hex"?Wn.color.toString(Wn.color.alpha===100?"hex6":"hex8"):Wn.color.toRgbString();Ln(oi||"")}};return whenever(()=>Pn.color,oi=>{oi&&(Wn.color=oi,Wn.alpha=Math.round(Wn.color.alpha),Wn.hex=Wn.color.hex,Wn.rgba=Wn.color.RGB)},{deep:!0}),whenever(()=>Wn.color,()=>{Wn.color&&(Wn.previewBgColor=Wn.color.toRgbString())},{deep:!0}),{state:Wn,getBgColorStyle:zn,inputType:Fn,copied:Dn,onInputTypeChange:Yn,onAlphaBlur:Gn,onInputChange:ti,onBlurChange:ei,onCopyColorStr:ii}}}),Wt={class:"vc-display"},Dt={class:"vc-current-color vc-transparent"},Tt={key:0,class:"copy-text"},Ot={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},zt={class:"vc-color-input"},Gt={key:0,class:"vc-alpha-input"},Ft=["value"],Xt={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},qt=["value","onInput","onBlur"];function Yt(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",Wt,[createBaseVNode("div",Dt,[createBaseVNode("div",{class:"color-cube",style:normalizeStyle(Pn.getBgColorStyle),onClick:Cn[0]||(Cn[0]=(...Ln)=>Pn.onCopyColorStr&&Pn.onCopyColorStr(...Ln))},[Pn.copied?(openBlock(),createElementBlock("span",Tt,"Copied!")):createCommentVNode("",!0)],4)]),Pn.inputType==="hex"?(openBlock(),createElementBlock("div",Ot,[createBaseVNode("div",zt,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[1]||(Cn[1]=Ln=>Pn.state.hex=Ln),maxlength:"8",onInput:Cn[2]||(Cn[2]=(...Ln)=>Pn.onInputChange&&Pn.onInputChange(...Ln)),onBlur:Cn[3]||(Cn[3]=(...Ln)=>Pn.onBlurChange&&Pn.onBlurChange(...Ln))},null,544),[[vModelText,Pn.state.hex]])]),Pn.disableAlpha?createCommentVNode("",!0):(openBlock(),createElementBlock("div",Gt,[createBaseVNode("input",{class:"vc-alpha-input__inner",value:Pn.state.alpha,onInput:Cn[4]||(Cn[4]=(...Ln)=>Pn.onAlphaBlur&&Pn.onAlphaBlur(...Ln))},null,40,Ft),createTextVNode("% ")]))])):Pn.state.rgba?(openBlock(),createElementBlock("div",Xt,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pn.state.rgba,(Ln,Dn)=>(openBlock(),createElementBlock("div",{class:"vc-color-input",key:Dn},[createBaseVNode("input",{value:Ln,onInput:Nn=>Pn.onInputChange(Nn,Dn),onBlur:Nn=>Pn.onBlurChange(Nn,Dn)},null,40,qt)]))),128))])):createCommentVNode("",!0),createBaseVNode("div",{class:"vc-input-toggle",onClick:Cn[5]||(Cn[5]=(...Ln)=>Pn.onInputTypeChange&&Pn.onInputTypeChange(...Ln))},toDisplayString(Pn.inputType),1)])}const Se=q(Nt,[["render",Yt],["__scopeId","data-v-7334ac20"]]),Ut=defineComponent({name:"FkColorPicker",components:{Display:Se,Alpha:ve,Palette:Ke,Board:ye,Hue:_e,Lightness:Le,History:me},props:{color:C$3.instanceOf(A),disableHistory:C$3.bool.def(!1),roundHistory:C$3.bool.def(!1),disableAlpha:C$3.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(Pn,{emit:Cn}){const $n=Pn.color||new A,_n=reactive({color:$n,hex:$n.toHexString(),rgb:$n.toRgbString()}),Rn=ref(!1),Bn=computed(()=>({background:_n.rgb})),Ln=()=>{Rn.value=!1,Cn("advanceChange",!1)},Dn=useLocalStorage(fe,[],{}),Nn=useDebounceFn(()=>{if(Pn.disableHistory)return;const ti=_n.color.toRgbString();if(Dn.value=Dn.value.filter(ii=>!tinycolor.equals(ii,ti)),!Dn.value.includes(ti)){for(;Dn.value.length>Ce;)Dn.value.pop();Dn.value.unshift(ti)}},500),Fn=ti=>{ti==="advance"?(Rn.value=!0,Cn("advanceChange",!0)):(_n.color.hex=ti,Cn("advanceChange",!1))},Wn=ti=>{_n.color.alpha=ti},zn=ti=>{_n.color.hue=ti},Yn=(ti,ii)=>{_n.color.saturation=ti,_n.color.brightness=ii},Gn=ti=>{_n.color.lightness=ti},ei=ti=>{const ii=ti.target.value.replace("#","");tinycolor(ii).isValid()&&(_n.color.hex=ii)};return whenever(()=>Pn.color,ti=>{ti&&(_n.color=ti)},{deep:!0}),whenever(()=>_n.color,()=>{_n.hex=_n.color.hex,_n.rgb=_n.color.toRgbString(),Nn(),Cn("update:color",_n.color),Cn("change",_n.color)},{deep:!0}),{state:_n,advancePanelShow:Rn,onBack:Ln,onCompactChange:Fn,onAlphaChange:Wn,onHueChange:zn,onBoardChange:Yn,onLightChange:Gn,onInputChange:ei,previewStyle:Bn,historyColors:Dn}}}),jt=Pn=>(pushScopeId("data-v-48e3c224"),Pn=Pn(),popScopeId(),Pn),Zt={class:"vc-fk-colorPicker"},Jt={class:"vc-fk-colorPicker__inner"},Qt={class:"vc-fk-colorPicker__header"},xt=jt(()=>createBaseVNode("div",{class:"back"},null,-1)),eo=[xt];function to(Pn,Cn,$n,_n,Rn,Bn){const Ln=resolveComponent("Palette"),Dn=resolveComponent("Board"),Nn=resolveComponent("Hue"),Fn=resolveComponent("Lightness"),Wn=resolveComponent("Alpha"),zn=resolveComponent("Display"),Yn=resolveComponent("History");return openBlock(),createElementBlock("div",Zt,[createBaseVNode("div",Jt,[createBaseVNode("div",Qt,[Pn.advancePanelShow?(openBlock(),createElementBlock("span",{key:0,style:{cursor:"pointer"},onClick:Cn[0]||(Cn[0]=(...Gn)=>Pn.onBack&&Pn.onBack(...Gn))},eo)):createCommentVNode("",!0)]),Pn.advancePanelShow?createCommentVNode("",!0):(openBlock(),createBlock(Ln,{key:0,onChange:Pn.onCompactChange},null,8,["onChange"])),Pn.advancePanelShow?(openBlock(),createBlock(Dn,{key:1,color:Pn.state.color,onChange:Pn.onBoardChange},null,8,["color","onChange"])):createCommentVNode("",!0),Pn.advancePanelShow?(openBlock(),createBlock(Nn,{key:2,color:Pn.state.color,onChange:Pn.onHueChange},null,8,["color","onChange"])):createCommentVNode("",!0),Pn.advancePanelShow?createCommentVNode("",!0):(openBlock(),createBlock(Fn,{key:3,color:Pn.state.color,onChange:Pn.onLightChange},null,8,["color","onChange"])),Pn.disableAlpha?createCommentVNode("",!0):(openBlock(),createBlock(Wn,{key:4,color:Pn.state.color,onChange:Pn.onAlphaChange},null,8,["color","onChange"])),createVNode(zn,{color:Pn.state.color,"disable-alpha":Pn.disableAlpha},null,8,["color","disable-alpha"]),Pn.disableHistory?createCommentVNode("",!0):(openBlock(),createBlock(Yn,{key:5,round:Pn.roundHistory,colors:Pn.historyColors,onChange:Pn.onCompactChange},null,8,["round","colors","onChange"]))])])}const Pe=q(Ut,[["render",to],["__scopeId","data-v-48e3c224"]]),oo=defineComponent({name:"ChromeColorPicker",components:{Display:Se,Alpha:ve,Board:ye,Hue:_e,History:me},props:{color:C$3.instanceOf(A),disableHistory:C$3.bool.def(!1),roundHistory:C$3.bool.def(!1),disableAlpha:C$3.bool.def(!1)},emits:["update:color","change"],setup(Pn,{emit:Cn}){const $n=Pn.color||new A,_n=reactive({color:$n,hex:$n.toHexString(),rgb:$n.toRgbString()}),Rn=computed(()=>({background:_n.rgb})),Bn=useLocalStorage(fe,[],{}),Ln=useDebounceFn(()=>{if(Pn.disableHistory)return;const Yn=_n.color.toRgbString();if(Bn.value=Bn.value.filter(Gn=>!tinycolor.equals(Gn,Yn)),!Bn.value.includes(Yn)){for(;Bn.value.length>Ce;)Bn.value.pop();Bn.value.unshift(Yn)}},500),Dn=Yn=>{_n.color.alpha=Yn},Nn=Yn=>{_n.color.hue=Yn},Fn=Yn=>{Yn.hex!==void 0&&(_n.color.hex=Yn.hex),Yn.alpha!==void 0&&(_n.color.alpha=Yn.alpha)},Wn=(Yn,Gn)=>{_n.color.saturation=Yn,_n.color.brightness=Gn},zn=Yn=>{Yn!=="advance"&&(_n.color.hex=Yn)};return whenever(()=>Pn.color,Yn=>{Yn&&(_n.color=Yn)},{deep:!0}),whenever(()=>_n.color,()=>{_n.hex=_n.color.hex,_n.rgb=_n.color.toRgbString(),Ln(),Cn("update:color",_n.color),Cn("change",_n.color)},{deep:!0}),{state:_n,previewStyle:Rn,historyColors:Bn,onAlphaChange:Dn,onHueChange:Nn,onBoardChange:Wn,onInputChange:Fn,onCompactChange:zn}}}),no={class:"vc-chrome-colorPicker"},ao={class:"vc-chrome-colorPicker-body"},ro={class:"chrome-controls"},lo={class:"chrome-sliders"};function so(Pn,Cn,$n,_n,Rn,Bn){const Ln=resolveComponent("Board"),Dn=resolveComponent("Hue"),Nn=resolveComponent("Alpha"),Fn=resolveComponent("Display"),Wn=resolveComponent("History");return openBlock(),createElementBlock("div",no,[createVNode(Ln,{round:!0,hide:!1,color:Pn.state.color,onChange:Pn.onBoardChange},null,8,["color","onChange"]),createBaseVNode("div",ao,[createBaseVNode("div",ro,[createBaseVNode("div",lo,[createVNode(Dn,{size:"small",color:Pn.state.color,onChange:Pn.onHueChange},null,8,["color","onChange"]),Pn.disableAlpha?createCommentVNode("",!0):(openBlock(),createBlock(Nn,{key:0,size:"small",color:Pn.state.color,onChange:Pn.onAlphaChange},null,8,["color","onChange"]))])]),createVNode(Fn,{color:Pn.state.color,"disable-alpha":Pn.disableAlpha},null,8,["color","disable-alpha"]),Pn.disableHistory?createCommentVNode("",!0):(openBlock(),createBlock(Wn,{key:0,round:Pn.roundHistory,colors:Pn.historyColors,onChange:Pn.onCompactChange},null,8,["round","colors","onChange"]))])])}const Ve=q(oo,[["render",so],["__scopeId","data-v-2611d66c"]]),ke="Vue3ColorPickerProvider",io=(Pn,Cn)=>{const $n=Pn.getBoundingClientRect(),_n=$n.left+$n.width/2,Rn=$n.top+$n.height/2,Bn=Math.abs(_n-Cn.clientX),Ln=Math.abs(Rn-Cn.clientY),Dn=Math.sqrt(Math.pow(Bn,2)+Math.pow(Ln,2)),Nn=Ln/Dn,Fn=Math.acos(Nn);let Wn=Math.floor(180/(Math.PI/Fn));return Cn.clientX>_n&&Cn.clientY>Rn&&(Wn=180-Wn),Cn.clientX==_n&&Cn.clientY>Rn&&(Wn=180),Cn.clientX>_n&&Cn.clientY==Rn&&(Wn=90),Cn.clientX<_n&&Cn.clientY>Rn&&(Wn=180+Wn),Cn.clientX<_n&&Cn.clientY==Rn&&(Wn=270),Cn.clientX<_n&&Cn.clientY<Rn&&(Wn=360-Wn),Wn};let de=!1;const co=(Pn,Cn)=>{const $n=function(Rn){var Bn;(Bn=Cn.drag)==null||Bn.call(Cn,Rn)},_n=function(Rn){var Bn;document.removeEventListener("mousemove",$n,!1),document.removeEventListener("mouseup",_n,!1),document.onselectstart=null,document.ondragstart=null,de=!1,(Bn=Cn.end)==null||Bn.call(Cn,Rn)};Pn&&Pn.addEventListener("mousedown",Rn=>{var Bn;de||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",$n,!1),document.addEventListener("mouseup",_n,!1),de=!0,(Bn=Cn.start)==null||Bn.call(Cn,Rn))})},uo={angle:{type:Number,default:0},size:{type:Number,default:16,validator:Pn=>Pn>=16},borderWidth:{type:Number,default:1,validator:Pn=>Pn>=1},borderColor:{type:String,default:"#666"}},go=defineComponent({name:"Angle",props:uo,emits:["update:angle","change"],setup(Pn,{emit:Cn}){const $n=ref(null),_n=ref(0);watch(()=>Pn.angle,Dn=>{_n.value=Dn});const Rn=()=>{let Dn=Number(_n.value);isNaN(Dn)||(Dn=Dn>360||Dn<0?Pn.angle:Dn,_n.value=Dn===360?0:Dn,Cn("update:angle",_n.value),Cn("change",_n.value))},Bn=computed(()=>({width:Pn.size+"px",height:Pn.size+"px",borderWidth:Pn.borderWidth+"px",borderColor:Pn.borderColor,transform:`rotate(${_n.value}deg)`})),Ln=Dn=>{$n.value&&(_n.value=io($n.value,Dn)%360,Rn())};return onMounted(()=>{const Dn={drag:Nn=>{Ln(Nn)},end:Nn=>{Ln(Nn)}};$n.value&&co($n.value,Dn)}),()=>createVNode("div",{class:"bee-angle"},[createVNode("div",{class:"bee-angle__round",ref:$n,style:Bn.value},null)])}}),ho=defineComponent({name:"GradientColorPicker",components:{Angle:go,Display:Se,Alpha:ve,Palette:Ke,Board:ye,Hue:_e,Lightness:Le,History:me},props:{startColor:C$3.instanceOf(A).isRequired,endColor:C$3.instanceOf(A).isRequired,startColorStop:C$3.number.def(0),endColorStop:C$3.number.def(100),angle:C$3.number.def(0),type:C$3.oneOf(["linear","radial"]).def("linear"),disableHistory:C$3.bool.def(!1),roundHistory:C$3.bool.def(!1),disableAlpha:C$3.bool.def(!1),pickerType:C$3.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(Pn,{emit:Cn}){const $n=reactive({startActive:!0,startColor:Pn.startColor,endColor:Pn.endColor,startColorStop:Pn.startColorStop,endColorStop:Pn.endColorStop,angle:Pn.angle,type:Pn.type,startColorRgba:Pn.startColor.toRgbString(),endColorRgba:Pn.endColor.toRgbString()}),_n=inject(ke),Rn=ref(Pn.pickerType==="chrome"),Bn=ref(),Ln=ref(),Dn=ref();watch(()=>[Pn.startColor,Pn.endColor,Pn.angle],Oi=>{$n.startColor=Oi[0],$n.endColor=Oi[1],$n.angle=Oi[2]}),watch(()=>Pn.type,Oi=>{$n.type=Oi});const Nn=computed({get:()=>$n.startActive?$n.startColor:$n.endColor,set:Oi=>{if($n.startActive){$n.startColor=Oi;return}$n.endColor=Oi}}),Fn=computed(()=>{if(Dn.value&&Bn.value){const Oi=$n.startColorStop/100,wi=Dn.value.getBoundingClientRect(),Li=Bn.value.offsetWidth;return Math.round(Oi*(wi.width-Li)+Li/2)}return 0}),Wn=computed(()=>{if(Dn.value&&Ln.value){const Oi=$n.endColorStop/100,wi=Dn.value.getBoundingClientRect(),Li=Ln.value.offsetWidth;return Math.round(Oi*(wi.width-Li)+Li/2)}return 0}),zn=computed(()=>{let Oi=`background: linear-gradient(${$n.angle}deg, ${$n.startColorRgba} ${$n.startColorStop}%, ${$n.endColorRgba} ${$n.endColorStop}%)`;return $n.type==="radial"&&(Oi=`background: radial-gradient(circle, ${$n.startColorRgba} ${$n.startColorStop}%, ${$n.endColorRgba} ${$n.endColorStop}%)`),Oi}),Yn=Oi=>{var wi;if($n.startActive=!0,Dn.value&&Bn.value){const Li=(wi=Dn.value)==null?void 0:wi.getBoundingClientRect();let Xi=Oi.clientX-Li.left;Xi=Math.max(Bn.value.offsetWidth/2,Xi),Xi=Math.min(Xi,Li.width-Bn.value.offsetWidth/2),$n.startColorStop=Math.round((Xi-Bn.value.offsetWidth/2)/(Li.width-Bn.value.offsetWidth)*100),Cn("update:startColorStop",$n.startColorStop),Cn("startColorStopChange",$n.startColorStop)}},Gn=Oi=>{var wi;if($n.startActive=!1,Dn.value&&Ln.value){const Li=(wi=Dn.value)==null?void 0:wi.getBoundingClientRect();let Xi=Oi.clientX-Li.left;Xi=Math.max(Ln.value.offsetWidth/2,Xi),Xi=Math.min(Xi,Li.width-Ln.value.offsetWidth/2),$n.endColorStop=Math.round((Xi-Ln.value.offsetWidth/2)/(Li.width-Ln.value.offsetWidth)*100),Cn("update:endColorStop",$n.endColorStop),Cn("endColorStopChange",$n.endColorStop)}},ei=Oi=>{const wi=Oi.target,Li=parseInt(wi.value.replace("",""));isNaN(Li)||($n.angle=Li%360),Cn("update:angle",$n.angle),Cn("angleChange",$n.angle)},ti=Oi=>{$n.angle=Oi,Cn("update:angle",$n.angle),Cn("angleChange",$n.angle)},ii=Oi=>{Oi==="advance"?(Rn.value=!0,Cn("advanceChange",!0)):(Nn.value.hex=Oi,Cn("advanceChange",!1)),yi()},oi=Oi=>{Nn.value.alpha=Oi,yi()},ai=Oi=>{Nn.value.hue=Oi,yi()},fi=(Oi,wi)=>{Nn.value.saturation=Oi,Nn.value.brightness=wi,yi()},ui=Oi=>{Nn.value.lightness=Oi,yi()},di=()=>{yi()},yi=()=>{$n.startActive?(Cn("update:startColor",$n.startColor),Cn("startColorChange",$n.startColor)):(Cn("update:endColor",$n.endColor),Cn("endColorChange",$n.endColor))},mi=()=>{Rn.value=!1,Cn("advanceChange",!1)},ki=()=>{$n.type=$n.type==="linear"?"radial":"linear",Cn("typeChange",$n.type)},_i=useLocalStorage(fe,[],{}),Pi=useDebounceFn(()=>{if(Pn.disableHistory)return;const Oi=Nn.value.toRgbString();if(_i.value=_i.value.filter(wi=>!tinycolor.equals(wi,Oi)),!_i.value.includes(Oi)){for(;_i.value.length>Ce;)_i.value.pop();_i.value.unshift(Oi)}},500);return tryOnMounted(()=>{Ln.value&&Bn.value&&(Vn.triggerDragEvent(Ln.value,{drag:Oi=>{Gn(Oi)},end:Oi=>{Gn(Oi)}}),Vn.triggerDragEvent(Bn.value,{drag:Oi=>{Yn(Oi)},end:Oi=>{Yn(Oi)}}))}),whenever(()=>$n.startColor,Oi=>{$n.startColorRgba=Oi.toRgbString()},{deep:!0}),whenever(()=>$n.endColor,Oi=>{$n.endColorRgba=Oi.toRgbString()},{deep:!0}),whenever(()=>Nn.value,()=>{Pi()},{deep:!0}),{startGradientRef:Bn,stopGradientRef:Ln,colorRangeRef:Dn,state:$n,currentColor:Nn,getStartColorLeft:Fn,getEndColorLeft:Wn,gradientBg:zn,advancePanelShow:Rn,onDegreeBlur:ei,onCompactChange:ii,onAlphaChange:oi,onHueChange:ai,onBoardChange:fi,onLightChange:ui,historyColors:_i,onBack:mi,onDegreeChange:ti,onDisplayChange:di,onTypeChange:ki,lang:_n==null?void 0:_n.lang}}}),Ne=Pn=>(pushScopeId("data-v-c4d6d6ea"),Pn=Pn(),popScopeId(),Pn),po={class:"vc-gradient-picker"},fo={class:"vc-gradient-picker__header"},Co={class:"vc-gradient__types"},vo={class:"vc-gradient-wrap__types"},bo={class:"vc-picker-degree-input vc-degree-input"},yo={class:"vc-degree-input__control"},_o=["value"],mo={class:"vc-degree-input__panel"},So={class:"vc-degree-input__disk"},ko={class:"vc-gradient-picker__body"},$o={class:"vc-color-range",ref:"colorRangeRef"},wo={class:"vc-color-range__container"},Bo={class:"vc-gradient__stop__container"},Ho=["title"],Ro=Ne(()=>createBaseVNode("span",{class:"vc-gradient__stop--inner"},null,-1)),Ao=[Ro],Po=["title"],Vo=Ne(()=>createBaseVNode("span",{class:"vc-gradient__stop--inner"},null,-1)),Mo=[Vo];function Eo(Pn,Cn,$n,_n,Rn,Bn){var Ln,Dn;const Nn=resolveComponent("Angle"),Fn=resolveComponent("Board"),Wn=resolveComponent("Hue"),zn=resolveComponent("Palette"),Yn=resolveComponent("Lightness"),Gn=resolveComponent("Alpha"),ei=resolveComponent("Display"),ti=resolveComponent("History");return openBlock(),createElementBlock("div",po,[createBaseVNode("div",fo,[createBaseVNode("div",null,[withDirectives(createBaseVNode("div",{class:"back",style:{cursor:"pointer"},onClick:Cn[0]||(Cn[0]=(...ii)=>Pn.onBack&&Pn.onBack(...ii))},null,512),[[vShow,Pn.pickerType==="fk"&&Pn.advancePanelShow]])]),createBaseVNode("div",Co,[createBaseVNode("div",vo,[(openBlock(),createElementBlock(Fragment,null,renderList(["linear","radial"],ii=>createBaseVNode("div",{class:normalizeClass(["vc-gradient__type",{active:Pn.state.type===ii}]),key:ii,onClick:Cn[1]||(Cn[1]=(...oi)=>Pn.onTypeChange&&Pn.onTypeChange(...oi))},toDisplayString(Pn.lang?Pn.lang[ii]:ii),3)),64))]),withDirectives(createBaseVNode("div",bo,[createBaseVNode("div",yo,[createBaseVNode("input",{value:Pn.state.angle,onBlur:Cn[2]||(Cn[2]=(...ii)=>Pn.onDegreeBlur&&Pn.onDegreeBlur(...ii))},null,40,_o),createTextVNode("deg ")]),createBaseVNode("div",mo,[createBaseVNode("div",So,[createVNode(Nn,{angle:Pn.state.angle,"onUpdate:angle":Cn[3]||(Cn[3]=ii=>Pn.state.angle=ii),size:40,onChange:Pn.onDegreeChange},null,8,["angle","onChange"])])])],512),[[vShow,Pn.state.type==="linear"]])])]),createBaseVNode("div",ko,[createBaseVNode("div",$o,[createBaseVNode("div",wo,[createBaseVNode("div",{class:"vc-background",style:normalizeStyle(Pn.gradientBg)},null,4),createBaseVNode("div",Bo,[createBaseVNode("div",{class:normalizeClass(["vc-gradient__stop",{"vc-gradient__stop--current":Pn.state.startActive}]),ref:"startGradientRef",title:(Ln=Pn.lang)==null?void 0:Ln.start,style:normalizeStyle({left:Pn.getStartColorLeft+"px",backgroundColor:Pn.state.startColorRgba})},Ao,14,Ho),createBaseVNode("div",{class:normalizeClass(["vc-gradient__stop",{"vc-gradient__stop--current":!Pn.state.startActive}]),ref:"stopGradientRef",title:(Dn=Pn.lang)==null?void 0:Dn.end,style:normalizeStyle({left:Pn.getEndColorLeft+"px",backgroundColor:Pn.state.endColorRgba})},Mo,14,Po)])])],512)]),Pn.advancePanelShow?(openBlock(),createBlock(Fn,{key:0,color:Pn.currentColor,onChange:Pn.onBoardChange},null,8,["color","onChange"])):createCommentVNode("",!0),Pn.advancePanelShow?(openBlock(),createBlock(Wn,{key:1,color:Pn.currentColor,onChange:Pn.onHueChange},null,8,["color","onChange"])):createCommentVNode("",!0),Pn.advancePanelShow?createCommentVNode("",!0):(openBlock(),createBlock(zn,{key:2,onChange:Pn.onCompactChange},null,8,["onChange"])),Pn.advancePanelShow?createCommentVNode("",!0):(openBlock(),createBlock(Yn,{key:3,color:Pn.currentColor,onChange:Pn.onLightChange},null,8,["color","onChange"])),Pn.disableAlpha?createCommentVNode("",!0):(openBlock(),createBlock(Gn,{key:4,color:Pn.currentColor,onChange:Pn.onAlphaChange},null,8,["color","onChange"])),createVNode(ei,{color:Pn.currentColor,"disable-alpha":Pn.disableAlpha,onChange:Pn.onDisplayChange},null,8,["color","disable-alpha","onChange"]),Pn.disableHistory?createCommentVNode("",!0):(openBlock(),createBlock(ti,{key:5,round:Pn.roundHistory,colors:Pn.historyColors,onChange:Pn.onCompactChange},null,8,["round","colors","onChange"]))])}const Me=q(ho,[["render",Eo],["__scopeId","data-v-c4d6d6ea"]]),Io=defineComponent({name:"WrapContainer",props:{theme:C$3.oneOf(["white","black"]).def("white"),showTab:C$3.bool.def(!1),activeKey:C$3.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(Pn,{emit:Cn}){const $n=reactive({activeKey:Pn.activeKey}),_n=inject(ke),Rn=Bn=>{$n.activeKey=Bn,Cn("update:activeKey",Bn),Cn("change",Bn)};return whenever(()=>Pn.activeKey,Bn=>{$n.activeKey=Bn}),{state:$n,onActiveKeyChange:Rn,lang:_n==null?void 0:_n.lang}}}),Ko={class:"vc-colorpicker--container"},Lo={key:0,class:"vc-colorpicker--tabs"},No={class:"vc-colorpicker--tabs__inner"},Wo={class:"vc-btn__content"},Do={class:"vc-btn__content"};function To(Pn,Cn,$n,_n,Rn,Bn){var Ln,Dn;return openBlock(),createElementBlock("div",{class:normalizeClass(["vc-colorpicker",Pn.theme])},[createBaseVNode("div",Ko,[Pn.showTab?(openBlock(),createElementBlock("div",Lo,[createBaseVNode("div",No,[createBaseVNode("div",{class:normalizeClass(["vc-colorpicker--tabs__btn",{"vc-btn-active":Pn.state.activeKey==="pure"}]),onClick:Cn[0]||(Cn[0]=Nn=>Pn.onActiveKeyChange("pure"))},[createBaseVNode("button",null,[createBaseVNode("div",Wo,toDisplayString((Ln=Pn.lang)==null?void 0:Ln.pure),1)])],2),createBaseVNode("div",{class:normalizeClass(["vc-colorpicker--tabs__btn",{"vc-btn-active":Pn.state.activeKey==="gradient"}]),onClick:Cn[1]||(Cn[1]=Nn=>Pn.onActiveKeyChange("gradient"))},[createBaseVNode("button",null,[createBaseVNode("div",Do,toDisplayString((Dn=Pn.lang)==null?void 0:Dn.gradient),1)])],2),createBaseVNode("div",{class:"vc-colorpicker--tabs__bg",style:normalizeStyle({width:"50%",left:`calc(${Pn.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):createCommentVNode("",!0),renderSlot(Pn.$slots,"default",{},void 0)])],2)}const Oo=q(Io,[["render",To],["__scopeId","data-v-0492277d"]]),zo={start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},Go={start:"",end:"",pure:"",gradient:"",linear:"",radial:""},Fo={En:zo,"ZH-cn":Go},Xo={isWidget:C$3.bool.def(!1),pickerType:C$3.oneOf(["fk","chrome"]).def("fk"),shape:C$3.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:C$3.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:C$3.bool.def(!1),disableHistory:C$3.bool.def(!1),roundHistory:C$3.bool.def(!1),useType:C$3.oneOf(["pure","gradient","both"]).def("pure"),activeKey:C$3.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:C$3.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:C$3.number.def(100),theme:C$3.oneOf(["white","black"]).def("white"),blurClose:C$3.bool.def(!1),defaultPopup:C$3.bool.def(!1)},qo=defineComponent({name:"ColorPicker",components:{FkColorPicker:Pe,ChromeColorPicker:Ve,GradientColorPicker:Me,WrapContainer:Oo},inheritAttrs:!1,props:Xo,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(Pn,{emit:Cn}){provide(ke,{lang:computed(()=>Fo[Pn.lang||"ZH-cn"])});const $n=!!useSlots().extra,_n=reactive({pureColor:Pn.pureColor||"",activeKey:Pn.useType==="gradient"?"gradient":Pn.activeKey,isAdvanceMode:!1}),Rn=new A("#000"),Bn=new A("#000"),Ln=new A(_n.pureColor),Dn=reactive({startColor:Rn,endColor:Bn,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:Pn.gradientColor}),Nn=ref(Ln),Fn=ref(Pn.defaultPopup),Wn=ref(null),zn=ref(null);let Yn=null;const Gn=computed(()=>({background:_n.activeKey!=="gradient"?tinycolor(_n.pureColor).toRgbString():Dn.gradientColor})),ei=computed(()=>_n.activeKey==="gradient"?Me.name:Pn.pickerType==="fk"?Pe.name:Ve.name),ti=Oi=>{_n.isAdvanceMode=Oi},ii=computed(()=>{const Oi={disableAlpha:Pn.disableAlpha,disableHistory:Pn.disableHistory,roundHistory:Pn.roundHistory,pickerType:Pn.pickerType};return _n.activeKey==="gradient"?{...Oi,startColor:Dn.startColor,endColor:Dn.endColor,angle:Dn.angle,type:Dn.type,startColorStop:Dn.startColorStop,endColorStop:Dn.endColorStop,onStartColorChange:wi=>{Dn.startColor=wi,di()},onEndColorChange:wi=>{Dn.endColor=wi,di()},onStartColorStopChange:wi=>{Dn.startColorStop=wi,di()},onEndColorStopChange:wi=>{Dn.endColorStop=wi,di()},onAngleChange:wi=>{Dn.angle=wi,di()},onTypeChange:wi=>{Dn.type=wi,di()},onAdvanceChange:ti}:{...Oi,disableAlpha:Pn.disableAlpha,disableHistory:Pn.disableHistory,roundHistory:Pn.roundHistory,color:Nn.value,onChange:ki,onAdvanceChange:ti}}),oi=()=>{Fn.value=!0,Yn?Yn.update():mi()},ai=()=>{Fn.value=!1},fi=useDebounceFn(()=>{!Pn.isWidget&&Pn.blurClose&&ai()},100);onClickOutside(zn,()=>{ai()});const ui=()=>{var Oi,wi,Li,Xi;try{const[qi]=nodeExports.parse(Dn.gradientColor);if(qi&&qi.type.includes("gradient")&&qi.colorStops.length>=2){const Gi=qi.colorStops[0],ji=qi.colorStops[1];Dn.startColorStop=Number((Oi=Gi.length)==null?void 0:Oi.value)||0,Dn.endColorStop=Number((wi=ji.length)==null?void 0:wi.value)||0,qi.type==="linear-gradient"&&((Li=qi.orientation)==null?void 0:Li.type)==="angular"&&(Dn.angle=Number((Xi=qi.orientation)==null?void 0:Xi.value)||0),Dn.type=qi.type.split("-")[0];const[Ji,ns,Zo,Ui]=Gi.value,[ls,Bi,Fi,Hi]=ji.value;Dn.startColor=new A({r:Number(Ji),g:Number(ns),b:Number(Zo),a:Number(Ui)}),Dn.endColor=new A({r:Number(ls),g:Number(Bi),b:Number(Fi),a:Number(Hi)})}}catch(qi){console.log(`[Parse Color]: ${qi}`)}},di=useDebounceFn(()=>{const Oi=yi();try{Dn.gradientColor=nodeExports.stringify(Oi),Cn("update:gradientColor",Dn.gradientColor),Cn("gradientColorChange",Dn.gradientColor)}catch(wi){console.log(wi)}},Pn.debounce),yi=()=>{const Oi=[],wi=Dn.startColor.RGB.map(qi=>qi.toString()),Li=Dn.endColor.RGB.map(qi=>qi.toString()),Xi=[{type:"rgba",value:[wi[0],wi[1],wi[2],wi[3]],length:{value:Dn.startColorStop+"",type:"%"}},{type:"rgba",value:[Li[0],Li[1],Li[2],Li[3]],length:{value:Dn.endColorStop+"",type:"%"}}];return Dn.type==="linear"?Oi.push({type:"linear-gradient",orientation:{type:"angular",value:Dn.angle+""},colorStops:Xi}):Dn.type==="radial"&&Oi.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:Xi}),Oi},mi=()=>{Wn.value&&zn.value&&(Yn=createPopper(Wn.value,zn.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},ki=Oi=>{Nn.value=Oi,_n.pureColor=Oi.toString(Pn.format),_i()},_i=useDebounceFn(()=>{Cn("update:pureColor",_n.pureColor),Cn("pureColorChange",_n.pureColor)},Pn.debounce),Pi=Oi=>{_n.activeKey=Oi,Cn("update:activeKey",Oi),Cn("activeKeyChange",Oi)};return tryOnMounted(()=>{ui(),Yn||mi()}),whenever(()=>Pn.gradientColor,Oi=>{Oi!=Dn.gradientColor&&(Dn.gradientColor=Oi)}),whenever(()=>Dn.gradientColor,()=>{ui()}),whenever(()=>Pn.activeKey,Oi=>{_n.activeKey=Oi}),whenever(()=>Pn.useType,Oi=>{_n.activeKey!=="gradient"&&Oi==="gradient"?_n.activeKey="gradient":_n.activeKey="pure"}),whenever(()=>Pn.pureColor,Oi=>{tinycolor.equals(Oi,_n.pureColor)||(_n.pureColor=Oi,Nn.value=new A(Oi))},{deep:!0}),{colorCubeRef:Wn,pickerRef:zn,showPicker:Fn,colorInstance:Nn,getBgColorStyle:Gn,getComponentName:ei,getBindArgs:ii,state:_n,hasExtra:$n,onColorChange:ki,onShowPicker:oi,onActiveKeyChange:Pi,onAutoClose:fi}}}),Yo={key:0,class:"vc-color-extra"},Uo={key:0,class:"vc-color-extra"};function jo(Pn,Cn,$n,_n,Rn,Bn){const Ln=resolveComponent("WrapContainer");return openBlock(),createElementBlock(Fragment,null,[Pn.isWidget?(openBlock(),createBlock(Ln,{key:0,"active-key":Pn.state.activeKey,"onUpdate:activeKey":Cn[0]||(Cn[0]=Dn=>Pn.state.activeKey=Dn),"show-tab":Pn.useType==="both",style:normalizeStyle({zIndex:Pn.zIndex}),theme:Pn.theme,onChange:Pn.onActiveKeyChange},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Pn.getComponentName),mergeProps({key:Pn.getComponentName},Pn.getBindArgs),null,16)),Pn.hasExtra?(openBlock(),createElementBlock("div",Yo,[renderSlot(Pn.$slots,"extra",{},void 0,!0)])):createCommentVNode("",!0)]),_:3},8,["active-key","show-tab","style","theme","onChange"])):createCommentVNode("",!0),Pn.isWidget?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["vc-color-wrap transparent",{round:Pn.shape==="circle"}]),ref:"colorCubeRef"},[createBaseVNode("div",{class:"current-color",style:normalizeStyle(Pn.getBgColorStyle),onClick:Cn[1]||(Cn[1]=(...Dn)=>Pn.onShowPicker&&Pn.onShowPicker(...Dn))},null,4)],2),(openBlock(),createBlock(Teleport,{to:Pn.pickerContainer},[withDirectives(createBaseVNode("div",{ref:"pickerRef",style:normalizeStyle({zIndex:Pn.zIndex}),onMouseleave:Cn[3]||(Cn[3]=(...Dn)=>Pn.onAutoClose&&Pn.onAutoClose(...Dn))},[Pn.showPicker?(openBlock(),createBlock(Ln,{key:0,"show-tab":Pn.useType==="both"&&!Pn.state.isAdvanceMode,theme:Pn.theme,"active-key":Pn.state.activeKey,"onUpdate:activeKey":Cn[2]||(Cn[2]=Dn=>Pn.state.activeKey=Dn),onChange:Pn.onActiveKeyChange},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Pn.getComponentName),mergeProps({key:Pn.getComponentName},Pn.getBindArgs),null,16)),Pn.hasExtra?(openBlock(),createElementBlock("div",Uo,[renderSlot(Pn.$slots,"extra",{},void 0,!0)])):createCommentVNode("",!0)]),_:3},8,["show-tab","theme","active-key","onChange"])):createCommentVNode("",!0)],36),[[vShow,Pn.showPicker]])],8,["to"]))],64))],64)}const re=q(qo,[["render",jo],["__scopeId","data-v-354ca836"]]),rn={install:Pn=>{Pn.component(re.name,re),Pn.component("Vue3"+re.name,re)}},_imports_0$2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64px'%20height='64px'%20viewBox='0%200%2045.40%2045.40'%20xml:space='preserve'%20transform='rotate(0)'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke='%23CCCCCC'%20stroke-width='0.18160800000000002'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141%20c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27%20c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435%20c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_imports_1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20457.503%20457.503'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M381.575,57.067h-90.231C288.404,25.111,261.461,0,228.752,0C196.043,0,169.1,25.111,166.16,57.067H75.929%20c-26.667,0-48.362,21.695-48.362,48.362c0,26.018,20.655,47.292,46.427,48.313v246.694c0,31.467,25.6,57.067,57.067,57.067%20h195.381c31.467,0,57.067-25.6,57.067-57.067V153.741c25.772-1.02,46.427-22.294,46.427-48.313%20C429.936,78.761,408.242,57.067,381.575,57.067z%20M165.841,376.817c0,8.013-6.496,14.509-14.508,14.509%20c-8.013,0-14.508-6.496-14.508-14.509V186.113c0-8.013,6.496-14.508,14.508-14.508c8.013,0,14.508,6.496,14.508,14.508V376.817z%20M243.26,376.817c0,8.013-6.496,14.509-14.508,14.509c-8.013,0-14.508-6.496-14.508-14.509V186.113%20c0-8.013,6.496-14.508,14.508-14.508c8.013,0,14.508,6.496,14.508,14.508V376.817z%20M320.679,376.817%20c0,8.013-6.496,14.509-14.508,14.509c-8.013,0-14.509-6.496-14.509-14.509V186.113c0-8.013,6.496-14.508,14.509-14.508%20s14.508,6.496,14.508,14.508V376.817z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_export_sfc=(Pn,Cn)=>{const $n=Pn.__vccOpts||Pn;for(const[_n,Rn]of Cn)$n[_n]=Rn;return $n},_sfc_main$5={props:{launcher:{}},data(){return{launcherValues:this.launcher,sliderValue:[0,2],colorToggle:!1,currentColor:"",colorIndex:0}},methods:{changeValues(Pn,Cn){var $n;let _n=this.launcherValues,Rn=Cn.split(".");for($n=0;$n<Rn.length-1;$n++)_n=_n[Rn[$n]];_n[Rn[$n]]=Pn},updateColor(Pn){this.launcherValues.colors[this.colorIndex]=Pn},deleteColor(){this.launcherValues.colors.splice(this.colorIndex,1)}},watch:{launcher:{handler(Pn){this.launcherValues=Pn}}}},_hoisted_1$4={key:0,class:"wrapper"},_hoisted_2$4={class:"option-wrapper"},_hoisted_3$2={class:"inputs"},_hoisted_4$2=["value"],_hoisted_5$2=["value"],_hoisted_6$1={class:"option-wrapper"},_hoisted_7$1={class:"inputs"},_hoisted_8$1=["value"],_hoisted_9$1=["value"],_hoisted_10$1={class:"option-wrapper"},_hoisted_11$1={class:"inputs"},_hoisted_12$1=["value"],_hoisted_13$1=["value"],_hoisted_14$1={class:"option-wrapper"},_hoisted_15={class:"inputs"},_hoisted_16=["value"],_hoisted_17=["value"],_hoisted_18={class:"option-wrapper"},_hoisted_19={class:"inputs"},_hoisted_20=["value"],_hoisted_21=["value"],_hoisted_22={class:"option-wrapper"},_hoisted_23={class:"color-button-wrapper"},_hoisted_24=["onClick"],_hoisted_25={key:0,class:"color-picker"};function _sfc_render$4(Pn,Cn,$n,_n,Rn,Bn){var Dn,Nn,Fn,Wn,zn,Yn,Gn,ei;const Ln=resolveComponent("ColorPicker");return Rn.launcherValues?(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[Cn[16]||(Cn[16]=createBaseVNode("div",null,"Start Position",-1)),createBaseVNode("div",_hoisted_3$2,[Cn[14]||(Cn[14]=createBaseVNode("div",null,"x",-1)),createBaseVNode("input",{value:(Dn=Rn.launcherValues.position)!=null&&Dn.x?(Nn=Rn.launcherValues.position)==null?void 0:Nn.x:0,onInput:Cn[0]||(Cn[0]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"position.x")})},null,40,_hoisted_4$2),Cn[15]||(Cn[15]=createBaseVNode("div",null,"y",-1)),createBaseVNode("input",{value:(Fn=Rn.launcherValues.position)!=null&&Fn.y?(Wn=Rn.launcherValues.position)==null?void 0:Wn.y:0,onInput:Cn[1]||(Cn[1]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"position.y")})},null,40,_hoisted_5$2)])]),createBaseVNode("div",_hoisted_6$1,[Cn[19]||(Cn[19]=createBaseVNode("div",null,"Direction",-1)),createBaseVNode("div",_hoisted_7$1,[Cn[17]||(Cn[17]=createBaseVNode("div",null,"start",-1)),createBaseVNode("input",{value:(zn=Rn.launcherValues.direction)!=null&&zn.start?(Yn=Rn.launcherValues.direction)==null?void 0:Yn.start:0,onInput:Cn[2]||(Cn[2]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"direction.start")})},null,40,_hoisted_8$1),Cn[18]||(Cn[18]=createBaseVNode("div",null,"end",-1)),createBaseVNode("input",{value:(Gn=Rn.launcherValues.direction)!=null&&Gn.end?(ei=Rn.launcherValues.direction)==null?void 0:ei.end:2,onInput:Cn[3]||(Cn[3]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"direction.end")})},null,40,_hoisted_9$1)])]),createBaseVNode("div",_hoisted_10$1,[Cn[22]||(Cn[22]=createBaseVNode("div",null,"Strength",-1)),createBaseVNode("div",_hoisted_11$1,[Cn[20]||(Cn[20]=createBaseVNode("div",null,"min",-1)),createBaseVNode("input",{value:Rn.launcherValues.strength[0]?Rn.launcherValues.strength[0]:0,onInput:Cn[4]||(Cn[4]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"strength.0")})},null,40,_hoisted_12$1),Cn[21]||(Cn[21]=createBaseVNode("div",null,"max",-1)),createBaseVNode("input",{value:Rn.launcherValues.strength[1]?Rn.launcherValues.strength[1]:0,onInput:Cn[5]||(Cn[5]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"strength.1")})},null,40,_hoisted_13$1)])]),createBaseVNode("div",_hoisted_14$1,[Cn[25]||(Cn[25]=createBaseVNode("div",null,"Amount",-1)),createBaseVNode("div",_hoisted_15,[Cn[23]||(Cn[23]=createBaseVNode("div",null,"min",-1)),createBaseVNode("input",{value:Rn.launcherValues.amount[0]?Rn.launcherValues.amount[0]:0,onInput:Cn[6]||(Cn[6]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"amount.0")})},null,40,_hoisted_16),Cn[24]||(Cn[24]=createBaseVNode("div",null,"max",-1)),createBaseVNode("input",{value:Rn.launcherValues.amount[1]?Rn.launcherValues.amount[1]:0,onInput:Cn[7]||(Cn[7]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"amount.1")})},null,40,_hoisted_17)])]),createBaseVNode("div",_hoisted_18,[Cn[28]||(Cn[28]=createBaseVNode("div",null,"Shoot repetition",-1)),createBaseVNode("div",_hoisted_19,[Cn[26]||(Cn[26]=createBaseVNode("div",null,"duration",-1)),createBaseVNode("input",{value:Rn.launcherValues.shootRepetition.duration?Rn.launcherValues.shootRepetition.duration:0,onInput:Cn[8]||(Cn[8]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"shootRepetition.duration")})},null,40,_hoisted_20),Cn[27]||(Cn[27]=createBaseVNode("div",null,"delay",-1)),createBaseVNode("input",{value:Rn.launcherValues.shootRepetition.delay?Rn.launcherValues.shootRepetition.delay:0,onInput:Cn[9]||(Cn[9]=ti=>{var ii;return Bn.changeValues(Number((ii=ti.target)==null?void 0:ii.value),"shootRepetition.delay")})},null,40,_hoisted_21)])]),createBaseVNode("div",_hoisted_22,[Cn[30]||(Cn[30]=createBaseVNode("div",null,"Colors",-1)),createBaseVNode("div",_hoisted_23,[createBaseVNode("button",{class:"color-button",onClick:Cn[10]||(Cn[10]=ti=>Rn.launcherValues.colors.unshift(Rn.currentColor))},Cn[29]||(Cn[29]=[createBaseVNode("img",{src:_imports_0$2},null,-1)])),(openBlock(!0),createElementBlock(Fragment,null,renderList(Rn.launcherValues.colors,(ti,ii)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("button",{onClick:oi=>{Rn.colorToggle=!0,Rn.currentColor=ti,Rn.colorIndex=ii},style:normalizeStyle({backgroundColor:ti}),class:"color-button"},null,12,_hoisted_24)]))),256))])]),Rn.colorToggle?(openBlock(),createElementBlock("div",_hoisted_25,[createBaseVNode("button",{class:"color-picker-close",onClick:Cn[11]||(Cn[11]=ti=>Rn.colorToggle=!1)}," close "),createBaseVNode("button",{class:"color-picker-delete",onClick:Cn[12]||(Cn[12]=ti=>Bn.deleteColor())},Cn[31]||(Cn[31]=[createBaseVNode("img",{src:_imports_1},null,-1)])),createVNode(Ln,{format:"hex","is-widget":"","picker-type":"chrome",shape:"circle",pureColor:Rn.currentColor,onPureColorChange:Cn[13]||(Cn[13]=ti=>Bn.updateColor(ti))},null,8,["pureColor"])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const Launcher=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-6a29a811"]]);function animateConfetti(Pn,Cn,$n,_n){$n.resetTransform(),Pn.lifetime.current+=Cn,move(Pn,Cn),Pn.quaternion=addQuaternionVelocity(Pn.quaternion,Pn.quaternionVelocity,Cn);const Rn=createTranformationMatrix(Pn.quaternion);if($n.transform(Rn[0][0],Rn[1][0],Rn[0][1],Rn[1][1],Pn.position.x,Pn.position.y),Pn.shading){const Bn=calculateNormal(Pn.quaternion),Ln=[Bn[0]-_n[0],Bn[1]-_n[1],Bn[2]-_n[2]],Dn=2-Math.sqrt(Ln[0]*Ln[0]+Ln[1]*Ln[1]+Ln[2]*Ln[2]);if(Dn>=1){const Nn=blendWithLight(Pn.color,Math.abs(Dn-1)*Pn.shapeOptions.shininess,!1);$n.fillStyle=Nn}else if(Dn<1){const Nn=blendWithLight(Pn.color,(1-Dn)*Pn.shapeOptions.shadows,!0);$n.fillStyle=Nn}}else $n.fillStyle=Pn.color;Pn.lifetime.enabled?alphadecay(Pn,$n):$n.globalAlpha=Pn.alpha,fillShape(Pn,$n)}function move(Pn,Cn){Pn.velocity.y<Pn.velocity.maxFallspeed?Pn.velocity.y+=Cn*Pn.velocity.gravity:Pn.velocity.y-=Pn.velocity.airdrag*Cn;const $n=Math.abs(Pn.velocity.x)-Pn.velocity.airdrag*Cn;$n<0?Pn.velocity.x=0:Pn.velocity.x=Math.sign(Pn.velocity.x)*$n,Pn.position.x+=Pn.velocity.x*Cn,Pn.position.y+=Pn.velocity.y*Cn}function alphadecay(Pn,Cn){Pn.lifetime.current>Pn.lifetime.onset&&Pn.lifetime.current<Pn.lifetime.duration?Cn.globalAlpha=(Pn.lifetime.duration-Pn.lifetime.current)/(Pn.lifetime.duration-Pn.lifetime.onset)*Pn.alpha:Pn.lifetime.current>=Pn.lifetime.duration?Cn.globalAlpha=0:Cn.globalAlpha=Pn.alpha}function createTranformationMatrix(Pn){const{w:Cn,x:$n,y:_n,z:Rn}=Pn;return[[1-2*_n*_n-2*Rn*Rn,2*$n*_n-2*Cn*Rn],[2*$n*_n+2*Cn*Rn,1-2*$n*$n-2*Rn*Rn]]}function addQuaternionVelocity(Pn,Cn,$n){const{w:_n,x:Rn,y:Bn,z:Ln}=Pn,{w:Dn,x:Nn,y:Fn,z:Wn}=Cn,zn=_n+.5*$n*(_n*Dn-Rn*Nn-Bn*Fn-Ln*Wn),Yn=Rn+.5*$n*(_n*Nn+Rn*Dn-Bn*Wn+Ln*Fn),Gn=Bn+.5*$n*(_n*Fn+Rn*Wn+Bn*Dn-Ln*Nn),ei=Ln+.5*$n*(_n*Wn-Rn*Fn+Bn*Nn+Ln*Dn),ti=Math.sqrt(zn*zn+Yn*Yn+Gn*Gn+ei*ei);return{w:zn/ti,x:Yn/ti,y:Gn/ti,z:ei/ti}}function calculateNormal(Pn){const{w:Cn,x:$n,y:_n,z:Rn}=Pn;var Bn=[2*$n*Rn+2*Cn*_n,2*_n*Rn-2*Cn*$n,1-2*$n*$n-2*_n*_n];return Bn[2]<0&&(Bn=[-Bn[0],-Bn[1],-Bn[2]]),Bn}function blendWithLight(Pn,Cn,$n){Cn=Math.min(1,Math.max(0,Cn));let _n=parseInt(Pn.substring(1,3),16),Rn=parseInt(Pn.substring(3,5),16),Bn=parseInt(Pn.substring(5,7),16);return $n?(_n=Math.round(_n*(1-Cn)),Rn=Math.round(Rn*(1-Cn)),Bn=Math.round(Bn*(1-Cn))):(_n=Math.round(_n+(255-_n)*Cn),Rn=Math.round(Rn+(255-Rn)*Cn),Bn=Math.round(Bn+(255-Bn)*Cn)),`#${(1<<24|_n<<16|Rn<<8|Bn).toString(16).slice(1).toUpperCase()}`}function fillShape(Pn,Cn){if(Pn.shapeOptions.type=="ellipse")Cn.beginPath(),Cn.ellipse(0,0,Pn.shapeOptions.width/2,Pn.shapeOptions.height/2,0,0,2*Math.PI),Cn.fill();else if(Pn.shapeOptions.type=="image"){const $n=Pn.offscreenCanvas.getContext("2d",{willReadFrequently:!0}),_n=$n.getImageData(0,0,Pn.shapeOptions.width,Pn.shapeOptions.height);Pn.shapeOptions.image.composition!=="none"&&($n.fillStyle=Cn.fillStyle,$n.globalCompositeOperation=Pn.shapeOptions.image.composition,$n.fillRect(0,0,Pn.shapeOptions.width,Pn.shapeOptions.height)),Cn.drawImage(Pn.offscreenCanvas,-Pn.shapeOptions.width/2,-Pn.shapeOptions.height/2,Pn.shapeOptions.width,Pn.shapeOptions.height),$n.putImageData(_n,0,0)}else Pn.shapeOptions.type=="rectangle"&&Cn.fillRect(-Pn.shapeOptions.width/2,-Pn.shapeOptions.height/2,Pn.shapeOptions.width,Pn.shapeOptions.height)}class ConfettiAnimator{constructor(Cn,$n){this.config=Cn,this.canvas=$n,this.ctx=null,this.queue=[],this.lastTime=void 0,this.destroyDistance=0,this.lightDir=[0,0,0],this.canvasWidth=0,this.canvasHeight=0,this.isPlaying=!1}setup(){this.ctx=this.canvas.getContext("2d"),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height;const Cn=Math.sqrt(this.config.light_dir[0]*this.config.light_dir[0]+this.config.light_dir[1]*this.config.light_dir[1]+this.config.light_dir[2]*this.config.light_dir[2]);this.lightDir=[this.config.light_dir[0]/Cn,this.config.light_dir[1]/Cn,this.config.light_dir[2]/Cn]}addConfettiToQueue(Cn){this.destroyDistance=this.config.destroyDistance;for(const $n of Cn)this.queue.push($n)}animateConfettiQueue(){this.ctx||this.setup(),this.ctx.reset();const Cn=performance.now();this.lastTime===void 0&&(this.lastTime=Cn);const $n=(Cn-this.lastTime)/1e3;this.lastTime=Cn,this.queue=this.queue.filter(_n=>(animateConfetti(_n,$n,this.ctx,this.lightDir),!(_n.position.y>this.canvasHeight+this.destroyDistance||_n.lifetime.current>_n.lifetime.duration&&_n.lifetime.enabled))),this.queue.length?requestAnimationFrame(this.animateConfettiQueue.bind(this)):(this.isPlaying=!1,this.lastTime=void 0,console.log("Animation complete."))}startAnimation(){this.queue.length&&(this.isPlaying=!0,requestAnimationFrame(this.animateConfettiQueue.bind(this)))}}class ConfettiLauncher{constructor(Cn,$n,_n){this.launcher=Cn,this.confList=[],this.canvas=_n,this.animator=void 0,this.time=0,this.confList=$n.map(Rn=>this.initConf(Rn)),this.confList.forEach(Rn=>{this.defineImage(Rn)}),this.initConfig(),this.initLauncher()}initConfig(){const Cn={destroyDistance:200,light_dir:[-2,-10,-.5]};this.config=Object.assign(Cn,this.config)}initLauncher(){const Cn={position:{x:0,y:0},direction:{start:0,end:2},shootRepetition:{duration:0,delay:0},amount:[10,10],strength:[100,100],colors:[],destroyDistance:300,light_dir:[-1,-1,-.5]};this.launcher=Object.assign(Cn,this.launcher)}initConf(Cn){return Object.assign({position:{x:1,y:1},velocity:{x:0,y:0,maxFallspeed:500,gravity:250,airdrag:20},quaternion:{w:1,x:0,y:0,z:0},quaternionVelocity:{w:0,x:3,y:3,z:0},color:"#3b96ff",randomColor:!1,shading:!1,shapeOptions:{type:"ellipse",width:10,height:6,shininess:2,shadows:.5},lifetime:{enabled:!1,onset:0,duration:0,current:0},velocity:{x:0,y:0,maxFallspeed:500,gravity:250,airdrag:20},alpha:1,randomRotation:!1},Cn)}defineImage(Cn){Cn.shapeOptions.type=="image"&&(async()=>{const $n=new Image(Cn.shapeOptions.width,Cn.shapeOptions.height);await new Promise(Bn=>{$n.onload=()=>{Bn()},$n.onerror=Ln=>{console.error("Failed to load image:",Ln),reject(Ln)},$n.src=Cn.shapeOptions.image.src});const _n=document.createElement("canvas");_n.width=Cn.shapeOptions.width,_n.height=Cn.shapeOptions.height,_n.getContext("2d").drawImage($n,0,0,Cn.shapeOptions.width,Cn.shapeOptions.height),Cn.offscreenCanvas=_n})()}shoot(){this.animator||(this.animator=new ConfettiAnimator({light_dir:this.launcher.light_dir,destroyDistance:this.launcher.destroyDistance},this.canvas));const Cn=Math.random()*(this.launcher.amount[1]-this.launcher.amount[0])+this.launcher.amount[0],$n=[];for(let _n=0;_n<Cn;_n++){const Rn=Math.floor(Math.random()*this.confList.length);$n[_n]=this.modifyConfetti(this.confList[Rn])}this.animator.addConfettiToQueue($n),this.animator.isPlaying||this.animator.startAnimation(),this.launcher.shootRepetition.delay&&this.time<=this.launcher.shootRepetition.duration?(this.time+=this.launcher.shootRepetition.delay,setTimeout(()=>{this.shoot()},this.launcher.shootRepetition.delay)):this.time=0}modifyConfetti(Cn){const $n=JSON.parse(JSON.stringify({...Cn}));$n.shapeOptions.type=="image"&&($n.offscreenCanvas=Cn.offscreenCanvas),$n.position={...this.launcher.position};const _n=Math.random()*(this.launcher.direction.end*Math.PI-this.launcher.direction.start*Math.PI)+this.launcher.direction.start*Math.PI,Rn=Math.random()*(this.launcher.strength[1]-this.launcher.strength[0])+this.launcher.strength[0],Bn=[-Math.cos(_n)*Rn,-Math.sin(_n)*Rn];if($n.velocity.x=Bn[0],$n.velocity.y=Bn[1],Cn.randomRotation){const Ln=Math.random()*2-1,Dn=Math.random()*2-1,Nn=Math.random()*2-1,Fn=1-Ln-Dn-Nn;$n.quaternion={w:Fn,x:Ln,y:Dn,z:Nn}}if($n.randomColor&&this.launcher.colors){const Ln=Math.floor(Math.random()*this.launcher.colors.length);$n.color=this.launcher.colors[Ln]}return $n}setPosition(Cn,$n){this.launcher.position.x=Cn,this.launcher.position.y=$n}}let launcher={};const _sfc_main$4={name:"ConfettiPreview",data(){return{size:50,skipRerender:!1}},props:{confetti:{},colors:{}},mounted(){this.updatePreview()},updated(){this.skipRerender?this.skipRerender=!1:this.updatePreview()},methods:{updatePreview(){const Pn=this.confetti;launcher={position:{x:40,y:40},strength:[0,0],colors:this.colors,amount:[1,1]},Pn.velocity={x:0,y:0,gravity:0,airdrag:0,maxFallspeed:0};const Cn=Math.sqrt(Math.pow(Pn.shapeOptions.width,2)+Math.pow(Pn.shapeOptions.height,2));Pn.shapeOptions.width/=Cn,Pn.shapeOptions.height/=Cn,Pn.shapeOptions.width*=this.size,Pn.shapeOptions.height*=this.size,Pn.lifetime={enabled:!1};const $n=this.$refs.confettiPreview;$n.getContext("2d").reset(),new ConfettiLauncher(launcher,[Pn],$n).shoot()}}},_hoisted_1$3={class:"confetti-preview"},_hoisted_2$3={id:"canvas-confetti-preview",width:"80",height:"80",ref:"confettiPreview"};function _sfc_render$3(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("canvas",_hoisted_2$3,null,512)])}const ConfettiPreview=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-a332bc19"]]);var lodash$1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,function(Pn,Cn){(function(){var $n,_n="4.17.21",Rn=200,Bn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Ln="Expected a function",Dn="Invalid `variable` option passed into `_.template`",Nn="__lodash_hash_undefined__",Fn=500,Wn="__lodash_placeholder__",zn=1,Yn=2,Gn=4,ei=1,ti=2,ii=1,oi=2,ai=4,fi=8,ui=16,di=32,yi=64,mi=128,ki=256,_i=512,Pi=30,Oi="...",wi=800,Li=16,Xi=1,qi=2,Gi=3,ji=1/0,Ji=9007199254740991,ns=17976931348623157e292,Zo=NaN,Ui=4294967295,ls=Ui-1,Bi=Ui>>>1,Fi=[["ary",mi],["bind",ii],["bindKey",oi],["curry",fi],["curryRight",ui],["flip",_i],["partial",di],["partialRight",yi],["rearg",ki]],Hi="[object Arguments]",as="[object Array]",vs="[object AsyncFunction]",_s="[object Boolean]",Ks="[object Date]",pa="[object DOMException]",ga="[object Error]",ci="[object Function]",pi="[object GeneratorFunction]",Si="[object Map]",Mi="[object Number]",Qi="[object Null]",Ai="[object Object]",Di="[object Promise]",Vi="[object Proxy]",Ei="[object RegExp]",Ti="[object Set]",zi="[object String]",Ii="[object Symbol]",Yi="[object Undefined]",Ki="[object WeakMap]",rs="[object WeakSet]",fs="[object ArrayBuffer]",os="[object DataView]",As="[object Float32Array]",Ps="[object Float64Array]",Is="[object Int8Array]",Ns="[object Int16Array]",ma="[object Int32Array]",Wa="[object Uint8Array]",Qs="[object Uint8ClampedArray]",Zs="[object Uint16Array]",ja="[object Uint32Array]",ed=/\b__p \+= '';/g,td=/\b(__p \+=) '' \+/g,nd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wu=/&(?:amp|lt|gt|quot|#39);/g,Cu=/[&<>"']/g,rd=RegExp(wu.source),od=RegExp(Cu.source),sd=/<%-([\s\S]+?)%>/g,ad=/<%([\s\S]+?)%>/g,$u=/<%=([\s\S]+?)%>/g,ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cd=/^\w*$/,ud=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fc=/[\\^$.*+?()[\]{}|]/g,fd=RegExp(fc.source),hc=/^\s+/,hd=/\s/,dd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pd=/\{\n\/\* \[wrapped with (.+)\] \*/,gd=/,? & /,md=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Od=/[()=,{}\[\]\/\s]/,vd=/\\(\\)?/g,yd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ku=/\w*$/,bd=/^[-+]0x[0-9a-f]+$/i,Sd=/^0b[01]+$/i,xd=/^\[object .+?Constructor\]$/,wd=/^0o[0-7]+$/i,Cd=/^(?:0|[1-9]\d*)$/,$d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wl=/($^)/,kd=/['\n\r\u2028\u2029\\]/g,Cl="\\ud800-\\udfff",Pd="\\u0300-\\u036f",Td="\\ufe20-\\ufe2f",_d="\\u20d0-\\u20ff",Pu=Pd+Td+_d,Tu="\\u2700-\\u27bf",_u="a-z\\xdf-\\xf6\\xf8-\\xff",Ad="\\xac\\xb1\\xd7\\xf7",Qd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rd="\\u2000-\\u206f",Md=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Au="A-Z\\xc0-\\xd6\\xd8-\\xde",Qu="\\ufe0e\\ufe0f",Ru=Ad+Qd+Rd+Md,dc="[']",Ed="["+Cl+"]",Mu="["+Ru+"]",$l="["+Pu+"]",Eu="\\d+",Bd="["+Tu+"]",Bu="["+_u+"]",Vu="[^"+Cl+Ru+Eu+Tu+_u+Au+"]",pc="\\ud83c[\\udffb-\\udfff]",Vd="(?:"+$l+"|"+pc+")",Lu="[^"+Cl+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",mc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ha="["+Au+"]",Du="\\u200d",Iu="(?:"+Bu+"|"+Vu+")",Ld="(?:"+Ha+"|"+Vu+")",Nu="(?:"+dc+"(?:d|ll|m|re|s|t|ve))?",Zu="(?:"+dc+"(?:D|LL|M|RE|S|T|VE))?",Xu=Vd+"?",Fu="["+Qu+"]?",Dd="(?:"+Du+"(?:"+[Lu,gc,mc].join("|")+")"+Fu+Xu+")*",Id="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qu=Fu+Xu+Dd,Zd="(?:"+[Bd,gc,mc].join("|")+")"+qu,Xd="(?:"+[Lu+$l+"?",$l,gc,mc,Ed].join("|")+")",Fd=RegExp(dc,"g"),qd=RegExp($l,"g"),Oc=RegExp(pc+"(?="+pc+")|"+Xd+qu,"g"),Wd=RegExp([Ha+"?"+Bu+"+"+Nu+"(?="+[Mu,Ha,"$"].join("|")+")",Ld+"+"+Zu+"(?="+[Mu,Ha+Iu,"$"].join("|")+")",Ha+"?"+Iu+"+"+Nu,Ha+"+"+Zu,Nd,Id,Eu,Zd].join("|"),"g"),jd=RegExp("["+Du+Cl+Pu+Qu+"]"),Hd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yd=-1,ys={};ys[As]=ys[Ps]=ys[Is]=ys[Ns]=ys[ma]=ys[Wa]=ys[Qs]=ys[Zs]=ys[ja]=!0,ys[Hi]=ys[as]=ys[fs]=ys[_s]=ys[os]=ys[Ks]=ys[ga]=ys[ci]=ys[Si]=ys[Mi]=ys[Ai]=ys[Ei]=ys[Ti]=ys[zi]=ys[Ki]=!1;var Os={};Os[Hi]=Os[as]=Os[fs]=Os[os]=Os[_s]=Os[Ks]=Os[As]=Os[Ps]=Os[Is]=Os[Ns]=Os[ma]=Os[Si]=Os[Mi]=Os[Ai]=Os[Ei]=Os[Ti]=Os[zi]=Os[Ii]=Os[Wa]=Os[Qs]=Os[Zs]=Os[ja]=!0,Os[ga]=Os[ci]=Os[Ki]=!1;var Gd={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ud={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ep=parseFloat,tp=parseInt,Wu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,np=typeof self=="object"&&self&&self.Object===Object&&self,Rs=Wu||np||Function("return this")(),vc=Cn&&!Cn.nodeType&&Cn,Va=vc&&!0&&Pn&&!Pn.nodeType&&Pn,ju=Va&&Va.exports===vc,yc=ju&&Wu.process,Js=function(){try{var gi=Va&&Va.require&&Va.require("util").types;return gi||yc&&yc.binding&&yc.binding("util")}catch{}}(),Hu=Js&&Js.isArrayBuffer,zu=Js&&Js.isDate,Yu=Js&&Js.isMap,Gu=Js&&Js.isRegExp,Uu=Js&&Js.isSet,Ku=Js&&Js.isTypedArray;function js(gi,xi,bi){switch(bi.length){case 0:return gi.call(xi);case 1:return gi.call(xi,bi[0]);case 2:return gi.call(xi,bi[0],bi[1]);case 3:return gi.call(xi,bi[0],bi[1],bi[2])}return gi.apply(xi,bi)}function ip(gi,xi,bi,Zi){for(var Jo=-1,ds=gi==null?0:gi.length;++Jo<ds;){var $s=gi[Jo];xi(Zi,$s,bi($s),gi)}return Zi}function ea(gi,xi){for(var bi=-1,Zi=gi==null?0:gi.length;++bi<Zi&&xi(gi[bi],bi,gi)!==!1;);return gi}function rp(gi,xi){for(var bi=gi==null?0:gi.length;bi--&&xi(gi[bi],bi,gi)!==!1;);return gi}function Ju(gi,xi){for(var bi=-1,Zi=gi==null?0:gi.length;++bi<Zi;)if(!xi(gi[bi],bi,gi))return!1;return!0}function ka(gi,xi){for(var bi=-1,Zi=gi==null?0:gi.length,Jo=0,ds=[];++bi<Zi;){var $s=gi[bi];xi($s,bi,gi)&&(ds[Jo++]=$s)}return ds}function kl(gi,xi){var bi=gi==null?0:gi.length;return!!bi&&za(gi,xi,0)>-1}function bc(gi,xi,bi){for(var Zi=-1,Jo=gi==null?0:gi.length;++Zi<Jo;)if(bi(xi,gi[Zi]))return!0;return!1}function bs(gi,xi){for(var bi=-1,Zi=gi==null?0:gi.length,Jo=Array(Zi);++bi<Zi;)Jo[bi]=xi(gi[bi],bi,gi);return Jo}function Pa(gi,xi){for(var bi=-1,Zi=xi.length,Jo=gi.length;++bi<Zi;)gi[Jo+bi]=xi[bi];return gi}function Sc(gi,xi,bi,Zi){var Jo=-1,ds=gi==null?0:gi.length;for(Zi&&ds&&(bi=gi[++Jo]);++Jo<ds;)bi=xi(bi,gi[Jo],Jo,gi);return bi}function op(gi,xi,bi,Zi){var Jo=gi==null?0:gi.length;for(Zi&&Jo&&(bi=gi[--Jo]);Jo--;)bi=xi(bi,gi[Jo],Jo,gi);return bi}function xc(gi,xi){for(var bi=-1,Zi=gi==null?0:gi.length;++bi<Zi;)if(xi(gi[bi],bi,gi))return!0;return!1}var sp=wc("length");function ap(gi){return gi.split("")}function lp(gi){return gi.match(md)||[]}function ef(gi,xi,bi){var Zi;return bi(gi,function(Jo,ds,$s){if(xi(Jo,ds,$s))return Zi=ds,!1}),Zi}function Pl(gi,xi,bi,Zi){for(var Jo=gi.length,ds=bi+(Zi?1:-1);Zi?ds--:++ds<Jo;)if(xi(gi[ds],ds,gi))return ds;return-1}function za(gi,xi,bi){return xi===xi?bp(gi,xi,bi):Pl(gi,tf,bi)}function cp(gi,xi,bi,Zi){for(var Jo=bi-1,ds=gi.length;++Jo<ds;)if(Zi(gi[Jo],xi))return Jo;return-1}function tf(gi){return gi!==gi}function nf(gi,xi){var bi=gi==null?0:gi.length;return bi?$c(gi,xi)/bi:Zo}function wc(gi){return function(xi){return xi==null?$n:xi[gi]}}function Cc(gi){return function(xi){return gi==null?$n:gi[xi]}}function rf(gi,xi,bi,Zi,Jo){return Jo(gi,function(ds,$s,ms){bi=Zi?(Zi=!1,ds):xi(bi,ds,$s,ms)}),bi}function up(gi,xi){var bi=gi.length;for(gi.sort(xi);bi--;)gi[bi]=gi[bi].value;return gi}function $c(gi,xi){for(var bi,Zi=-1,Jo=gi.length;++Zi<Jo;){var ds=xi(gi[Zi]);ds!==$n&&(bi=bi===$n?ds:bi+ds)}return bi}function kc(gi,xi){for(var bi=-1,Zi=Array(gi);++bi<gi;)Zi[bi]=xi(bi);return Zi}function fp(gi,xi){return bs(xi,function(bi){return[bi,gi[bi]]})}function of(gi){return gi&&gi.slice(0,cf(gi)+1).replace(hc,"")}function Hs(gi){return function(xi){return gi(xi)}}function Pc(gi,xi){return bs(xi,function(bi){return gi[bi]})}function ll(gi,xi){return gi.has(xi)}function sf(gi,xi){for(var bi=-1,Zi=gi.length;++bi<Zi&&za(xi,gi[bi],0)>-1;);return bi}function af(gi,xi){for(var bi=gi.length;bi--&&za(xi,gi[bi],0)>-1;);return bi}function hp(gi,xi){for(var bi=gi.length,Zi=0;bi--;)gi[bi]===xi&&++Zi;return Zi}var dp=Cc(Gd),pp=Cc(Ud);function gp(gi){return"\\"+Jd[gi]}function mp(gi,xi){return gi==null?$n:gi[xi]}function Ya(gi){return jd.test(gi)}function Op(gi){return Hd.test(gi)}function vp(gi){for(var xi,bi=[];!(xi=gi.next()).done;)bi.push(xi.value);return bi}function Tc(gi){var xi=-1,bi=Array(gi.size);return gi.forEach(function(Zi,Jo){bi[++xi]=[Jo,Zi]}),bi}function lf(gi,xi){return function(bi){return gi(xi(bi))}}function Ta(gi,xi){for(var bi=-1,Zi=gi.length,Jo=0,ds=[];++bi<Zi;){var $s=gi[bi];($s===xi||$s===Wn)&&(gi[bi]=Wn,ds[Jo++]=bi)}return ds}function Tl(gi){var xi=-1,bi=Array(gi.size);return gi.forEach(function(Zi){bi[++xi]=Zi}),bi}function yp(gi){var xi=-1,bi=Array(gi.size);return gi.forEach(function(Zi){bi[++xi]=[Zi,Zi]}),bi}function bp(gi,xi,bi){for(var Zi=bi-1,Jo=gi.length;++Zi<Jo;)if(gi[Zi]===xi)return Zi;return-1}function Sp(gi,xi,bi){for(var Zi=bi+1;Zi--;)if(gi[Zi]===xi)return Zi;return Zi}function Ga(gi){return Ya(gi)?wp(gi):sp(gi)}function aa(gi){return Ya(gi)?Cp(gi):ap(gi)}function cf(gi){for(var xi=gi.length;xi--&&hd.test(gi.charAt(xi)););return xi}var xp=Cc(Kd);function wp(gi){for(var xi=Oc.lastIndex=0;Oc.test(gi);)++xi;return xi}function Cp(gi){return gi.match(Oc)||[]}function $p(gi){return gi.match(Wd)||[]}var kp=function gi(xi){xi=xi==null?Rs:Ua.defaults(Rs.Object(),xi,Ua.pick(Rs,zd));var bi=xi.Array,Zi=xi.Date,Jo=xi.Error,ds=xi.Function,$s=xi.Math,ms=xi.Object,_c=xi.RegExp,Pp=xi.String,ta=xi.TypeError,_l=bi.prototype,Tp=ds.prototype,Ka=ms.prototype,Al=xi["__core-js_shared__"],Ql=Tp.toString,gs=Ka.hasOwnProperty,_p=0,uf=function(){var In=/[^.]+$/.exec(Al&&Al.keys&&Al.keys.IE_PROTO||"");return In?"Symbol(src)_1."+In:""}(),Rl=Ka.toString,Ap=Ql.call(ms),Qp=Rs._,Rp=_c("^"+Ql.call(gs).replace(fc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ml=ju?xi.Buffer:$n,Aa=xi.Symbol,El=xi.Uint8Array,ff=Ml?Ml.allocUnsafe:$n,Bl=lf(ms.getPrototypeOf,ms),hf=ms.create,df=Ka.propertyIsEnumerable,Vl=_l.splice,pf=Aa?Aa.isConcatSpreadable:$n,cl=Aa?Aa.iterator:$n,La=Aa?Aa.toStringTag:$n,Ll=function(){try{var In=Xa(ms,"defineProperty");return In({},"",{}),In}catch{}}(),Mp=xi.clearTimeout!==Rs.clearTimeout&&xi.clearTimeout,Ep=Zi&&Zi.now!==Rs.Date.now&&Zi.now,Bp=xi.setTimeout!==Rs.setTimeout&&xi.setTimeout,Dl=$s.ceil,Il=$s.floor,Ac=ms.getOwnPropertySymbols,Vp=Ml?Ml.isBuffer:$n,gf=xi.isFinite,Lp=_l.join,Dp=lf(ms.keys,ms),ks=$s.max,Es=$s.min,Ip=Zi.now,Np=xi.parseInt,mf=$s.random,Zp=_l.reverse,Qc=Xa(xi,"DataView"),ul=Xa(xi,"Map"),Rc=Xa(xi,"Promise"),Ja=Xa(xi,"Set"),fl=Xa(xi,"WeakMap"),hl=Xa(ms,"create"),Nl=fl&&new fl,tl={},Xp=Fa(Qc),Fp=Fa(ul),qp=Fa(Rc),Wp=Fa(Ja),jp=Fa(fl),Zl=Aa?Aa.prototype:$n,dl=Zl?Zl.valueOf:$n,Of=Zl?Zl.toString:$n;function ri(In){if(xs(In)&&!es(In)&&!(In instanceof us)){if(In instanceof na)return In;if(gs.call(In,"__wrapped__"))return vh(In)}return new na(In)}var nl=function(){function In(){}return function(Xn){if(!Ss(Xn))return{};if(hf)return hf(Xn);In.prototype=Xn;var Hn=new In;return In.prototype=$n,Hn}}();function Xl(){}function na(In,Xn){this.__wrapped__=In,this.__actions__=[],this.__chain__=!!Xn,this.__index__=0,this.__values__=$n}ri.templateSettings={escape:sd,evaluate:ad,interpolate:$u,variable:"",imports:{_:ri}},ri.prototype=Xl.prototype,ri.prototype.constructor=ri,na.prototype=nl(Xl.prototype),na.prototype.constructor=na;function us(In){this.__wrapped__=In,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ui,this.__views__=[]}function Hp(){var In=new us(this.__wrapped__);return In.__actions__=Xs(this.__actions__),In.__dir__=this.__dir__,In.__filtered__=this.__filtered__,In.__iteratees__=Xs(this.__iteratees__),In.__takeCount__=this.__takeCount__,In.__views__=Xs(this.__views__),In}function zp(){if(this.__filtered__){var In=new us(this);In.__dir__=-1,In.__filtered__=!0}else In=this.clone(),In.__dir__*=-1;return In}function Yp(){var In=this.__wrapped__.value(),Xn=this.__dir__,Hn=es(In),Un=Xn<0,ni=Hn?In.length:0,si=lm(0,ni,this.__views__),li=si.start,hi=si.end,vi=hi-li,Ci=Un?hi:li-1,$i=this.__iteratees__,Ri=$i.length,Ni=0,Wi=Es(vi,this.__takeCount__);if(!Hn||!Un&&ni==vi&&Wi==vi)return Zf(In,this.__actions__);var rr=[];e:for(;vi--&&Ni<Wi;){Ci+=Xn;for(var is=-1,Qo=In[Ci];++is<Ri;){var cs=$i[is],hs=cs.iteratee,Gs=cs.type,Ds=hs(Qo);if(Gs==qi)Qo=Ds;else if(!Ds){if(Gs==Xi)continue e;break e}}rr[Ni++]=Qo}return rr}us.prototype=nl(Xl.prototype),us.prototype.constructor=us;function Da(In){var Xn=-1,Hn=In==null?0:In.length;for(this.clear();++Xn<Hn;){var Un=In[Xn];this.set(Un[0],Un[1])}}function Gp(){this.__data__=hl?hl(null):{},this.size=0}function Up(In){var Xn=this.has(In)&&delete this.__data__[In];return this.size-=Xn?1:0,Xn}function Kp(In){var Xn=this.__data__;if(hl){var Hn=Xn[In];return Hn===Nn?$n:Hn}return gs.call(Xn,In)?Xn[In]:$n}function Jp(In){var Xn=this.__data__;return hl?Xn[In]!==$n:gs.call(Xn,In)}function eg(In,Xn){var Hn=this.__data__;return this.size+=this.has(In)?0:1,Hn[In]=hl&&Xn===$n?Nn:Xn,this}Da.prototype.clear=Gp,Da.prototype.delete=Up,Da.prototype.get=Kp,Da.prototype.has=Jp,Da.prototype.set=eg;function Oa(In){var Xn=-1,Hn=In==null?0:In.length;for(this.clear();++Xn<Hn;){var Un=In[Xn];this.set(Un[0],Un[1])}}function tg(){this.__data__=[],this.size=0}function ng(In){var Xn=this.__data__,Hn=Fl(Xn,In);if(Hn<0)return!1;var Un=Xn.length-1;return Hn==Un?Xn.pop():Vl.call(Xn,Hn,1),--this.size,!0}function ig(In){var Xn=this.__data__,Hn=Fl(Xn,In);return Hn<0?$n:Xn[Hn][1]}function rg(In){return Fl(this.__data__,In)>-1}function og(In,Xn){var Hn=this.__data__,Un=Fl(Hn,In);return Un<0?(++this.size,Hn.push([In,Xn])):Hn[Un][1]=Xn,this}Oa.prototype.clear=tg,Oa.prototype.delete=ng,Oa.prototype.get=ig,Oa.prototype.has=rg,Oa.prototype.set=og;function va(In){var Xn=-1,Hn=In==null?0:In.length;for(this.clear();++Xn<Hn;){var Un=In[Xn];this.set(Un[0],Un[1])}}function sg(){this.size=0,this.__data__={hash:new Da,map:new(ul||Oa),string:new Da}}function ag(In){var Xn=tc(this,In).delete(In);return this.size-=Xn?1:0,Xn}function lg(In){return tc(this,In).get(In)}function cg(In){return tc(this,In).has(In)}function ug(In,Xn){var Hn=tc(this,In),Un=Hn.size;return Hn.set(In,Xn),this.size+=Hn.size==Un?0:1,this}va.prototype.clear=sg,va.prototype.delete=ag,va.prototype.get=lg,va.prototype.has=cg,va.prototype.set=ug;function Ia(In){var Xn=-1,Hn=In==null?0:In.length;for(this.__data__=new va;++Xn<Hn;)this.add(In[Xn])}function fg(In){return this.__data__.set(In,Nn),this}function hg(In){return this.__data__.has(In)}Ia.prototype.add=Ia.prototype.push=fg,Ia.prototype.has=hg;function la(In){var Xn=this.__data__=new Oa(In);this.size=Xn.size}function dg(){this.__data__=new Oa,this.size=0}function pg(In){var Xn=this.__data__,Hn=Xn.delete(In);return this.size=Xn.size,Hn}function gg(In){return this.__data__.get(In)}function mg(In){return this.__data__.has(In)}function Og(In,Xn){var Hn=this.__data__;if(Hn instanceof Oa){var Un=Hn.__data__;if(!ul||Un.length<Rn-1)return Un.push([In,Xn]),this.size=++Hn.size,this;Hn=this.__data__=new va(Un)}return Hn.set(In,Xn),this.size=Hn.size,this}la.prototype.clear=dg,la.prototype.delete=pg,la.prototype.get=gg,la.prototype.has=mg,la.prototype.set=Og;function vf(In,Xn){var Hn=es(In),Un=!Hn&&qa(In),ni=!Hn&&!Un&&Ba(In),si=!Hn&&!Un&&!ni&&sl(In),li=Hn||Un||ni||si,hi=li?kc(In.length,Pp):[],vi=hi.length;for(var Ci in In)(Xn||gs.call(In,Ci))&&!(li&&(Ci=="length"||ni&&(Ci=="offset"||Ci=="parent")||si&&(Ci=="buffer"||Ci=="byteLength"||Ci=="byteOffset")||xa(Ci,vi)))&&hi.push(Ci);return hi}function yf(In){var Xn=In.length;return Xn?In[Fc(0,Xn-1)]:$n}function vg(In,Xn){return nc(Xs(In),Na(Xn,0,In.length))}function yg(In){return nc(Xs(In))}function Mc(In,Xn,Hn){(Hn!==$n&&!ca(In[Xn],Hn)||Hn===$n&&!(Xn in In))&&ya(In,Xn,Hn)}function pl(In,Xn,Hn){var Un=In[Xn];(!(gs.call(In,Xn)&&ca(Un,Hn))||Hn===$n&&!(Xn in In))&&ya(In,Xn,Hn)}function Fl(In,Xn){for(var Hn=In.length;Hn--;)if(ca(In[Hn][0],Xn))return Hn;return-1}function bg(In,Xn,Hn,Un){return Qa(In,function(ni,si,li){Xn(Un,ni,Hn(ni),li)}),Un}function bf(In,Xn){return In&&ha(Xn,Ts(Xn),In)}function Sg(In,Xn){return In&&ha(Xn,qs(Xn),In)}function ya(In,Xn,Hn){Xn=="__proto__"&&Ll?Ll(In,Xn,{configurable:!0,enumerable:!0,value:Hn,writable:!0}):In[Xn]=Hn}function Ec(In,Xn){for(var Hn=-1,Un=Xn.length,ni=bi(Un),si=In==null;++Hn<Un;)ni[Hn]=si?$n:pu(In,Xn[Hn]);return ni}function Na(In,Xn,Hn){return In===In&&(Hn!==$n&&(In=In<=Hn?In:Hn),Xn!==$n&&(In=In>=Xn?In:Xn)),In}function ia(In,Xn,Hn,Un,ni,si){var li,hi=Xn&zn,vi=Xn&Yn,Ci=Xn&Gn;if(Hn&&(li=ni?Hn(In,Un,ni,si):Hn(In)),li!==$n)return li;if(!Ss(In))return In;var $i=es(In);if($i){if(li=um(In),!hi)return Xs(In,li)}else{var Ri=Bs(In),Ni=Ri==ci||Ri==pi;if(Ba(In))return qf(In,hi);if(Ri==Ai||Ri==Hi||Ni&&!ni){if(li=vi||Ni?{}:ch(In),!hi)return vi?Kg(In,Sg(li,In)):Ug(In,bf(li,In))}else{if(!Os[Ri])return ni?In:{};li=fm(In,Ri,hi)}}si||(si=new la);var Wi=si.get(In);if(Wi)return Wi;si.set(In,li),Dh(In)?In.forEach(function(Qo){li.add(ia(Qo,Xn,Hn,Qo,In,si))}):Vh(In)&&In.forEach(function(Qo,cs){li.set(cs,ia(Qo,Xn,Hn,cs,In,si))});var rr=Ci?vi?eu:Jc:vi?qs:Ts,is=$i?$n:rr(In);return ea(is||In,function(Qo,cs){is&&(cs=Qo,Qo=In[cs]),pl(li,cs,ia(Qo,Xn,Hn,cs,In,si))}),li}function xg(In){var Xn=Ts(In);return function(Hn){return Sf(Hn,In,Xn)}}function Sf(In,Xn,Hn){var Un=Hn.length;if(In==null)return!Un;for(In=ms(In);Un--;){var ni=Hn[Un],si=Xn[ni],li=In[ni];if(li===$n&&!(ni in In)||!si(li))return!1}return!0}function xf(In,Xn,Hn){if(typeof In!="function")throw new ta(Ln);return Sl(function(){In.apply($n,Hn)},Xn)}function gl(In,Xn,Hn,Un){var ni=-1,si=kl,li=!0,hi=In.length,vi=[],Ci=Xn.length;if(!hi)return vi;Hn&&(Xn=bs(Xn,Hs(Hn))),Un?(si=bc,li=!1):Xn.length>=Rn&&(si=ll,li=!1,Xn=new Ia(Xn));e:for(;++ni<hi;){var $i=In[ni],Ri=Hn==null?$i:Hn($i);if($i=Un||$i!==0?$i:0,li&&Ri===Ri){for(var Ni=Ci;Ni--;)if(Xn[Ni]===Ri)continue e;vi.push($i)}else si(Xn,Ri,Un)||vi.push($i)}return vi}var Qa=Yf(fa),wf=Yf(Vc,!0);function wg(In,Xn){var Hn=!0;return Qa(In,function(Un,ni,si){return Hn=!!Xn(Un,ni,si),Hn}),Hn}function ql(In,Xn,Hn){for(var Un=-1,ni=In.length;++Un<ni;){var si=In[Un],li=Xn(si);if(li!=null&&(hi===$n?li===li&&!Ys(li):Hn(li,hi)))var hi=li,vi=si}return vi}function Cg(In,Xn,Hn,Un){var ni=In.length;for(Hn=ts(Hn),Hn<0&&(Hn=-Hn>ni?0:ni+Hn),Un=Un===$n||Un>ni?ni:ts(Un),Un<0&&(Un+=ni),Un=Hn>Un?0:Nh(Un);Hn<Un;)In[Hn++]=Xn;return In}function Cf(In,Xn){var Hn=[];return Qa(In,function(Un,ni,si){Xn(Un,ni,si)&&Hn.push(Un)}),Hn}function Ms(In,Xn,Hn,Un,ni){var si=-1,li=In.length;for(Hn||(Hn=dm),ni||(ni=[]);++si<li;){var hi=In[si];Xn>0&&Hn(hi)?Xn>1?Ms(hi,Xn-1,Hn,Un,ni):Pa(ni,hi):Un||(ni[ni.length]=hi)}return ni}var Bc=Gf(),$f=Gf(!0);function fa(In,Xn){return In&&Bc(In,Xn,Ts)}function Vc(In,Xn){return In&&$f(In,Xn,Ts)}function Wl(In,Xn){return ka(Xn,function(Hn){return wa(In[Hn])})}function Za(In,Xn){Xn=Ma(Xn,In);for(var Hn=0,Un=Xn.length;In!=null&&Hn<Un;)In=In[da(Xn[Hn++])];return Hn&&Hn==Un?In:$n}function kf(In,Xn,Hn){var Un=Xn(In);return es(In)?Un:Pa(Un,Hn(In))}function Vs(In){return In==null?In===$n?Yi:Qi:La&&La in ms(In)?am(In):bm(In)}function Lc(In,Xn){return In>Xn}function $g(In,Xn){return In!=null&&gs.call(In,Xn)}function kg(In,Xn){return In!=null&&Xn in ms(In)}function Pg(In,Xn,Hn){return In>=Es(Xn,Hn)&&In<ks(Xn,Hn)}function Dc(In,Xn,Hn){for(var Un=Hn?bc:kl,ni=In[0].length,si=In.length,li=si,hi=bi(si),vi=1/0,Ci=[];li--;){var $i=In[li];li&&Xn&&($i=bs($i,Hs(Xn))),vi=Es($i.length,vi),hi[li]=!Hn&&(Xn||ni>=120&&$i.length>=120)?new Ia(li&&$i):$n}$i=In[0];var Ri=-1,Ni=hi[0];e:for(;++Ri<ni&&Ci.length<vi;){var Wi=$i[Ri],rr=Xn?Xn(Wi):Wi;if(Wi=Hn||Wi!==0?Wi:0,!(Ni?ll(Ni,rr):Un(Ci,rr,Hn))){for(li=si;--li;){var is=hi[li];if(!(is?ll(is,rr):Un(In[li],rr,Hn)))continue e}Ni&&Ni.push(rr),Ci.push(Wi)}}return Ci}function Tg(In,Xn,Hn,Un){return fa(In,function(ni,si,li){Xn(Un,Hn(ni),si,li)}),Un}function ml(In,Xn,Hn){Xn=Ma(Xn,In),In=dh(In,Xn);var Un=In==null?In:In[da(oa(Xn))];return Un==null?$n:js(Un,In,Hn)}function Pf(In){return xs(In)&&Vs(In)==Hi}function _g(In){return xs(In)&&Vs(In)==fs}function Ag(In){return xs(In)&&Vs(In)==Ks}function Ol(In,Xn,Hn,Un,ni){return In===Xn?!0:In==null||Xn==null||!xs(In)&&!xs(Xn)?In!==In&&Xn!==Xn:Qg(In,Xn,Hn,Un,Ol,ni)}function Qg(In,Xn,Hn,Un,ni,si){var li=es(In),hi=es(Xn),vi=li?as:Bs(In),Ci=hi?as:Bs(Xn);vi=vi==Hi?Ai:vi,Ci=Ci==Hi?Ai:Ci;var $i=vi==Ai,Ri=Ci==Ai,Ni=vi==Ci;if(Ni&&Ba(In)){if(!Ba(Xn))return!1;li=!0,$i=!1}if(Ni&&!$i)return si||(si=new la),li||sl(In)?sh(In,Xn,Hn,Un,ni,si):om(In,Xn,vi,Hn,Un,ni,si);if(!(Hn&ei)){var Wi=$i&&gs.call(In,"__wrapped__"),rr=Ri&&gs.call(Xn,"__wrapped__");if(Wi||rr){var is=Wi?In.value():In,Qo=rr?Xn.value():Xn;return si||(si=new la),ni(is,Qo,Hn,Un,si)}}return Ni?(si||(si=new la),sm(In,Xn,Hn,Un,ni,si)):!1}function Rg(In){return xs(In)&&Bs(In)==Si}function Ic(In,Xn,Hn,Un){var ni=Hn.length,si=ni,li=!Un;if(In==null)return!si;for(In=ms(In);ni--;){var hi=Hn[ni];if(li&&hi[2]?hi[1]!==In[hi[0]]:!(hi[0]in In))return!1}for(;++ni<si;){hi=Hn[ni];var vi=hi[0],Ci=In[vi],$i=hi[1];if(li&&hi[2]){if(Ci===$n&&!(vi in In))return!1}else{var Ri=new la;if(Un)var Ni=Un(Ci,$i,vi,In,Xn,Ri);if(!(Ni===$n?Ol($i,Ci,ei|ti,Un,Ri):Ni))return!1}}return!0}function Tf(In){if(!Ss(In)||gm(In))return!1;var Xn=wa(In)?Rp:xd;return Xn.test(Fa(In))}function Mg(In){return xs(In)&&Vs(In)==Ei}function Eg(In){return xs(In)&&Bs(In)==Ti}function Bg(In){return xs(In)&&lc(In.length)&&!!ys[Vs(In)]}function _f(In){return typeof In=="function"?In:In==null?Ws:typeof In=="object"?es(In)?Rf(In[0],In[1]):Qf(In):Uh(In)}function Nc(In){if(!bl(In))return Dp(In);var Xn=[];for(var Hn in ms(In))gs.call(In,Hn)&&Hn!="constructor"&&Xn.push(Hn);return Xn}function Vg(In){if(!Ss(In))return ym(In);var Xn=bl(In),Hn=[];for(var Un in In)Un=="constructor"&&(Xn||!gs.call(In,Un))||Hn.push(Un);return Hn}function Zc(In,Xn){return In<Xn}function Af(In,Xn){var Hn=-1,Un=Fs(In)?bi(In.length):[];return Qa(In,function(ni,si,li){Un[++Hn]=Xn(ni,si,li)}),Un}function Qf(In){var Xn=nu(In);return Xn.length==1&&Xn[0][2]?fh(Xn[0][0],Xn[0][1]):function(Hn){return Hn===In||Ic(Hn,In,Xn)}}function Rf(In,Xn){return ru(In)&&uh(Xn)?fh(da(In),Xn):function(Hn){var Un=pu(Hn,In);return Un===$n&&Un===Xn?gu(Hn,In):Ol(Xn,Un,ei|ti)}}function jl(In,Xn,Hn,Un,ni){In!==Xn&&Bc(Xn,function(si,li){if(ni||(ni=new la),Ss(si))Lg(In,Xn,li,Hn,jl,Un,ni);else{var hi=Un?Un(su(In,li),si,li+"",In,Xn,ni):$n;hi===$n&&(hi=si),Mc(In,li,hi)}},qs)}function Lg(In,Xn,Hn,Un,ni,si,li){var hi=su(In,Hn),vi=su(Xn,Hn),Ci=li.get(vi);if(Ci){Mc(In,Hn,Ci);return}var $i=si?si(hi,vi,Hn+"",In,Xn,li):$n,Ri=$i===$n;if(Ri){var Ni=es(vi),Wi=!Ni&&Ba(vi),rr=!Ni&&!Wi&&sl(vi);$i=vi,Ni||Wi||rr?es(hi)?$i=hi:ws(hi)?$i=Xs(hi):Wi?(Ri=!1,$i=qf(vi,!0)):rr?(Ri=!1,$i=Wf(vi,!0)):$i=[]:xl(vi)||qa(vi)?($i=hi,qa(hi)?$i=Zh(hi):(!Ss(hi)||wa(hi))&&($i=ch(vi))):Ri=!1}Ri&&(li.set(vi,$i),ni($i,vi,Un,si,li),li.delete(vi)),Mc(In,Hn,$i)}function Mf(In,Xn){var Hn=In.length;if(Hn)return Xn+=Xn<0?Hn:0,xa(Xn,Hn)?In[Xn]:$n}function Ef(In,Xn,Hn){Xn.length?Xn=bs(Xn,function(si){return es(si)?function(li){return Za(li,si.length===1?si[0]:si)}:si}):Xn=[Ws];var Un=-1;Xn=bs(Xn,Hs(nr()));var ni=Af(In,function(si,li,hi){var vi=bs(Xn,function(Ci){return Ci(si)});return{criteria:vi,index:++Un,value:si}});return up(ni,function(si,li){return Gg(si,li,Hn)})}function Dg(In,Xn){return Bf(In,Xn,function(Hn,Un){return gu(In,Un)})}function Bf(In,Xn,Hn){for(var Un=-1,ni=Xn.length,si={};++Un<ni;){var li=Xn[Un],hi=Za(In,li);Hn(hi,li)&&vl(si,Ma(li,In),hi)}return si}function Ig(In){return function(Xn){return Za(Xn,In)}}function Xc(In,Xn,Hn,Un){var ni=Un?cp:za,si=-1,li=Xn.length,hi=In;for(In===Xn&&(Xn=Xs(Xn)),Hn&&(hi=bs(In,Hs(Hn)));++si<li;)for(var vi=0,Ci=Xn[si],$i=Hn?Hn(Ci):Ci;(vi=ni(hi,$i,vi,Un))>-1;)hi!==In&&Vl.call(hi,vi,1),Vl.call(In,vi,1);return In}function Vf(In,Xn){for(var Hn=In?Xn.length:0,Un=Hn-1;Hn--;){var ni=Xn[Hn];if(Hn==Un||ni!==si){var si=ni;xa(ni)?Vl.call(In,ni,1):jc(In,ni)}}return In}function Fc(In,Xn){return In+Il(mf()*(Xn-In+1))}function Ng(In,Xn,Hn,Un){for(var ni=-1,si=ks(Dl((Xn-In)/(Hn||1)),0),li=bi(si);si--;)li[Un?si:++ni]=In,In+=Hn;return li}function qc(In,Xn){var Hn="";if(!In||Xn<1||Xn>Ji)return Hn;do Xn%2&&(Hn+=In),Xn=Il(Xn/2),Xn&&(In+=In);while(Xn);return Hn}function ss(In,Xn){return au(hh(In,Xn,Ws),In+"")}function Zg(In){return yf(al(In))}function Xg(In,Xn){var Hn=al(In);return nc(Hn,Na(Xn,0,Hn.length))}function vl(In,Xn,Hn,Un){if(!Ss(In))return In;Xn=Ma(Xn,In);for(var ni=-1,si=Xn.length,li=si-1,hi=In;hi!=null&&++ni<si;){var vi=da(Xn[ni]),Ci=Hn;if(vi==="__proto__"||vi==="constructor"||vi==="prototype")return In;if(ni!=li){var $i=hi[vi];Ci=Un?Un($i,vi,hi):$n,Ci===$n&&(Ci=Ss($i)?$i:xa(Xn[ni+1])?[]:{})}pl(hi,vi,Ci),hi=hi[vi]}return In}var Lf=Nl?function(In,Xn){return Nl.set(In,Xn),In}:Ws,Fg=Ll?function(In,Xn){return Ll(In,"toString",{configurable:!0,enumerable:!1,value:Ou(Xn),writable:!0})}:Ws;function qg(In){return nc(al(In))}function ra(In,Xn,Hn){var Un=-1,ni=In.length;Xn<0&&(Xn=-Xn>ni?0:ni+Xn),Hn=Hn>ni?ni:Hn,Hn<0&&(Hn+=ni),ni=Xn>Hn?0:Hn-Xn>>>0,Xn>>>=0;for(var si=bi(ni);++Un<ni;)si[Un]=In[Un+Xn];return si}function Wg(In,Xn){var Hn;return Qa(In,function(Un,ni,si){return Hn=Xn(Un,ni,si),!Hn}),!!Hn}function Hl(In,Xn,Hn){var Un=0,ni=In==null?Un:In.length;if(typeof Xn=="number"&&Xn===Xn&&ni<=Bi){for(;Un<ni;){var si=Un+ni>>>1,li=In[si];li!==null&&!Ys(li)&&(Hn?li<=Xn:li<Xn)?Un=si+1:ni=si}return ni}return Wc(In,Xn,Ws,Hn)}function Wc(In,Xn,Hn,Un){var ni=0,si=In==null?0:In.length;if(si===0)return 0;Xn=Hn(Xn);for(var li=Xn!==Xn,hi=Xn===null,vi=Ys(Xn),Ci=Xn===$n;ni<si;){var $i=Il((ni+si)/2),Ri=Hn(In[$i]),Ni=Ri!==$n,Wi=Ri===null,rr=Ri===Ri,is=Ys(Ri);if(li)var Qo=Un||rr;else Ci?Qo=rr&&(Un||Ni):hi?Qo=rr&&Ni&&(Un||!Wi):vi?Qo=rr&&Ni&&!Wi&&(Un||!is):Wi||is?Qo=!1:Qo=Un?Ri<=Xn:Ri<Xn;Qo?ni=$i+1:si=$i}return Es(si,ls)}function Df(In,Xn){for(var Hn=-1,Un=In.length,ni=0,si=[];++Hn<Un;){var li=In[Hn],hi=Xn?Xn(li):li;if(!Hn||!ca(hi,vi)){var vi=hi;si[ni++]=li===0?0:li}}return si}function If(In){return typeof In=="number"?In:Ys(In)?Zo:+In}function zs(In){if(typeof In=="string")return In;if(es(In))return bs(In,zs)+"";if(Ys(In))return Of?Of.call(In):"";var Xn=In+"";return Xn=="0"&&1/In==-1/0?"-0":Xn}function Ra(In,Xn,Hn){var Un=-1,ni=kl,si=In.length,li=!0,hi=[],vi=hi;if(Hn)li=!1,ni=bc;else if(si>=Rn){var Ci=Xn?null:nm(In);if(Ci)return Tl(Ci);li=!1,ni=ll,vi=new Ia}else vi=Xn?[]:hi;e:for(;++Un<si;){var $i=In[Un],Ri=Xn?Xn($i):$i;if($i=Hn||$i!==0?$i:0,li&&Ri===Ri){for(var Ni=vi.length;Ni--;)if(vi[Ni]===Ri)continue e;Xn&&vi.push(Ri),hi.push($i)}else ni(vi,Ri,Hn)||(vi!==hi&&vi.push(Ri),hi.push($i))}return hi}function jc(In,Xn){return Xn=Ma(Xn,In),In=dh(In,Xn),In==null||delete In[da(oa(Xn))]}function Nf(In,Xn,Hn,Un){return vl(In,Xn,Hn(Za(In,Xn)),Un)}function zl(In,Xn,Hn,Un){for(var ni=In.length,si=Un?ni:-1;(Un?si--:++si<ni)&&Xn(In[si],si,In););return Hn?ra(In,Un?0:si,Un?si+1:ni):ra(In,Un?si+1:0,Un?ni:si)}function Zf(In,Xn){var Hn=In;return Hn instanceof us&&(Hn=Hn.value()),Sc(Xn,function(Un,ni){return ni.func.apply(ni.thisArg,Pa([Un],ni.args))},Hn)}function Hc(In,Xn,Hn){var Un=In.length;if(Un<2)return Un?Ra(In[0]):[];for(var ni=-1,si=bi(Un);++ni<Un;)for(var li=In[ni],hi=-1;++hi<Un;)hi!=ni&&(si[ni]=gl(si[ni]||li,In[hi],Xn,Hn));return Ra(Ms(si,1),Xn,Hn)}function Xf(In,Xn,Hn){for(var Un=-1,ni=In.length,si=Xn.length,li={};++Un<ni;){var hi=Un<si?Xn[Un]:$n;Hn(li,In[Un],hi)}return li}function zc(In){return ws(In)?In:[]}function Yc(In){return typeof In=="function"?In:Ws}function Ma(In,Xn){return es(In)?In:ru(In,Xn)?[In]:Oh(ps(In))}var jg=ss;function Ea(In,Xn,Hn){var Un=In.length;return Hn=Hn===$n?Un:Hn,!Xn&&Hn>=Un?In:ra(In,Xn,Hn)}var Ff=Mp||function(In){return Rs.clearTimeout(In)};function qf(In,Xn){if(Xn)return In.slice();var Hn=In.length,Un=ff?ff(Hn):new In.constructor(Hn);return In.copy(Un),Un}function Gc(In){var Xn=new In.constructor(In.byteLength);return new El(Xn).set(new El(In)),Xn}function Hg(In,Xn){var Hn=Xn?Gc(In.buffer):In.buffer;return new In.constructor(Hn,In.byteOffset,In.byteLength)}function zg(In){var Xn=new In.constructor(In.source,ku.exec(In));return Xn.lastIndex=In.lastIndex,Xn}function Yg(In){return dl?ms(dl.call(In)):{}}function Wf(In,Xn){var Hn=Xn?Gc(In.buffer):In.buffer;return new In.constructor(Hn,In.byteOffset,In.length)}function jf(In,Xn){if(In!==Xn){var Hn=In!==$n,Un=In===null,ni=In===In,si=Ys(In),li=Xn!==$n,hi=Xn===null,vi=Xn===Xn,Ci=Ys(Xn);if(!hi&&!Ci&&!si&&In>Xn||si&&li&&vi&&!hi&&!Ci||Un&&li&&vi||!Hn&&vi||!ni)return 1;if(!Un&&!si&&!Ci&&In<Xn||Ci&&Hn&&ni&&!Un&&!si||hi&&Hn&&ni||!li&&ni||!vi)return-1}return 0}function Gg(In,Xn,Hn){for(var Un=-1,ni=In.criteria,si=Xn.criteria,li=ni.length,hi=Hn.length;++Un<li;){var vi=jf(ni[Un],si[Un]);if(vi){if(Un>=hi)return vi;var Ci=Hn[Un];return vi*(Ci=="desc"?-1:1)}}return In.index-Xn.index}function Hf(In,Xn,Hn,Un){for(var ni=-1,si=In.length,li=Hn.length,hi=-1,vi=Xn.length,Ci=ks(si-li,0),$i=bi(vi+Ci),Ri=!Un;++hi<vi;)$i[hi]=Xn[hi];for(;++ni<li;)(Ri||ni<si)&&($i[Hn[ni]]=In[ni]);for(;Ci--;)$i[hi++]=In[ni++];return $i}function zf(In,Xn,Hn,Un){for(var ni=-1,si=In.length,li=-1,hi=Hn.length,vi=-1,Ci=Xn.length,$i=ks(si-hi,0),Ri=bi($i+Ci),Ni=!Un;++ni<$i;)Ri[ni]=In[ni];for(var Wi=ni;++vi<Ci;)Ri[Wi+vi]=Xn[vi];for(;++li<hi;)(Ni||ni<si)&&(Ri[Wi+Hn[li]]=In[ni++]);return Ri}function Xs(In,Xn){var Hn=-1,Un=In.length;for(Xn||(Xn=bi(Un));++Hn<Un;)Xn[Hn]=In[Hn];return Xn}function ha(In,Xn,Hn,Un){var ni=!Hn;Hn||(Hn={});for(var si=-1,li=Xn.length;++si<li;){var hi=Xn[si],vi=Un?Un(Hn[hi],In[hi],hi,Hn,In):$n;vi===$n&&(vi=In[hi]),ni?ya(Hn,hi,vi):pl(Hn,hi,vi)}return Hn}function Ug(In,Xn){return ha(In,iu(In),Xn)}function Kg(In,Xn){return ha(In,ah(In),Xn)}function Yl(In,Xn){return function(Hn,Un){var ni=es(Hn)?ip:bg,si=Xn?Xn():{};return ni(Hn,In,nr(Un,2),si)}}function il(In){return ss(function(Xn,Hn){var Un=-1,ni=Hn.length,si=ni>1?Hn[ni-1]:$n,li=ni>2?Hn[2]:$n;for(si=In.length>3&&typeof si=="function"?(ni--,si):$n,li&&Ls(Hn[0],Hn[1],li)&&(si=ni<3?$n:si,ni=1),Xn=ms(Xn);++Un<ni;){var hi=Hn[Un];hi&&In(Xn,hi,Un,si)}return Xn})}function Yf(In,Xn){return function(Hn,Un){if(Hn==null)return Hn;if(!Fs(Hn))return In(Hn,Un);for(var ni=Hn.length,si=Xn?ni:-1,li=ms(Hn);(Xn?si--:++si<ni)&&Un(li[si],si,li)!==!1;);return Hn}}function Gf(In){return function(Xn,Hn,Un){for(var ni=-1,si=ms(Xn),li=Un(Xn),hi=li.length;hi--;){var vi=li[In?hi:++ni];if(Hn(si[vi],vi,si)===!1)break}return Xn}}function Jg(In,Xn,Hn){var Un=Xn&ii,ni=yl(In);function si(){var li=this&&this!==Rs&&this instanceof si?ni:In;return li.apply(Un?Hn:this,arguments)}return si}function Uf(In){return function(Xn){Xn=ps(Xn);var Hn=Ya(Xn)?aa(Xn):$n,Un=Hn?Hn[0]:Xn.charAt(0),ni=Hn?Ea(Hn,1).join(""):Xn.slice(1);return Un[In]()+ni}}function rl(In){return function(Xn){return Sc(Yh(zh(Xn).replace(Fd,"")),In,"")}}function yl(In){return function(){var Xn=arguments;switch(Xn.length){case 0:return new In;case 1:return new In(Xn[0]);case 2:return new In(Xn[0],Xn[1]);case 3:return new In(Xn[0],Xn[1],Xn[2]);case 4:return new In(Xn[0],Xn[1],Xn[2],Xn[3]);case 5:return new In(Xn[0],Xn[1],Xn[2],Xn[3],Xn[4]);case 6:return new In(Xn[0],Xn[1],Xn[2],Xn[3],Xn[4],Xn[5]);case 7:return new In(Xn[0],Xn[1],Xn[2],Xn[3],Xn[4],Xn[5],Xn[6])}var Hn=nl(In.prototype),Un=In.apply(Hn,Xn);return Ss(Un)?Un:Hn}}function em(In,Xn,Hn){var Un=yl(In);function ni(){for(var si=arguments.length,li=bi(si),hi=si,vi=ol(ni);hi--;)li[hi]=arguments[hi];var Ci=si<3&&li[0]!==vi&&li[si-1]!==vi?[]:Ta(li,vi);if(si-=Ci.length,si<Hn)return nh(In,Xn,Gl,ni.placeholder,$n,li,Ci,$n,$n,Hn-si);var $i=this&&this!==Rs&&this instanceof ni?Un:In;return js($i,this,li)}return ni}function Kf(In){return function(Xn,Hn,Un){var ni=ms(Xn);if(!Fs(Xn)){var si=nr(Hn,3);Xn=Ts(Xn),Hn=function(hi){return si(ni[hi],hi,ni)}}var li=In(Xn,Hn,Un);return li>-1?ni[si?Xn[li]:li]:$n}}function Jf(In){return Sa(function(Xn){var Hn=Xn.length,Un=Hn,ni=na.prototype.thru;for(In&&Xn.reverse();Un--;){var si=Xn[Un];if(typeof si!="function")throw new ta(Ln);if(ni&&!li&&ec(si)=="wrapper")var li=new na([],!0)}for(Un=li?Un:Hn;++Un<Hn;){si=Xn[Un];var hi=ec(si),vi=hi=="wrapper"?tu(si):$n;vi&&ou(vi[0])&&vi[1]==(mi|fi|di|ki)&&!vi[4].length&&vi[9]==1?li=li[ec(vi[0])].apply(li,vi[3]):li=si.length==1&&ou(si)?li[hi]():li.thru(si)}return function(){var Ci=arguments,$i=Ci[0];if(li&&Ci.length==1&&es($i))return li.plant($i).value();for(var Ri=0,Ni=Hn?Xn[Ri].apply(this,Ci):$i;++Ri<Hn;)Ni=Xn[Ri].call(this,Ni);return Ni}})}function Gl(In,Xn,Hn,Un,ni,si,li,hi,vi,Ci){var $i=Xn&mi,Ri=Xn&ii,Ni=Xn&oi,Wi=Xn&(fi|ui),rr=Xn&_i,is=Ni?$n:yl(In);function Qo(){for(var cs=arguments.length,hs=bi(cs),Gs=cs;Gs--;)hs[Gs]=arguments[Gs];if(Wi)var Ds=ol(Qo),Us=hp(hs,Ds);if(Un&&(hs=Hf(hs,Un,ni,Wi)),si&&(hs=zf(hs,si,li,Wi)),cs-=Us,Wi&&cs<Ci){var Cs=Ta(hs,Ds);return nh(In,Xn,Gl,Qo.placeholder,Hn,hs,Cs,hi,vi,Ci-cs)}var ua=Ri?Hn:this,$a=Ni?ua[In]:In;return cs=hs.length,hi?hs=Sm(hs,hi):rr&&cs>1&&hs.reverse(),$i&&vi<cs&&(hs.length=vi),this&&this!==Rs&&this instanceof Qo&&($a=is||yl($a)),$a.apply(ua,hs)}return Qo}function eh(In,Xn){return function(Hn,Un){return Tg(Hn,In,Xn(Un),{})}}function Ul(In,Xn){return function(Hn,Un){var ni;if(Hn===$n&&Un===$n)return Xn;if(Hn!==$n&&(ni=Hn),Un!==$n){if(ni===$n)return Un;typeof Hn=="string"||typeof Un=="string"?(Hn=zs(Hn),Un=zs(Un)):(Hn=If(Hn),Un=If(Un)),ni=In(Hn,Un)}return ni}}function Uc(In){return Sa(function(Xn){return Xn=bs(Xn,Hs(nr())),ss(function(Hn){var Un=this;return In(Xn,function(ni){return js(ni,Un,Hn)})})})}function Kl(In,Xn){Xn=Xn===$n?" ":zs(Xn);var Hn=Xn.length;if(Hn<2)return Hn?qc(Xn,In):Xn;var Un=qc(Xn,Dl(In/Ga(Xn)));return Ya(Xn)?Ea(aa(Un),0,In).join(""):Un.slice(0,In)}function tm(In,Xn,Hn,Un){var ni=Xn&ii,si=yl(In);function li(){for(var hi=-1,vi=arguments.length,Ci=-1,$i=Un.length,Ri=bi($i+vi),Ni=this&&this!==Rs&&this instanceof li?si:In;++Ci<$i;)Ri[Ci]=Un[Ci];for(;vi--;)Ri[Ci++]=arguments[++hi];return js(Ni,ni?Hn:this,Ri)}return li}function th(In){return function(Xn,Hn,Un){return Un&&typeof Un!="number"&&Ls(Xn,Hn,Un)&&(Hn=Un=$n),Xn=Ca(Xn),Hn===$n?(Hn=Xn,Xn=0):Hn=Ca(Hn),Un=Un===$n?Xn<Hn?1:-1:Ca(Un),Ng(Xn,Hn,Un,In)}}function Jl(In){return function(Xn,Hn){return typeof Xn=="string"&&typeof Hn=="string"||(Xn=sa(Xn),Hn=sa(Hn)),In(Xn,Hn)}}function nh(In,Xn,Hn,Un,ni,si,li,hi,vi,Ci){var $i=Xn&fi,Ri=$i?li:$n,Ni=$i?$n:li,Wi=$i?si:$n,rr=$i?$n:si;Xn|=$i?di:yi,Xn&=~($i?yi:di),Xn&ai||(Xn&=-4);var is=[In,Xn,ni,Wi,Ri,rr,Ni,hi,vi,Ci],Qo=Hn.apply($n,is);return ou(In)&&ph(Qo,is),Qo.placeholder=Un,gh(Qo,In,Xn)}function Kc(In){var Xn=$s[In];return function(Hn,Un){if(Hn=sa(Hn),Un=Un==null?0:Es(ts(Un),292),Un&&gf(Hn)){var ni=(ps(Hn)+"e").split("e"),si=Xn(ni[0]+"e"+(+ni[1]+Un));return ni=(ps(si)+"e").split("e"),+(ni[0]+"e"+(+ni[1]-Un))}return Xn(Hn)}}var nm=Ja&&1/Tl(new Ja([,-0]))[1]==ji?function(In){return new Ja(In)}:bu;function ih(In){return function(Xn){var Hn=Bs(Xn);return Hn==Si?Tc(Xn):Hn==Ti?yp(Xn):fp(Xn,In(Xn))}}function ba(In,Xn,Hn,Un,ni,si,li,hi){var vi=Xn&oi;if(!vi&&typeof In!="function")throw new ta(Ln);var Ci=Un?Un.length:0;if(Ci||(Xn&=-97,Un=ni=$n),li=li===$n?li:ks(ts(li),0),hi=hi===$n?hi:ts(hi),Ci-=ni?ni.length:0,Xn&yi){var $i=Un,Ri=ni;Un=ni=$n}var Ni=vi?$n:tu(In),Wi=[In,Xn,Hn,Un,ni,$i,Ri,si,li,hi];if(Ni&&vm(Wi,Ni),In=Wi[0],Xn=Wi[1],Hn=Wi[2],Un=Wi[3],ni=Wi[4],hi=Wi[9]=Wi[9]===$n?vi?0:In.length:ks(Wi[9]-Ci,0),!hi&&Xn&(fi|ui)&&(Xn&=-25),!Xn||Xn==ii)var rr=Jg(In,Xn,Hn);else Xn==fi||Xn==ui?rr=em(In,Xn,hi):(Xn==di||Xn==(ii|di))&&!ni.length?rr=tm(In,Xn,Hn,Un):rr=Gl.apply($n,Wi);var is=Ni?Lf:ph;return gh(is(rr,Wi),In,Xn)}function rh(In,Xn,Hn,Un){return In===$n||ca(In,Ka[Hn])&&!gs.call(Un,Hn)?Xn:In}function oh(In,Xn,Hn,Un,ni,si){return Ss(In)&&Ss(Xn)&&(si.set(Xn,In),jl(In,Xn,$n,oh,si),si.delete(Xn)),In}function im(In){return xl(In)?$n:In}function sh(In,Xn,Hn,Un,ni,si){var li=Hn&ei,hi=In.length,vi=Xn.length;if(hi!=vi&&!(li&&vi>hi))return!1;var Ci=si.get(In),$i=si.get(Xn);if(Ci&&$i)return Ci==Xn&&$i==In;var Ri=-1,Ni=!0,Wi=Hn&ti?new Ia:$n;for(si.set(In,Xn),si.set(Xn,In);++Ri<hi;){var rr=In[Ri],is=Xn[Ri];if(Un)var Qo=li?Un(is,rr,Ri,Xn,In,si):Un(rr,is,Ri,In,Xn,si);if(Qo!==$n){if(Qo)continue;Ni=!1;break}if(Wi){if(!xc(Xn,function(cs,hs){if(!ll(Wi,hs)&&(rr===cs||ni(rr,cs,Hn,Un,si)))return Wi.push(hs)})){Ni=!1;break}}else if(!(rr===is||ni(rr,is,Hn,Un,si))){Ni=!1;break}}return si.delete(In),si.delete(Xn),Ni}function om(In,Xn,Hn,Un,ni,si,li){switch(Hn){case os:if(In.byteLength!=Xn.byteLength||In.byteOffset!=Xn.byteOffset)return!1;In=In.buffer,Xn=Xn.buffer;case fs:return!(In.byteLength!=Xn.byteLength||!si(new El(In),new El(Xn)));case _s:case Ks:case Mi:return ca(+In,+Xn);case ga:return In.name==Xn.name&&In.message==Xn.message;case Ei:case zi:return In==Xn+"";case Si:var hi=Tc;case Ti:var vi=Un&ei;if(hi||(hi=Tl),In.size!=Xn.size&&!vi)return!1;var Ci=li.get(In);if(Ci)return Ci==Xn;Un|=ti,li.set(In,Xn);var $i=sh(hi(In),hi(Xn),Un,ni,si,li);return li.delete(In),$i;case Ii:if(dl)return dl.call(In)==dl.call(Xn)}return!1}function sm(In,Xn,Hn,Un,ni,si){var li=Hn&ei,hi=Jc(In),vi=hi.length,Ci=Jc(Xn),$i=Ci.length;if(vi!=$i&&!li)return!1;for(var Ri=vi;Ri--;){var Ni=hi[Ri];if(!(li?Ni in Xn:gs.call(Xn,Ni)))return!1}var Wi=si.get(In),rr=si.get(Xn);if(Wi&&rr)return Wi==Xn&&rr==In;var is=!0;si.set(In,Xn),si.set(Xn,In);for(var Qo=li;++Ri<vi;){Ni=hi[Ri];var cs=In[Ni],hs=Xn[Ni];if(Un)var Gs=li?Un(hs,cs,Ni,Xn,In,si):Un(cs,hs,Ni,In,Xn,si);if(!(Gs===$n?cs===hs||ni(cs,hs,Hn,Un,si):Gs)){is=!1;break}Qo||(Qo=Ni=="constructor")}if(is&&!Qo){var Ds=In.constructor,Us=Xn.constructor;Ds!=Us&&"constructor"in In&&"constructor"in Xn&&!(typeof Ds=="function"&&Ds instanceof Ds&&typeof Us=="function"&&Us instanceof Us)&&(is=!1)}return si.delete(In),si.delete(Xn),is}function Sa(In){return au(hh(In,$n,Sh),In+"")}function Jc(In){return kf(In,Ts,iu)}function eu(In){return kf(In,qs,ah)}var tu=Nl?function(In){return Nl.get(In)}:bu;function ec(In){for(var Xn=In.name+"",Hn=tl[Xn],Un=gs.call(tl,Xn)?Hn.length:0;Un--;){var ni=Hn[Un],si=ni.func;if(si==null||si==In)return ni.name}return Xn}function ol(In){var Xn=gs.call(ri,"placeholder")?ri:In;return Xn.placeholder}function nr(){var In=ri.iteratee||vu;return In=In===vu?_f:In,arguments.length?In(arguments[0],arguments[1]):In}function tc(In,Xn){var Hn=In.__data__;return pm(Xn)?Hn[typeof Xn=="string"?"string":"hash"]:Hn.map}function nu(In){for(var Xn=Ts(In),Hn=Xn.length;Hn--;){var Un=Xn[Hn],ni=In[Un];Xn[Hn]=[Un,ni,uh(ni)]}return Xn}function Xa(In,Xn){var Hn=mp(In,Xn);return Tf(Hn)?Hn:$n}function am(In){var Xn=gs.call(In,La),Hn=In[La];try{In[La]=$n;var Un=!0}catch{}var ni=Rl.call(In);return Un&&(Xn?In[La]=Hn:delete In[La]),ni}var iu=Ac?function(In){return In==null?[]:(In=ms(In),ka(Ac(In),function(Xn){return df.call(In,Xn)}))}:Su,ah=Ac?function(In){for(var Xn=[];In;)Pa(Xn,iu(In)),In=Bl(In);return Xn}:Su,Bs=Vs;(Qc&&Bs(new Qc(new ArrayBuffer(1)))!=os||ul&&Bs(new ul)!=Si||Rc&&Bs(Rc.resolve())!=Di||Ja&&Bs(new Ja)!=Ti||fl&&Bs(new fl)!=Ki)&&(Bs=function(In){var Xn=Vs(In),Hn=Xn==Ai?In.constructor:$n,Un=Hn?Fa(Hn):"";if(Un)switch(Un){case Xp:return os;case Fp:return Si;case qp:return Di;case Wp:return Ti;case jp:return Ki}return Xn});function lm(In,Xn,Hn){for(var Un=-1,ni=Hn.length;++Un<ni;){var si=Hn[Un],li=si.size;switch(si.type){case"drop":In+=li;break;case"dropRight":Xn-=li;break;case"take":Xn=Es(Xn,In+li);break;case"takeRight":In=ks(In,Xn-li);break}}return{start:In,end:Xn}}function cm(In){var Xn=In.match(pd);return Xn?Xn[1].split(gd):[]}function lh(In,Xn,Hn){Xn=Ma(Xn,In);for(var Un=-1,ni=Xn.length,si=!1;++Un<ni;){var li=da(Xn[Un]);if(!(si=In!=null&&Hn(In,li)))break;In=In[li]}return si||++Un!=ni?si:(ni=In==null?0:In.length,!!ni&&lc(ni)&&xa(li,ni)&&(es(In)||qa(In)))}function um(In){var Xn=In.length,Hn=new In.constructor(Xn);return Xn&&typeof In[0]=="string"&&gs.call(In,"index")&&(Hn.index=In.index,Hn.input=In.input),Hn}function ch(In){return typeof In.constructor=="function"&&!bl(In)?nl(Bl(In)):{}}function fm(In,Xn,Hn){var Un=In.constructor;switch(Xn){case fs:return Gc(In);case _s:case Ks:return new Un(+In);case os:return Hg(In,Hn);case As:case Ps:case Is:case Ns:case ma:case Wa:case Qs:case Zs:case ja:return Wf(In,Hn);case Si:return new Un;case Mi:case zi:return new Un(In);case Ei:return zg(In);case Ti:return new Un;case Ii:return Yg(In)}}function hm(In,Xn){var Hn=Xn.length;if(!Hn)return In;var Un=Hn-1;return Xn[Un]=(Hn>1?"& ":"")+Xn[Un],Xn=Xn.join(Hn>2?", ":" "),In.replace(dd,`{
/* [wrapped with `+Xn+`] */
`)}function dm(In){return es(In)||qa(In)||!!(pf&&In&&In[pf])}function xa(In,Xn){var Hn=typeof In;return Xn=Xn??Ji,!!Xn&&(Hn=="number"||Hn!="symbol"&&Cd.test(In))&&In>-1&&In%1==0&&In<Xn}function Ls(In,Xn,Hn){if(!Ss(Hn))return!1;var Un=typeof Xn;return(Un=="number"?Fs(Hn)&&xa(Xn,Hn.length):Un=="string"&&Xn in Hn)?ca(Hn[Xn],In):!1}function ru(In,Xn){if(es(In))return!1;var Hn=typeof In;return Hn=="number"||Hn=="symbol"||Hn=="boolean"||In==null||Ys(In)?!0:cd.test(In)||!ld.test(In)||Xn!=null&&In in ms(Xn)}function pm(In){var Xn=typeof In;return Xn=="string"||Xn=="number"||Xn=="symbol"||Xn=="boolean"?In!=="__proto__":In===null}function ou(In){var Xn=ec(In),Hn=ri[Xn];if(typeof Hn!="function"||!(Xn in us.prototype))return!1;if(In===Hn)return!0;var Un=tu(Hn);return!!Un&&In===Un[0]}function gm(In){return!!uf&&uf in In}var mm=Al?wa:xu;function bl(In){var Xn=In&&In.constructor,Hn=typeof Xn=="function"&&Xn.prototype||Ka;return In===Hn}function uh(In){return In===In&&!Ss(In)}function fh(In,Xn){return function(Hn){return Hn==null?!1:Hn[In]===Xn&&(Xn!==$n||In in ms(Hn))}}function Om(In){var Xn=sc(In,function(Un){return Hn.size===Fn&&Hn.clear(),Un}),Hn=Xn.cache;return Xn}function vm(In,Xn){var Hn=In[1],Un=Xn[1],ni=Hn|Un,si=ni<(ii|oi|mi),li=Un==mi&&Hn==fi||Un==mi&&Hn==ki&&In[7].length<=Xn[8]||Un==(mi|ki)&&Xn[7].length<=Xn[8]&&Hn==fi;if(!(si||li))return In;Un&ii&&(In[2]=Xn[2],ni|=Hn&ii?0:ai);var hi=Xn[3];if(hi){var vi=In[3];In[3]=vi?Hf(vi,hi,Xn[4]):hi,In[4]=vi?Ta(In[3],Wn):Xn[4]}return hi=Xn[5],hi&&(vi=In[5],In[5]=vi?zf(vi,hi,Xn[6]):hi,In[6]=vi?Ta(In[5],Wn):Xn[6]),hi=Xn[7],hi&&(In[7]=hi),Un&mi&&(In[8]=In[8]==null?Xn[8]:Es(In[8],Xn[8])),In[9]==null&&(In[9]=Xn[9]),In[0]=Xn[0],In[1]=ni,In}function ym(In){var Xn=[];if(In!=null)for(var Hn in ms(In))Xn.push(Hn);return Xn}function bm(In){return Rl.call(In)}function hh(In,Xn,Hn){return Xn=ks(Xn===$n?In.length-1:Xn,0),function(){for(var Un=arguments,ni=-1,si=ks(Un.length-Xn,0),li=bi(si);++ni<si;)li[ni]=Un[Xn+ni];ni=-1;for(var hi=bi(Xn+1);++ni<Xn;)hi[ni]=Un[ni];return hi[Xn]=Hn(li),js(In,this,hi)}}function dh(In,Xn){return Xn.length<2?In:Za(In,ra(Xn,0,-1))}function Sm(In,Xn){for(var Hn=In.length,Un=Es(Xn.length,Hn),ni=Xs(In);Un--;){var si=Xn[Un];In[Un]=xa(si,Hn)?ni[si]:$n}return In}function su(In,Xn){if(!(Xn==="constructor"&&typeof In[Xn]=="function")&&Xn!="__proto__")return In[Xn]}var ph=mh(Lf),Sl=Bp||function(In,Xn){return Rs.setTimeout(In,Xn)},au=mh(Fg);function gh(In,Xn,Hn){var Un=Xn+"";return au(In,hm(Un,xm(cm(Un),Hn)))}function mh(In){var Xn=0,Hn=0;return function(){var Un=Ip(),ni=Li-(Un-Hn);if(Hn=Un,ni>0){if(++Xn>=wi)return arguments[0]}else Xn=0;return In.apply($n,arguments)}}function nc(In,Xn){var Hn=-1,Un=In.length,ni=Un-1;for(Xn=Xn===$n?Un:Xn;++Hn<Xn;){var si=Fc(Hn,ni),li=In[si];In[si]=In[Hn],In[Hn]=li}return In.length=Xn,In}var Oh=Om(function(In){var Xn=[];return In.charCodeAt(0)===46&&Xn.push(""),In.replace(ud,function(Hn,Un,ni,si){Xn.push(ni?si.replace(vd,"$1"):Un||Hn)}),Xn});function da(In){if(typeof In=="string"||Ys(In))return In;var Xn=In+"";return Xn=="0"&&1/In==-1/0?"-0":Xn}function Fa(In){if(In!=null){try{return Ql.call(In)}catch{}try{return In+""}catch{}}return""}function xm(In,Xn){return ea(Fi,function(Hn){var Un="_."+Hn[0];Xn&Hn[1]&&!kl(In,Un)&&In.push(Un)}),In.sort()}function vh(In){if(In instanceof us)return In.clone();var Xn=new na(In.__wrapped__,In.__chain__);return Xn.__actions__=Xs(In.__actions__),Xn.__index__=In.__index__,Xn.__values__=In.__values__,Xn}function wm(In,Xn,Hn){(Hn?Ls(In,Xn,Hn):Xn===$n)?Xn=1:Xn=ks(ts(Xn),0);var Un=In==null?0:In.length;if(!Un||Xn<1)return[];for(var ni=0,si=0,li=bi(Dl(Un/Xn));ni<Un;)li[si++]=ra(In,ni,ni+=Xn);return li}function Cm(In){for(var Xn=-1,Hn=In==null?0:In.length,Un=0,ni=[];++Xn<Hn;){var si=In[Xn];si&&(ni[Un++]=si)}return ni}function $m(){var In=arguments.length;if(!In)return[];for(var Xn=bi(In-1),Hn=arguments[0],Un=In;Un--;)Xn[Un-1]=arguments[Un];return Pa(es(Hn)?Xs(Hn):[Hn],Ms(Xn,1))}var km=ss(function(In,Xn){return ws(In)?gl(In,Ms(Xn,1,ws,!0)):[]}),Pm=ss(function(In,Xn){var Hn=oa(Xn);return ws(Hn)&&(Hn=$n),ws(In)?gl(In,Ms(Xn,1,ws,!0),nr(Hn,2)):[]}),Tm=ss(function(In,Xn){var Hn=oa(Xn);return ws(Hn)&&(Hn=$n),ws(In)?gl(In,Ms(Xn,1,ws,!0),$n,Hn):[]});function _m(In,Xn,Hn){var Un=In==null?0:In.length;return Un?(Xn=Hn||Xn===$n?1:ts(Xn),ra(In,Xn<0?0:Xn,Un)):[]}function Am(In,Xn,Hn){var Un=In==null?0:In.length;return Un?(Xn=Hn||Xn===$n?1:ts(Xn),Xn=Un-Xn,ra(In,0,Xn<0?0:Xn)):[]}function Qm(In,Xn){return In&&In.length?zl(In,nr(Xn,3),!0,!0):[]}function Rm(In,Xn){return In&&In.length?zl(In,nr(Xn,3),!0):[]}function Mm(In,Xn,Hn,Un){var ni=In==null?0:In.length;return ni?(Hn&&typeof Hn!="number"&&Ls(In,Xn,Hn)&&(Hn=0,Un=ni),Cg(In,Xn,Hn,Un)):[]}function yh(In,Xn,Hn){var Un=In==null?0:In.length;if(!Un)return-1;var ni=Hn==null?0:ts(Hn);return ni<0&&(ni=ks(Un+ni,0)),Pl(In,nr(Xn,3),ni)}function bh(In,Xn,Hn){var Un=In==null?0:In.length;if(!Un)return-1;var ni=Un-1;return Hn!==$n&&(ni=ts(Hn),ni=Hn<0?ks(Un+ni,0):Es(ni,Un-1)),Pl(In,nr(Xn,3),ni,!0)}function Sh(In){var Xn=In==null?0:In.length;return Xn?Ms(In,1):[]}function Em(In){var Xn=In==null?0:In.length;return Xn?Ms(In,ji):[]}function Bm(In,Xn){var Hn=In==null?0:In.length;return Hn?(Xn=Xn===$n?1:ts(Xn),Ms(In,Xn)):[]}function Vm(In){for(var Xn=-1,Hn=In==null?0:In.length,Un={};++Xn<Hn;){var ni=In[Xn];Un[ni[0]]=ni[1]}return Un}function xh(In){return In&&In.length?In[0]:$n}function Lm(In,Xn,Hn){var Un=In==null?0:In.length;if(!Un)return-1;var ni=Hn==null?0:ts(Hn);return ni<0&&(ni=ks(Un+ni,0)),za(In,Xn,ni)}function Dm(In){var Xn=In==null?0:In.length;return Xn?ra(In,0,-1):[]}var Im=ss(function(In){var Xn=bs(In,zc);return Xn.length&&Xn[0]===In[0]?Dc(Xn):[]}),Nm=ss(function(In){var Xn=oa(In),Hn=bs(In,zc);return Xn===oa(Hn)?Xn=$n:Hn.pop(),Hn.length&&Hn[0]===In[0]?Dc(Hn,nr(Xn,2)):[]}),Zm=ss(function(In){var Xn=oa(In),Hn=bs(In,zc);return Xn=typeof Xn=="function"?Xn:$n,Xn&&Hn.pop(),Hn.length&&Hn[0]===In[0]?Dc(Hn,$n,Xn):[]});function Xm(In,Xn){return In==null?"":Lp.call(In,Xn)}function oa(In){var Xn=In==null?0:In.length;return Xn?In[Xn-1]:$n}function Fm(In,Xn,Hn){var Un=In==null?0:In.length;if(!Un)return-1;var ni=Un;return Hn!==$n&&(ni=ts(Hn),ni=ni<0?ks(Un+ni,0):Es(ni,Un-1)),Xn===Xn?Sp(In,Xn,ni):Pl(In,tf,ni,!0)}function qm(In,Xn){return In&&In.length?Mf(In,ts(Xn)):$n}var Wm=ss(wh);function wh(In,Xn){return In&&In.length&&Xn&&Xn.length?Xc(In,Xn):In}function jm(In,Xn,Hn){return In&&In.length&&Xn&&Xn.length?Xc(In,Xn,nr(Hn,2)):In}function Hm(In,Xn,Hn){return In&&In.length&&Xn&&Xn.length?Xc(In,Xn,$n,Hn):In}var zm=Sa(function(In,Xn){var Hn=In==null?0:In.length,Un=Ec(In,Xn);return Vf(In,bs(Xn,function(ni){return xa(ni,Hn)?+ni:ni}).sort(jf)),Un});function Ym(In,Xn){var Hn=[];if(!(In&&In.length))return Hn;var Un=-1,ni=[],si=In.length;for(Xn=nr(Xn,3);++Un<si;){var li=In[Un];Xn(li,Un,In)&&(Hn.push(li),ni.push(Un))}return Vf(In,ni),Hn}function lu(In){return In==null?In:Zp.call(In)}function Gm(In,Xn,Hn){var Un=In==null?0:In.length;return Un?(Hn&&typeof Hn!="number"&&Ls(In,Xn,Hn)?(Xn=0,Hn=Un):(Xn=Xn==null?0:ts(Xn),Hn=Hn===$n?Un:ts(Hn)),ra(In,Xn,Hn)):[]}function Um(In,Xn){return Hl(In,Xn)}function Km(In,Xn,Hn){return Wc(In,Xn,nr(Hn,2))}function Jm(In,Xn){var Hn=In==null?0:In.length;if(Hn){var Un=Hl(In,Xn);if(Un<Hn&&ca(In[Un],Xn))return Un}return-1}function eO(In,Xn){return Hl(In,Xn,!0)}function tO(In,Xn,Hn){return Wc(In,Xn,nr(Hn,2),!0)}function nO(In,Xn){var Hn=In==null?0:In.length;if(Hn){var Un=Hl(In,Xn,!0)-1;if(ca(In[Un],Xn))return Un}return-1}function iO(In){return In&&In.length?Df(In):[]}function rO(In,Xn){return In&&In.length?Df(In,nr(Xn,2)):[]}function oO(In){var Xn=In==null?0:In.length;return Xn?ra(In,1,Xn):[]}function sO(In,Xn,Hn){return In&&In.length?(Xn=Hn||Xn===$n?1:ts(Xn),ra(In,0,Xn<0?0:Xn)):[]}function aO(In,Xn,Hn){var Un=In==null?0:In.length;return Un?(Xn=Hn||Xn===$n?1:ts(Xn),Xn=Un-Xn,ra(In,Xn<0?0:Xn,Un)):[]}function lO(In,Xn){return In&&In.length?zl(In,nr(Xn,3),!1,!0):[]}function cO(In,Xn){return In&&In.length?zl(In,nr(Xn,3)):[]}var uO=ss(function(In){return Ra(Ms(In,1,ws,!0))}),fO=ss(function(In){var Xn=oa(In);return ws(Xn)&&(Xn=$n),Ra(Ms(In,1,ws,!0),nr(Xn,2))}),hO=ss(function(In){var Xn=oa(In);return Xn=typeof Xn=="function"?Xn:$n,Ra(Ms(In,1,ws,!0),$n,Xn)});function dO(In){return In&&In.length?Ra(In):[]}function pO(In,Xn){return In&&In.length?Ra(In,nr(Xn,2)):[]}function gO(In,Xn){return Xn=typeof Xn=="function"?Xn:$n,In&&In.length?Ra(In,$n,Xn):[]}function cu(In){if(!(In&&In.length))return[];var Xn=0;return In=ka(In,function(Hn){if(ws(Hn))return Xn=ks(Hn.length,Xn),!0}),kc(Xn,function(Hn){return bs(In,wc(Hn))})}function Ch(In,Xn){if(!(In&&In.length))return[];var Hn=cu(In);return Xn==null?Hn:bs(Hn,function(Un){return js(Xn,$n,Un)})}var mO=ss(function(In,Xn){return ws(In)?gl(In,Xn):[]}),OO=ss(function(In){return Hc(ka(In,ws))}),vO=ss(function(In){var Xn=oa(In);return ws(Xn)&&(Xn=$n),Hc(ka(In,ws),nr(Xn,2))}),yO=ss(function(In){var Xn=oa(In);return Xn=typeof Xn=="function"?Xn:$n,Hc(ka(In,ws),$n,Xn)}),bO=ss(cu);function SO(In,Xn){return Xf(In||[],Xn||[],pl)}function xO(In,Xn){return Xf(In||[],Xn||[],vl)}var wO=ss(function(In){var Xn=In.length,Hn=Xn>1?In[Xn-1]:$n;return Hn=typeof Hn=="function"?(In.pop(),Hn):$n,Ch(In,Hn)});function $h(In){var Xn=ri(In);return Xn.__chain__=!0,Xn}function CO(In,Xn){return Xn(In),In}function ic(In,Xn){return Xn(In)}var $O=Sa(function(In){var Xn=In.length,Hn=Xn?In[0]:0,Un=this.__wrapped__,ni=function(si){return Ec(si,In)};return Xn>1||this.__actions__.length||!(Un instanceof us)||!xa(Hn)?this.thru(ni):(Un=Un.slice(Hn,+Hn+(Xn?1:0)),Un.__actions__.push({func:ic,args:[ni],thisArg:$n}),new na(Un,this.__chain__).thru(function(si){return Xn&&!si.length&&si.push($n),si}))});function kO(){return $h(this)}function PO(){return new na(this.value(),this.__chain__)}function TO(){this.__values__===$n&&(this.__values__=Ih(this.value()));var In=this.__index__>=this.__values__.length,Xn=In?$n:this.__values__[this.__index__++];return{done:In,value:Xn}}function _O(){return this}function AO(In){for(var Xn,Hn=this;Hn instanceof Xl;){var Un=vh(Hn);Un.__index__=0,Un.__values__=$n,Xn?ni.__wrapped__=Un:Xn=Un;var ni=Un;Hn=Hn.__wrapped__}return ni.__wrapped__=In,Xn}function QO(){var In=this.__wrapped__;if(In instanceof us){var Xn=In;return this.__actions__.length&&(Xn=new us(this)),Xn=Xn.reverse(),Xn.__actions__.push({func:ic,args:[lu],thisArg:$n}),new na(Xn,this.__chain__)}return this.thru(lu)}function RO(){return Zf(this.__wrapped__,this.__actions__)}var MO=Yl(function(In,Xn,Hn){gs.call(In,Hn)?++In[Hn]:ya(In,Hn,1)});function EO(In,Xn,Hn){var Un=es(In)?Ju:wg;return Hn&&Ls(In,Xn,Hn)&&(Xn=$n),Un(In,nr(Xn,3))}function BO(In,Xn){var Hn=es(In)?ka:Cf;return Hn(In,nr(Xn,3))}var VO=Kf(yh),LO=Kf(bh);function DO(In,Xn){return Ms(rc(In,Xn),1)}function IO(In,Xn){return Ms(rc(In,Xn),ji)}function ZO(In,Xn,Hn){return Hn=Hn===$n?1:ts(Hn),Ms(rc(In,Xn),Hn)}function kh(In,Xn){var Hn=es(In)?ea:Qa;return Hn(In,nr(Xn,3))}function Ph(In,Xn){var Hn=es(In)?rp:wf;return Hn(In,nr(Xn,3))}var XO=Yl(function(In,Xn,Hn){gs.call(In,Hn)?In[Hn].push(Xn):ya(In,Hn,[Xn])});function FO(In,Xn,Hn,Un){In=Fs(In)?In:al(In),Hn=Hn&&!Un?ts(Hn):0;var ni=In.length;return Hn<0&&(Hn=ks(ni+Hn,0)),cc(In)?Hn<=ni&&In.indexOf(Xn,Hn)>-1:!!ni&&za(In,Xn,Hn)>-1}var qO=ss(function(In,Xn,Hn){var Un=-1,ni=typeof Xn=="function",si=Fs(In)?bi(In.length):[];return Qa(In,function(li){si[++Un]=ni?js(Xn,li,Hn):ml(li,Xn,Hn)}),si}),WO=Yl(function(In,Xn,Hn){ya(In,Hn,Xn)});function rc(In,Xn){var Hn=es(In)?bs:Af;return Hn(In,nr(Xn,3))}function jO(In,Xn,Hn,Un){return In==null?[]:(es(Xn)||(Xn=Xn==null?[]:[Xn]),Hn=Un?$n:Hn,es(Hn)||(Hn=Hn==null?[]:[Hn]),Ef(In,Xn,Hn))}var HO=Yl(function(In,Xn,Hn){In[Hn?0:1].push(Xn)},function(){return[[],[]]});function zO(In,Xn,Hn){var Un=es(In)?Sc:rf,ni=arguments.length<3;return Un(In,nr(Xn,4),Hn,ni,Qa)}function YO(In,Xn,Hn){var Un=es(In)?op:rf,ni=arguments.length<3;return Un(In,nr(Xn,4),Hn,ni,wf)}function GO(In,Xn){var Hn=es(In)?ka:Cf;return Hn(In,ac(nr(Xn,3)))}function UO(In){var Xn=es(In)?yf:Zg;return Xn(In)}function KO(In,Xn,Hn){(Hn?Ls(In,Xn,Hn):Xn===$n)?Xn=1:Xn=ts(Xn);var Un=es(In)?vg:Xg;return Un(In,Xn)}function JO(In){var Xn=es(In)?yg:qg;return Xn(In)}function e0(In){if(In==null)return 0;if(Fs(In))return cc(In)?Ga(In):In.length;var Xn=Bs(In);return Xn==Si||Xn==Ti?In.size:Nc(In).length}function t0(In,Xn,Hn){var Un=es(In)?xc:Wg;return Hn&&Ls(In,Xn,Hn)&&(Xn=$n),Un(In,nr(Xn,3))}var n0=ss(function(In,Xn){if(In==null)return[];var Hn=Xn.length;return Hn>1&&Ls(In,Xn[0],Xn[1])?Xn=[]:Hn>2&&Ls(Xn[0],Xn[1],Xn[2])&&(Xn=[Xn[0]]),Ef(In,Ms(Xn,1),[])}),oc=Ep||function(){return Rs.Date.now()};function i0(In,Xn){if(typeof Xn!="function")throw new ta(Ln);return In=ts(In),function(){if(--In<1)return Xn.apply(this,arguments)}}function Th(In,Xn,Hn){return Xn=Hn?$n:Xn,Xn=In&&Xn==null?In.length:Xn,ba(In,mi,$n,$n,$n,$n,Xn)}function _h(In,Xn){var Hn;if(typeof Xn!="function")throw new ta(Ln);return In=ts(In),function(){return--In>0&&(Hn=Xn.apply(this,arguments)),In<=1&&(Xn=$n),Hn}}var uu=ss(function(In,Xn,Hn){var Un=ii;if(Hn.length){var ni=Ta(Hn,ol(uu));Un|=di}return ba(In,Un,Xn,Hn,ni)}),Ah=ss(function(In,Xn,Hn){var Un=ii|oi;if(Hn.length){var ni=Ta(Hn,ol(Ah));Un|=di}return ba(Xn,Un,In,Hn,ni)});function Qh(In,Xn,Hn){Xn=Hn?$n:Xn;var Un=ba(In,fi,$n,$n,$n,$n,$n,Xn);return Un.placeholder=Qh.placeholder,Un}function Rh(In,Xn,Hn){Xn=Hn?$n:Xn;var Un=ba(In,ui,$n,$n,$n,$n,$n,Xn);return Un.placeholder=Rh.placeholder,Un}function Mh(In,Xn,Hn){var Un,ni,si,li,hi,vi,Ci=0,$i=!1,Ri=!1,Ni=!0;if(typeof In!="function")throw new ta(Ln);Xn=sa(Xn)||0,Ss(Hn)&&($i=!!Hn.leading,Ri="maxWait"in Hn,si=Ri?ks(sa(Hn.maxWait)||0,Xn):si,Ni="trailing"in Hn?!!Hn.trailing:Ni);function Wi(Cs){var ua=Un,$a=ni;return Un=ni=$n,Ci=Cs,li=In.apply($a,ua),li}function rr(Cs){return Ci=Cs,hi=Sl(cs,Xn),$i?Wi(Cs):li}function is(Cs){var ua=Cs-vi,$a=Cs-Ci,Kh=Xn-ua;return Ri?Es(Kh,si-$a):Kh}function Qo(Cs){var ua=Cs-vi,$a=Cs-Ci;return vi===$n||ua>=Xn||ua<0||Ri&&$a>=si}function cs(){var Cs=oc();if(Qo(Cs))return hs(Cs);hi=Sl(cs,is(Cs))}function hs(Cs){return hi=$n,Ni&&Un?Wi(Cs):(Un=ni=$n,li)}function Gs(){hi!==$n&&Ff(hi),Ci=0,Un=vi=ni=hi=$n}function Ds(){return hi===$n?li:hs(oc())}function Us(){var Cs=oc(),ua=Qo(Cs);if(Un=arguments,ni=this,vi=Cs,ua){if(hi===$n)return rr(vi);if(Ri)return Ff(hi),hi=Sl(cs,Xn),Wi(vi)}return hi===$n&&(hi=Sl(cs,Xn)),li}return Us.cancel=Gs,Us.flush=Ds,Us}var r0=ss(function(In,Xn){return xf(In,1,Xn)}),o0=ss(function(In,Xn,Hn){return xf(In,sa(Xn)||0,Hn)});function s0(In){return ba(In,_i)}function sc(In,Xn){if(typeof In!="function"||Xn!=null&&typeof Xn!="function")throw new ta(Ln);var Hn=function(){var Un=arguments,ni=Xn?Xn.apply(this,Un):Un[0],si=Hn.cache;if(si.has(ni))return si.get(ni);var li=In.apply(this,Un);return Hn.cache=si.set(ni,li)||si,li};return Hn.cache=new(sc.Cache||va),Hn}sc.Cache=va;function ac(In){if(typeof In!="function")throw new ta(Ln);return function(){var Xn=arguments;switch(Xn.length){case 0:return!In.call(this);case 1:return!In.call(this,Xn[0]);case 2:return!In.call(this,Xn[0],Xn[1]);case 3:return!In.call(this,Xn[0],Xn[1],Xn[2])}return!In.apply(this,Xn)}}function a0(In){return _h(2,In)}var l0=jg(function(In,Xn){Xn=Xn.length==1&&es(Xn[0])?bs(Xn[0],Hs(nr())):bs(Ms(Xn,1),Hs(nr()));var Hn=Xn.length;return ss(function(Un){for(var ni=-1,si=Es(Un.length,Hn);++ni<si;)Un[ni]=Xn[ni].call(this,Un[ni]);return js(In,this,Un)})}),fu=ss(function(In,Xn){var Hn=Ta(Xn,ol(fu));return ba(In,di,$n,Xn,Hn)}),Eh=ss(function(In,Xn){var Hn=Ta(Xn,ol(Eh));return ba(In,yi,$n,Xn,Hn)}),c0=Sa(function(In,Xn){return ba(In,ki,$n,$n,$n,Xn)});function u0(In,Xn){if(typeof In!="function")throw new ta(Ln);return Xn=Xn===$n?Xn:ts(Xn),ss(In,Xn)}function f0(In,Xn){if(typeof In!="function")throw new ta(Ln);return Xn=Xn==null?0:ks(ts(Xn),0),ss(function(Hn){var Un=Hn[Xn],ni=Ea(Hn,0,Xn);return Un&&Pa(ni,Un),js(In,this,ni)})}function h0(In,Xn,Hn){var Un=!0,ni=!0;if(typeof In!="function")throw new ta(Ln);return Ss(Hn)&&(Un="leading"in Hn?!!Hn.leading:Un,ni="trailing"in Hn?!!Hn.trailing:ni),Mh(In,Xn,{leading:Un,maxWait:Xn,trailing:ni})}function d0(In){return Th(In,1)}function p0(In,Xn){return fu(Yc(Xn),In)}function g0(){if(!arguments.length)return[];var In=arguments[0];return es(In)?In:[In]}function m0(In){return ia(In,Gn)}function O0(In,Xn){return Xn=typeof Xn=="function"?Xn:$n,ia(In,Gn,Xn)}function v0(In){return ia(In,zn|Gn)}function y0(In,Xn){return Xn=typeof Xn=="function"?Xn:$n,ia(In,zn|Gn,Xn)}function b0(In,Xn){return Xn==null||Sf(In,Xn,Ts(Xn))}function ca(In,Xn){return In===Xn||In!==In&&Xn!==Xn}var S0=Jl(Lc),x0=Jl(function(In,Xn){return In>=Xn}),qa=Pf(function(){return arguments}())?Pf:function(In){return xs(In)&&gs.call(In,"callee")&&!df.call(In,"callee")},es=bi.isArray,w0=Hu?Hs(Hu):_g;function Fs(In){return In!=null&&lc(In.length)&&!wa(In)}function ws(In){return xs(In)&&Fs(In)}function C0(In){return In===!0||In===!1||xs(In)&&Vs(In)==_s}var Ba=Vp||xu,$0=zu?Hs(zu):Ag;function k0(In){return xs(In)&&In.nodeType===1&&!xl(In)}function P0(In){if(In==null)return!0;if(Fs(In)&&(es(In)||typeof In=="string"||typeof In.splice=="function"||Ba(In)||sl(In)||qa(In)))return!In.length;var Xn=Bs(In);if(Xn==Si||Xn==Ti)return!In.size;if(bl(In))return!Nc(In).length;for(var Hn in In)if(gs.call(In,Hn))return!1;return!0}function T0(In,Xn){return Ol(In,Xn)}function _0(In,Xn,Hn){Hn=typeof Hn=="function"?Hn:$n;var Un=Hn?Hn(In,Xn):$n;return Un===$n?Ol(In,Xn,$n,Hn):!!Un}function hu(In){if(!xs(In))return!1;var Xn=Vs(In);return Xn==ga||Xn==pa||typeof In.message=="string"&&typeof In.name=="string"&&!xl(In)}function A0(In){return typeof In=="number"&&gf(In)}function wa(In){if(!Ss(In))return!1;var Xn=Vs(In);return Xn==ci||Xn==pi||Xn==vs||Xn==Vi}function Bh(In){return typeof In=="number"&&In==ts(In)}function lc(In){return typeof In=="number"&&In>-1&&In%1==0&&In<=Ji}function Ss(In){var Xn=typeof In;return In!=null&&(Xn=="object"||Xn=="function")}function xs(In){return In!=null&&typeof In=="object"}var Vh=Yu?Hs(Yu):Rg;function Q0(In,Xn){return In===Xn||Ic(In,Xn,nu(Xn))}function R0(In,Xn,Hn){return Hn=typeof Hn=="function"?Hn:$n,Ic(In,Xn,nu(Xn),Hn)}function M0(In){return Lh(In)&&In!=+In}function E0(In){if(mm(In))throw new Jo(Bn);return Tf(In)}function B0(In){return In===null}function V0(In){return In==null}function Lh(In){return typeof In=="number"||xs(In)&&Vs(In)==Mi}function xl(In){if(!xs(In)||Vs(In)!=Ai)return!1;var Xn=Bl(In);if(Xn===null)return!0;var Hn=gs.call(Xn,"constructor")&&Xn.constructor;return typeof Hn=="function"&&Hn instanceof Hn&&Ql.call(Hn)==Ap}var du=Gu?Hs(Gu):Mg;function L0(In){return Bh(In)&&In>=-9007199254740991&&In<=Ji}var Dh=Uu?Hs(Uu):Eg;function cc(In){return typeof In=="string"||!es(In)&&xs(In)&&Vs(In)==zi}function Ys(In){return typeof In=="symbol"||xs(In)&&Vs(In)==Ii}var sl=Ku?Hs(Ku):Bg;function D0(In){return In===$n}function I0(In){return xs(In)&&Bs(In)==Ki}function N0(In){return xs(In)&&Vs(In)==rs}var Z0=Jl(Zc),X0=Jl(function(In,Xn){return In<=Xn});function Ih(In){if(!In)return[];if(Fs(In))return cc(In)?aa(In):Xs(In);if(cl&&In[cl])return vp(In[cl]());var Xn=Bs(In),Hn=Xn==Si?Tc:Xn==Ti?Tl:al;return Hn(In)}function Ca(In){if(!In)return In===0?In:0;if(In=sa(In),In===ji||In===-1/0){var Xn=In<0?-1:1;return Xn*ns}return In===In?In:0}function ts(In){var Xn=Ca(In),Hn=Xn%1;return Xn===Xn?Hn?Xn-Hn:Xn:0}function Nh(In){return In?Na(ts(In),0,Ui):0}function sa(In){if(typeof In=="number")return In;if(Ys(In))return Zo;if(Ss(In)){var Xn=typeof In.valueOf=="function"?In.valueOf():In;In=Ss(Xn)?Xn+"":Xn}if(typeof In!="string")return In===0?In:+In;In=of(In);var Hn=Sd.test(In);return Hn||wd.test(In)?tp(In.slice(2),Hn?2:8):bd.test(In)?Zo:+In}function Zh(In){return ha(In,qs(In))}function F0(In){return In?Na(ts(In),-9007199254740991,Ji):In===0?In:0}function ps(In){return In==null?"":zs(In)}var q0=il(function(In,Xn){if(bl(Xn)||Fs(Xn)){ha(Xn,Ts(Xn),In);return}for(var Hn in Xn)gs.call(Xn,Hn)&&pl(In,Hn,Xn[Hn])}),Xh=il(function(In,Xn){ha(Xn,qs(Xn),In)}),uc=il(function(In,Xn,Hn,Un){ha(Xn,qs(Xn),In,Un)}),W0=il(function(In,Xn,Hn,Un){ha(Xn,Ts(Xn),In,Un)}),j0=Sa(Ec);function H0(In,Xn){var Hn=nl(In);return Xn==null?Hn:bf(Hn,Xn)}var z0=ss(function(In,Xn){In=ms(In);var Hn=-1,Un=Xn.length,ni=Un>2?Xn[2]:$n;for(ni&&Ls(Xn[0],Xn[1],ni)&&(Un=1);++Hn<Un;)for(var si=Xn[Hn],li=qs(si),hi=-1,vi=li.length;++hi<vi;){var Ci=li[hi],$i=In[Ci];($i===$n||ca($i,Ka[Ci])&&!gs.call(In,Ci))&&(In[Ci]=si[Ci])}return In}),Y0=ss(function(In){return In.push($n,oh),js(Fh,$n,In)});function G0(In,Xn){return ef(In,nr(Xn,3),fa)}function U0(In,Xn){return ef(In,nr(Xn,3),Vc)}function K0(In,Xn){return In==null?In:Bc(In,nr(Xn,3),qs)}function J0(In,Xn){return In==null?In:$f(In,nr(Xn,3),qs)}function ev(In,Xn){return In&&fa(In,nr(Xn,3))}function tv(In,Xn){return In&&Vc(In,nr(Xn,3))}function nv(In){return In==null?[]:Wl(In,Ts(In))}function iv(In){return In==null?[]:Wl(In,qs(In))}function pu(In,Xn,Hn){var Un=In==null?$n:Za(In,Xn);return Un===$n?Hn:Un}function rv(In,Xn){return In!=null&&lh(In,Xn,$g)}function gu(In,Xn){return In!=null&&lh(In,Xn,kg)}var ov=eh(function(In,Xn,Hn){Xn!=null&&typeof Xn.toString!="function"&&(Xn=Rl.call(Xn)),In[Xn]=Hn},Ou(Ws)),sv=eh(function(In,Xn,Hn){Xn!=null&&typeof Xn.toString!="function"&&(Xn=Rl.call(Xn)),gs.call(In,Xn)?In[Xn].push(Hn):In[Xn]=[Hn]},nr),av=ss(ml);function Ts(In){return Fs(In)?vf(In):Nc(In)}function qs(In){return Fs(In)?vf(In,!0):Vg(In)}function lv(In,Xn){var Hn={};return Xn=nr(Xn,3),fa(In,function(Un,ni,si){ya(Hn,Xn(Un,ni,si),Un)}),Hn}function cv(In,Xn){var Hn={};return Xn=nr(Xn,3),fa(In,function(Un,ni,si){ya(Hn,ni,Xn(Un,ni,si))}),Hn}var uv=il(function(In,Xn,Hn){jl(In,Xn,Hn)}),Fh=il(function(In,Xn,Hn,Un){jl(In,Xn,Hn,Un)}),fv=Sa(function(In,Xn){var Hn={};if(In==null)return Hn;var Un=!1;Xn=bs(Xn,function(si){return si=Ma(si,In),Un||(Un=si.length>1),si}),ha(In,eu(In),Hn),Un&&(Hn=ia(Hn,zn|Yn|Gn,im));for(var ni=Xn.length;ni--;)jc(Hn,Xn[ni]);return Hn});function hv(In,Xn){return qh(In,ac(nr(Xn)))}var dv=Sa(function(In,Xn){return In==null?{}:Dg(In,Xn)});function qh(In,Xn){if(In==null)return{};var Hn=bs(eu(In),function(Un){return[Un]});return Xn=nr(Xn),Bf(In,Hn,function(Un,ni){return Xn(Un,ni[0])})}function pv(In,Xn,Hn){Xn=Ma(Xn,In);var Un=-1,ni=Xn.length;for(ni||(ni=1,In=$n);++Un<ni;){var si=In==null?$n:In[da(Xn[Un])];si===$n&&(Un=ni,si=Hn),In=wa(si)?si.call(In):si}return In}function gv(In,Xn,Hn){return In==null?In:vl(In,Xn,Hn)}function mv(In,Xn,Hn,Un){return Un=typeof Un=="function"?Un:$n,In==null?In:vl(In,Xn,Hn,Un)}var Wh=ih(Ts),jh=ih(qs);function Ov(In,Xn,Hn){var Un=es(In),ni=Un||Ba(In)||sl(In);if(Xn=nr(Xn,4),Hn==null){var si=In&&In.constructor;ni?Hn=Un?new si:[]:Ss(In)?Hn=wa(si)?nl(Bl(In)):{}:Hn={}}return(ni?ea:fa)(In,function(li,hi,vi){return Xn(Hn,li,hi,vi)}),Hn}function vv(In,Xn){return In==null?!0:jc(In,Xn)}function yv(In,Xn,Hn){return In==null?In:Nf(In,Xn,Yc(Hn))}function bv(In,Xn,Hn,Un){return Un=typeof Un=="function"?Un:$n,In==null?In:Nf(In,Xn,Yc(Hn),Un)}function al(In){return In==null?[]:Pc(In,Ts(In))}function Sv(In){return In==null?[]:Pc(In,qs(In))}function xv(In,Xn,Hn){return Hn===$n&&(Hn=Xn,Xn=$n),Hn!==$n&&(Hn=sa(Hn),Hn=Hn===Hn?Hn:0),Xn!==$n&&(Xn=sa(Xn),Xn=Xn===Xn?Xn:0),Na(sa(In),Xn,Hn)}function wv(In,Xn,Hn){return Xn=Ca(Xn),Hn===$n?(Hn=Xn,Xn=0):Hn=Ca(Hn),In=sa(In),Pg(In,Xn,Hn)}function Cv(In,Xn,Hn){if(Hn&&typeof Hn!="boolean"&&Ls(In,Xn,Hn)&&(Xn=Hn=$n),Hn===$n&&(typeof Xn=="boolean"?(Hn=Xn,Xn=$n):typeof In=="boolean"&&(Hn=In,In=$n)),In===$n&&Xn===$n?(In=0,Xn=1):(In=Ca(In),Xn===$n?(Xn=In,In=0):Xn=Ca(Xn)),In>Xn){var Un=In;In=Xn,Xn=Un}if(Hn||In%1||Xn%1){var ni=mf();return Es(In+ni*(Xn-In+ep("1e-"+((ni+"").length-1))),Xn)}return Fc(In,Xn)}var $v=rl(function(In,Xn,Hn){return Xn=Xn.toLowerCase(),In+(Hn?Hh(Xn):Xn)});function Hh(In){return mu(ps(In).toLowerCase())}function zh(In){return In=ps(In),In&&In.replace($d,dp).replace(qd,"")}function kv(In,Xn,Hn){In=ps(In),Xn=zs(Xn);var Un=In.length;Hn=Hn===$n?Un:Na(ts(Hn),0,Un);var ni=Hn;return Hn-=Xn.length,Hn>=0&&In.slice(Hn,ni)==Xn}function Pv(In){return In=ps(In),In&&od.test(In)?In.replace(Cu,pp):In}function Tv(In){return In=ps(In),In&&fd.test(In)?In.replace(fc,"\\$&"):In}var _v=rl(function(In,Xn,Hn){return In+(Hn?"-":"")+Xn.toLowerCase()}),Av=rl(function(In,Xn,Hn){return In+(Hn?" ":"")+Xn.toLowerCase()}),Qv=Uf("toLowerCase");function Rv(In,Xn,Hn){In=ps(In),Xn=ts(Xn);var Un=Xn?Ga(In):0;if(!Xn||Un>=Xn)return In;var ni=(Xn-Un)/2;return Kl(Il(ni),Hn)+In+Kl(Dl(ni),Hn)}function Mv(In,Xn,Hn){In=ps(In),Xn=ts(Xn);var Un=Xn?Ga(In):0;return Xn&&Un<Xn?In+Kl(Xn-Un,Hn):In}function Ev(In,Xn,Hn){In=ps(In),Xn=ts(Xn);var Un=Xn?Ga(In):0;return Xn&&Un<Xn?Kl(Xn-Un,Hn)+In:In}function Bv(In,Xn,Hn){return Hn||Xn==null?Xn=0:Xn&&(Xn=+Xn),Np(ps(In).replace(hc,""),Xn||0)}function Vv(In,Xn,Hn){return(Hn?Ls(In,Xn,Hn):Xn===$n)?Xn=1:Xn=ts(Xn),qc(ps(In),Xn)}function Lv(){var In=arguments,Xn=ps(In[0]);return In.length<3?Xn:Xn.replace(In[1],In[2])}var Dv=rl(function(In,Xn,Hn){return In+(Hn?"_":"")+Xn.toLowerCase()});function Iv(In,Xn,Hn){return Hn&&typeof Hn!="number"&&Ls(In,Xn,Hn)&&(Xn=Hn=$n),Hn=Hn===$n?Ui:Hn>>>0,Hn?(In=ps(In),In&&(typeof Xn=="string"||Xn!=null&&!du(Xn))&&(Xn=zs(Xn),!Xn&&Ya(In))?Ea(aa(In),0,Hn):In.split(Xn,Hn)):[]}var Nv=rl(function(In,Xn,Hn){return In+(Hn?" ":"")+mu(Xn)});function Zv(In,Xn,Hn){return In=ps(In),Hn=Hn==null?0:Na(ts(Hn),0,In.length),Xn=zs(Xn),In.slice(Hn,Hn+Xn.length)==Xn}function Xv(In,Xn,Hn){var Un=ri.templateSettings;Hn&&Ls(In,Xn,Hn)&&(Xn=$n),In=ps(In),Xn=uc({},Xn,Un,rh);var ni=uc({},Xn.imports,Un.imports,rh),si=Ts(ni),li=Pc(ni,si),hi,vi,Ci=0,$i=Xn.interpolate||wl,Ri="__p += '",Ni=_c((Xn.escape||wl).source+"|"+$i.source+"|"+($i===$u?yd:wl).source+"|"+(Xn.evaluate||wl).source+"|$","g"),Wi="//# sourceURL="+(gs.call(Xn,"sourceURL")?(Xn.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yd+"]")+`
`;In.replace(Ni,function(Qo,cs,hs,Gs,Ds,Us){return hs||(hs=Gs),Ri+=In.slice(Ci,Us).replace(kd,gp),cs&&(hi=!0,Ri+=`' +
__e(`+cs+`) +
'`),Ds&&(vi=!0,Ri+=`';
`+Ds+`;
__p += '`),hs&&(Ri+=`' +
((__t = (`+hs+`)) == null ? '' : __t) +
'`),Ci=Us+Qo.length,Qo}),Ri+=`';
`;var rr=gs.call(Xn,"variable")&&Xn.variable;if(!rr)Ri=`with (obj) {
`+Ri+`
}
`;else if(Od.test(rr))throw new Jo(Dn);Ri=(vi?Ri.replace(ed,""):Ri).replace(td,"$1").replace(nd,"$1;"),Ri="function("+(rr||"obj")+`) {
`+(rr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(hi?", __e = _.escape":"")+(vi?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ri+`return __p
}`;var is=Gh(function(){return ds(si,Wi+"return "+Ri).apply($n,li)});if(is.source=Ri,hu(is))throw is;return is}function Fv(In){return ps(In).toLowerCase()}function qv(In){return ps(In).toUpperCase()}function Wv(In,Xn,Hn){if(In=ps(In),In&&(Hn||Xn===$n))return of(In);if(!In||!(Xn=zs(Xn)))return In;var Un=aa(In),ni=aa(Xn),si=sf(Un,ni),li=af(Un,ni)+1;return Ea(Un,si,li).join("")}function jv(In,Xn,Hn){if(In=ps(In),In&&(Hn||Xn===$n))return In.slice(0,cf(In)+1);if(!In||!(Xn=zs(Xn)))return In;var Un=aa(In),ni=af(Un,aa(Xn))+1;return Ea(Un,0,ni).join("")}function Hv(In,Xn,Hn){if(In=ps(In),In&&(Hn||Xn===$n))return In.replace(hc,"");if(!In||!(Xn=zs(Xn)))return In;var Un=aa(In),ni=sf(Un,aa(Xn));return Ea(Un,ni).join("")}function zv(In,Xn){var Hn=Pi,Un=Oi;if(Ss(Xn)){var ni="separator"in Xn?Xn.separator:ni;Hn="length"in Xn?ts(Xn.length):Hn,Un="omission"in Xn?zs(Xn.omission):Un}In=ps(In);var si=In.length;if(Ya(In)){var li=aa(In);si=li.length}if(Hn>=si)return In;var hi=Hn-Ga(Un);if(hi<1)return Un;var vi=li?Ea(li,0,hi).join(""):In.slice(0,hi);if(ni===$n)return vi+Un;if(li&&(hi+=vi.length-hi),du(ni)){if(In.slice(hi).search(ni)){var Ci,$i=vi;for(ni.global||(ni=_c(ni.source,ps(ku.exec(ni))+"g")),ni.lastIndex=0;Ci=ni.exec($i);)var Ri=Ci.index;vi=vi.slice(0,Ri===$n?hi:Ri)}}else if(In.indexOf(zs(ni),hi)!=hi){var Ni=vi.lastIndexOf(ni);Ni>-1&&(vi=vi.slice(0,Ni))}return vi+Un}function Yv(In){return In=ps(In),In&&rd.test(In)?In.replace(wu,xp):In}var Gv=rl(function(In,Xn,Hn){return In+(Hn?" ":"")+Xn.toUpperCase()}),mu=Uf("toUpperCase");function Yh(In,Xn,Hn){return In=ps(In),Xn=Hn?$n:Xn,Xn===$n?Op(In)?$p(In):lp(In):In.match(Xn)||[]}var Gh=ss(function(In,Xn){try{return js(In,$n,Xn)}catch(Hn){return hu(Hn)?Hn:new Jo(Hn)}}),Uv=Sa(function(In,Xn){return ea(Xn,function(Hn){Hn=da(Hn),ya(In,Hn,uu(In[Hn],In))}),In});function Kv(In){var Xn=In==null?0:In.length,Hn=nr();return In=Xn?bs(In,function(Un){if(typeof Un[1]!="function")throw new ta(Ln);return[Hn(Un[0]),Un[1]]}):[],ss(function(Un){for(var ni=-1;++ni<Xn;){var si=In[ni];if(js(si[0],this,Un))return js(si[1],this,Un)}})}function Jv(In){return xg(ia(In,zn))}function Ou(In){return function(){return In}}function e1(In,Xn){return In==null||In!==In?Xn:In}var t1=Jf(),n1=Jf(!0);function Ws(In){return In}function vu(In){return _f(typeof In=="function"?In:ia(In,zn))}function i1(In){return Qf(ia(In,zn))}function r1(In,Xn){return Rf(In,ia(Xn,zn))}var o1=ss(function(In,Xn){return function(Hn){return ml(Hn,In,Xn)}}),s1=ss(function(In,Xn){return function(Hn){return ml(In,Hn,Xn)}});function yu(In,Xn,Hn){var Un=Ts(Xn),ni=Wl(Xn,Un);Hn==null&&!(Ss(Xn)&&(ni.length||!Un.length))&&(Hn=Xn,Xn=In,In=this,ni=Wl(Xn,Ts(Xn)));var si=!(Ss(Hn)&&"chain"in Hn)||!!Hn.chain,li=wa(In);return ea(ni,function(hi){var vi=Xn[hi];In[hi]=vi,li&&(In.prototype[hi]=function(){var Ci=this.__chain__;if(si||Ci){var $i=In(this.__wrapped__),Ri=$i.__actions__=Xs(this.__actions__);return Ri.push({func:vi,args:arguments,thisArg:In}),$i.__chain__=Ci,$i}return vi.apply(In,Pa([this.value()],arguments))})}),In}function a1(){return Rs._===this&&(Rs._=Qp),this}function bu(){}function l1(In){return In=ts(In),ss(function(Xn){return Mf(Xn,In)})}var c1=Uc(bs),u1=Uc(Ju),f1=Uc(xc);function Uh(In){return ru(In)?wc(da(In)):Ig(In)}function h1(In){return function(Xn){return In==null?$n:Za(In,Xn)}}var d1=th(),p1=th(!0);function Su(){return[]}function xu(){return!1}function g1(){return{}}function m1(){return""}function O1(){return!0}function v1(In,Xn){if(In=ts(In),In<1||In>Ji)return[];var Hn=Ui,Un=Es(In,Ui);Xn=nr(Xn),In-=Ui;for(var ni=kc(Un,Xn);++Hn<In;)Xn(Hn);return ni}function y1(In){return es(In)?bs(In,da):Ys(In)?[In]:Xs(Oh(ps(In)))}function b1(In){var Xn=++_p;return ps(In)+Xn}var S1=Ul(function(In,Xn){return In+Xn},0),x1=Kc("ceil"),w1=Ul(function(In,Xn){return In/Xn},1),C1=Kc("floor");function $1(In){return In&&In.length?ql(In,Ws,Lc):$n}function k1(In,Xn){return In&&In.length?ql(In,nr(Xn,2),Lc):$n}function P1(In){return nf(In,Ws)}function T1(In,Xn){return nf(In,nr(Xn,2))}function _1(In){return In&&In.length?ql(In,Ws,Zc):$n}function A1(In,Xn){return In&&In.length?ql(In,nr(Xn,2),Zc):$n}var Q1=Ul(function(In,Xn){return In*Xn},1),R1=Kc("round"),M1=Ul(function(In,Xn){return In-Xn},0);function E1(In){return In&&In.length?$c(In,Ws):0}function B1(In,Xn){return In&&In.length?$c(In,nr(Xn,2)):0}return ri.after=i0,ri.ary=Th,ri.assign=q0,ri.assignIn=Xh,ri.assignInWith=uc,ri.assignWith=W0,ri.at=j0,ri.before=_h,ri.bind=uu,ri.bindAll=Uv,ri.bindKey=Ah,ri.castArray=g0,ri.chain=$h,ri.chunk=wm,ri.compact=Cm,ri.concat=$m,ri.cond=Kv,ri.conforms=Jv,ri.constant=Ou,ri.countBy=MO,ri.create=H0,ri.curry=Qh,ri.curryRight=Rh,ri.debounce=Mh,ri.defaults=z0,ri.defaultsDeep=Y0,ri.defer=r0,ri.delay=o0,ri.difference=km,ri.differenceBy=Pm,ri.differenceWith=Tm,ri.drop=_m,ri.dropRight=Am,ri.dropRightWhile=Qm,ri.dropWhile=Rm,ri.fill=Mm,ri.filter=BO,ri.flatMap=DO,ri.flatMapDeep=IO,ri.flatMapDepth=ZO,ri.flatten=Sh,ri.flattenDeep=Em,ri.flattenDepth=Bm,ri.flip=s0,ri.flow=t1,ri.flowRight=n1,ri.fromPairs=Vm,ri.functions=nv,ri.functionsIn=iv,ri.groupBy=XO,ri.initial=Dm,ri.intersection=Im,ri.intersectionBy=Nm,ri.intersectionWith=Zm,ri.invert=ov,ri.invertBy=sv,ri.invokeMap=qO,ri.iteratee=vu,ri.keyBy=WO,ri.keys=Ts,ri.keysIn=qs,ri.map=rc,ri.mapKeys=lv,ri.mapValues=cv,ri.matches=i1,ri.matchesProperty=r1,ri.memoize=sc,ri.merge=uv,ri.mergeWith=Fh,ri.method=o1,ri.methodOf=s1,ri.mixin=yu,ri.negate=ac,ri.nthArg=l1,ri.omit=fv,ri.omitBy=hv,ri.once=a0,ri.orderBy=jO,ri.over=c1,ri.overArgs=l0,ri.overEvery=u1,ri.overSome=f1,ri.partial=fu,ri.partialRight=Eh,ri.partition=HO,ri.pick=dv,ri.pickBy=qh,ri.property=Uh,ri.propertyOf=h1,ri.pull=Wm,ri.pullAll=wh,ri.pullAllBy=jm,ri.pullAllWith=Hm,ri.pullAt=zm,ri.range=d1,ri.rangeRight=p1,ri.rearg=c0,ri.reject=GO,ri.remove=Ym,ri.rest=u0,ri.reverse=lu,ri.sampleSize=KO,ri.set=gv,ri.setWith=mv,ri.shuffle=JO,ri.slice=Gm,ri.sortBy=n0,ri.sortedUniq=iO,ri.sortedUniqBy=rO,ri.split=Iv,ri.spread=f0,ri.tail=oO,ri.take=sO,ri.takeRight=aO,ri.takeRightWhile=lO,ri.takeWhile=cO,ri.tap=CO,ri.throttle=h0,ri.thru=ic,ri.toArray=Ih,ri.toPairs=Wh,ri.toPairsIn=jh,ri.toPath=y1,ri.toPlainObject=Zh,ri.transform=Ov,ri.unary=d0,ri.union=uO,ri.unionBy=fO,ri.unionWith=hO,ri.uniq=dO,ri.uniqBy=pO,ri.uniqWith=gO,ri.unset=vv,ri.unzip=cu,ri.unzipWith=Ch,ri.update=yv,ri.updateWith=bv,ri.values=al,ri.valuesIn=Sv,ri.without=mO,ri.words=Yh,ri.wrap=p0,ri.xor=OO,ri.xorBy=vO,ri.xorWith=yO,ri.zip=bO,ri.zipObject=SO,ri.zipObjectDeep=xO,ri.zipWith=wO,ri.entries=Wh,ri.entriesIn=jh,ri.extend=Xh,ri.extendWith=uc,yu(ri,ri),ri.add=S1,ri.attempt=Gh,ri.camelCase=$v,ri.capitalize=Hh,ri.ceil=x1,ri.clamp=xv,ri.clone=m0,ri.cloneDeep=v0,ri.cloneDeepWith=y0,ri.cloneWith=O0,ri.conformsTo=b0,ri.deburr=zh,ri.defaultTo=e1,ri.divide=w1,ri.endsWith=kv,ri.eq=ca,ri.escape=Pv,ri.escapeRegExp=Tv,ri.every=EO,ri.find=VO,ri.findIndex=yh,ri.findKey=G0,ri.findLast=LO,ri.findLastIndex=bh,ri.findLastKey=U0,ri.floor=C1,ri.forEach=kh,ri.forEachRight=Ph,ri.forIn=K0,ri.forInRight=J0,ri.forOwn=ev,ri.forOwnRight=tv,ri.get=pu,ri.gt=S0,ri.gte=x0,ri.has=rv,ri.hasIn=gu,ri.head=xh,ri.identity=Ws,ri.includes=FO,ri.indexOf=Lm,ri.inRange=wv,ri.invoke=av,ri.isArguments=qa,ri.isArray=es,ri.isArrayBuffer=w0,ri.isArrayLike=Fs,ri.isArrayLikeObject=ws,ri.isBoolean=C0,ri.isBuffer=Ba,ri.isDate=$0,ri.isElement=k0,ri.isEmpty=P0,ri.isEqual=T0,ri.isEqualWith=_0,ri.isError=hu,ri.isFinite=A0,ri.isFunction=wa,ri.isInteger=Bh,ri.isLength=lc,ri.isMap=Vh,ri.isMatch=Q0,ri.isMatchWith=R0,ri.isNaN=M0,ri.isNative=E0,ri.isNil=V0,ri.isNull=B0,ri.isNumber=Lh,ri.isObject=Ss,ri.isObjectLike=xs,ri.isPlainObject=xl,ri.isRegExp=du,ri.isSafeInteger=L0,ri.isSet=Dh,ri.isString=cc,ri.isSymbol=Ys,ri.isTypedArray=sl,ri.isUndefined=D0,ri.isWeakMap=I0,ri.isWeakSet=N0,ri.join=Xm,ri.kebabCase=_v,ri.last=oa,ri.lastIndexOf=Fm,ri.lowerCase=Av,ri.lowerFirst=Qv,ri.lt=Z0,ri.lte=X0,ri.max=$1,ri.maxBy=k1,ri.mean=P1,ri.meanBy=T1,ri.min=_1,ri.minBy=A1,ri.stubArray=Su,ri.stubFalse=xu,ri.stubObject=g1,ri.stubString=m1,ri.stubTrue=O1,ri.multiply=Q1,ri.nth=qm,ri.noConflict=a1,ri.noop=bu,ri.now=oc,ri.pad=Rv,ri.padEnd=Mv,ri.padStart=Ev,ri.parseInt=Bv,ri.random=Cv,ri.reduce=zO,ri.reduceRight=YO,ri.repeat=Vv,ri.replace=Lv,ri.result=pv,ri.round=R1,ri.runInContext=gi,ri.sample=UO,ri.size=e0,ri.snakeCase=Dv,ri.some=t0,ri.sortedIndex=Um,ri.sortedIndexBy=Km,ri.sortedIndexOf=Jm,ri.sortedLastIndex=eO,ri.sortedLastIndexBy=tO,ri.sortedLastIndexOf=nO,ri.startCase=Nv,ri.startsWith=Zv,ri.subtract=M1,ri.sum=E1,ri.sumBy=B1,ri.template=Xv,ri.times=v1,ri.toFinite=Ca,ri.toInteger=ts,ri.toLength=Nh,ri.toLower=Fv,ri.toNumber=sa,ri.toSafeInteger=F0,ri.toString=ps,ri.toUpper=qv,ri.trim=Wv,ri.trimEnd=jv,ri.trimStart=Hv,ri.truncate=zv,ri.unescape=Yv,ri.uniqueId=b1,ri.upperCase=Gv,ri.upperFirst=mu,ri.each=kh,ri.eachRight=Ph,ri.first=xh,yu(ri,function(){var In={};return fa(ri,function(Xn,Hn){gs.call(ri.prototype,Hn)||(In[Hn]=Xn)}),In}(),{chain:!1}),ri.VERSION=_n,ea(["bind","bindKey","curry","curryRight","partial","partialRight"],function(In){ri[In].placeholder=ri}),ea(["drop","take"],function(In,Xn){us.prototype[In]=function(Hn){Hn=Hn===$n?1:ks(ts(Hn),0);var Un=this.__filtered__&&!Xn?new us(this):this.clone();return Un.__filtered__?Un.__takeCount__=Es(Hn,Un.__takeCount__):Un.__views__.push({size:Es(Hn,Ui),type:In+(Un.__dir__<0?"Right":"")}),Un},us.prototype[In+"Right"]=function(Hn){return this.reverse()[In](Hn).reverse()}}),ea(["filter","map","takeWhile"],function(In,Xn){var Hn=Xn+1,Un=Hn==Xi||Hn==Gi;us.prototype[In]=function(ni){var si=this.clone();return si.__iteratees__.push({iteratee:nr(ni,3),type:Hn}),si.__filtered__=si.__filtered__||Un,si}}),ea(["head","last"],function(In,Xn){var Hn="take"+(Xn?"Right":"");us.prototype[In]=function(){return this[Hn](1).value()[0]}}),ea(["initial","tail"],function(In,Xn){var Hn="drop"+(Xn?"":"Right");us.prototype[In]=function(){return this.__filtered__?new us(this):this[Hn](1)}}),us.prototype.compact=function(){return this.filter(Ws)},us.prototype.find=function(In){return this.filter(In).head()},us.prototype.findLast=function(In){return this.reverse().find(In)},us.prototype.invokeMap=ss(function(In,Xn){return typeof In=="function"?new us(this):this.map(function(Hn){return ml(Hn,In,Xn)})}),us.prototype.reject=function(In){return this.filter(ac(nr(In)))},us.prototype.slice=function(In,Xn){In=ts(In);var Hn=this;return Hn.__filtered__&&(In>0||Xn<0)?new us(Hn):(In<0?Hn=Hn.takeRight(-In):In&&(Hn=Hn.drop(In)),Xn!==$n&&(Xn=ts(Xn),Hn=Xn<0?Hn.dropRight(-Xn):Hn.take(Xn-In)),Hn)},us.prototype.takeRightWhile=function(In){return this.reverse().takeWhile(In).reverse()},us.prototype.toArray=function(){return this.take(Ui)},fa(us.prototype,function(In,Xn){var Hn=/^(?:filter|find|map|reject)|While$/.test(Xn),Un=/^(?:head|last)$/.test(Xn),ni=ri[Un?"take"+(Xn=="last"?"Right":""):Xn],si=Un||/^find/.test(Xn);ni&&(ri.prototype[Xn]=function(){var li=this.__wrapped__,hi=Un?[1]:arguments,vi=li instanceof us,Ci=hi[0],$i=vi||es(li),Ri=function(cs){var hs=ni.apply(ri,Pa([cs],hi));return Un&&Ni?hs[0]:hs};$i&&Hn&&typeof Ci=="function"&&Ci.length!=1&&(vi=$i=!1);var Ni=this.__chain__,Wi=!!this.__actions__.length,rr=si&&!Ni,is=vi&&!Wi;if(!si&&$i){li=is?li:new us(this);var Qo=In.apply(li,hi);return Qo.__actions__.push({func:ic,args:[Ri],thisArg:$n}),new na(Qo,Ni)}return rr&&is?In.apply(this,hi):(Qo=this.thru(Ri),rr?Un?Qo.value()[0]:Qo.value():Qo)})}),ea(["pop","push","shift","sort","splice","unshift"],function(In){var Xn=_l[In],Hn=/^(?:push|sort|unshift)$/.test(In)?"tap":"thru",Un=/^(?:pop|shift)$/.test(In);ri.prototype[In]=function(){var ni=arguments;if(Un&&!this.__chain__){var si=this.value();return Xn.apply(es(si)?si:[],ni)}return this[Hn](function(li){return Xn.apply(es(li)?li:[],ni)})}}),fa(us.prototype,function(In,Xn){var Hn=ri[Xn];if(Hn){var Un=Hn.name+"";gs.call(tl,Un)||(tl[Un]=[]),tl[Un].push({name:Xn,func:Hn})}}),tl[Gl($n,oi).name]=[{name:"wrapper",func:$n}],us.prototype.clone=Hp,us.prototype.reverse=zp,us.prototype.value=Yp,ri.prototype.at=$O,ri.prototype.chain=kO,ri.prototype.commit=PO,ri.prototype.next=TO,ri.prototype.plant=AO,ri.prototype.reverse=QO,ri.prototype.toJSON=ri.prototype.valueOf=ri.prototype.value=RO,ri.prototype.first=ri.prototype.head,cl&&(ri.prototype[cl]=_O),ri},Ua=kp();Va?((Va.exports=Ua)._=Ua,vc._=Ua):Rs._=Ua}).call(lodash)}(lodash$1,lodash$1.exports)),lodash$1.exports}var lodashExports=requireLodash();const _=getDefaultExportFromCjs(lodashExports),_imports_0$1="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%2045.402%2045.402'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141%20c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27%20c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435%20c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_sfc_main$3={name:"ConfettiList",data(){return{confettiItems:_.cloneDeep(this.confettis),selectedConfetti:void 0}},props:{confettis:{},colors:{},backgroundColor:"#ffffff"},components:{ConfettiPreview},methods:{inspectConfetti(Pn){this.$emit("inspectedConfetti",Pn),this.selectedConfetti=Pn},createNewConfetti(){this.confettis.push(_.cloneDeep(this.confettis[0])),this.confettiItems=_.cloneDeep(this.confettis),this.$emit("updateConfettiLauncher");for(const Pn of this.$refs.preview)Pn.skipRerender=!0},rerenderConfetti(){for(const[Pn,Cn]of Object.entries(this.$refs.preview))Pn!=this.selectedConfetti&&(Cn.skipRerender=!0);this.confettiItems=_.cloneDeep(this.confettis)}},watch:{confettis:{handler(Pn){this.confettiItems=_.cloneDeep(Pn)},deep:!0}}},_hoisted_1$2={class:"confetti-list"},_hoisted_2$2=["onClick"];function _sfc_render$2(Pn,Cn,$n,_n,Rn,Bn){const Ln=resolveComponent("ConfettiPreview");return openBlock(),createElementBlock("div",_hoisted_1$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Rn.confettiItems,(Dn,Nn)=>(openBlock(),createElementBlock("button",{onClick:Fn=>Bn.inspectConfetti(Nn),class:normalizeClass({selected:Nn==Rn.selectedConfetti}),style:normalizeStyle({backgroundColor:$n.backgroundColor})},[createVNode(Ln,{confetti:Dn,colors:$n.colors,ref_for:!0,ref:"preview"},null,8,["confetti","colors"])],14,_hoisted_2$2))),256)),createBaseVNode("button",{onClick:Cn[0]||(Cn[0]=Dn=>Bn.createNewConfetti()),style:{"background-color":"#14191a"}},Cn[1]||(Cn[1]=[createBaseVNode("img",{src:_imports_0$1},null,-1)]))])}const ConfettiList=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2ff78fcd"]]);let rangeFrom=[],rangeTo=[];(()=>{let Pn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(Cn=>Cn?parseInt(Cn,36):1);for(let Cn=0,$n=0;Cn<Pn.length;Cn++)(Cn%2?rangeTo:rangeFrom).push($n=$n+Pn[Cn])})();function isExtendingChar(Pn){if(Pn<768)return!1;for(let Cn=0,$n=rangeFrom.length;;){let _n=Cn+$n>>1;if(Pn<rangeFrom[_n])$n=_n;else if(Pn>=rangeTo[_n])Cn=_n+1;else return!0;if(Cn==$n)return!1}}function isRegionalIndicator(Pn){return Pn>=127462&&Pn<=127487}const ZWJ=8205;function findClusterBreak$1(Pn,Cn,$n=!0,_n=!0){return($n?nextClusterBreak:prevClusterBreak)(Pn,Cn,_n)}function nextClusterBreak(Pn,Cn,$n){if(Cn==Pn.length)return Cn;Cn&&surrogateLow$1(Pn.charCodeAt(Cn))&&surrogateHigh$1(Pn.charCodeAt(Cn-1))&&Cn--;let _n=codePointAt$1(Pn,Cn);for(Cn+=codePointSize$1(_n);Cn<Pn.length;){let Rn=codePointAt$1(Pn,Cn);if(_n==ZWJ||Rn==ZWJ||$n&&isExtendingChar(Rn))Cn+=codePointSize$1(Rn),_n=Rn;else if(isRegionalIndicator(Rn)){let Bn=0,Ln=Cn-2;for(;Ln>=0&&isRegionalIndicator(codePointAt$1(Pn,Ln));)Bn++,Ln-=2;if(Bn%2==0)break;Cn+=2}else break}return Cn}function prevClusterBreak(Pn,Cn,$n){for(;Cn>0;){let _n=nextClusterBreak(Pn,Cn-2,$n);if(_n<Cn)return _n;Cn--}return 0}function codePointAt$1(Pn,Cn){let $n=Pn.charCodeAt(Cn);if(!surrogateHigh$1($n)||Cn+1==Pn.length)return $n;let _n=Pn.charCodeAt(Cn+1);return surrogateLow$1(_n)?($n-55296<<10)+(_n-56320)+65536:$n}function surrogateLow$1(Pn){return Pn>=56320&&Pn<57344}function surrogateHigh$1(Pn){return Pn>=55296&&Pn<56320}function codePointSize$1(Pn){return Pn<65536?1:2}class Text{lineAt(Cn){if(Cn<0||Cn>this.length)throw new RangeError(`Invalid position ${Cn} in document of length ${this.length}`);return this.lineInner(Cn,!1,1,0)}line(Cn){if(Cn<1||Cn>this.lines)throw new RangeError(`Invalid line number ${Cn} in ${this.lines}-line document`);return this.lineInner(Cn,!0,1,0)}replace(Cn,$n,_n){[Cn,$n]=clip(this,Cn,$n);let Rn=[];return this.decompose(0,Cn,Rn,2),_n.length&&_n.decompose(0,_n.length,Rn,3),this.decompose($n,this.length,Rn,1),TextNode.from(Rn,this.length-($n-Cn)+_n.length)}append(Cn){return this.replace(this.length,this.length,Cn)}slice(Cn,$n=this.length){[Cn,$n]=clip(this,Cn,$n);let _n=[];return this.decompose(Cn,$n,_n,0),TextNode.from(_n,$n-Cn)}eq(Cn){if(Cn==this)return!0;if(Cn.length!=this.length||Cn.lines!=this.lines)return!1;let $n=this.scanIdentical(Cn,1),_n=this.length-this.scanIdentical(Cn,-1),Rn=new RawTextCursor(this),Bn=new RawTextCursor(Cn);for(let Ln=$n,Dn=$n;;){if(Rn.next(Ln),Bn.next(Ln),Ln=0,Rn.lineBreak!=Bn.lineBreak||Rn.done!=Bn.done||Rn.value!=Bn.value)return!1;if(Dn+=Rn.value.length,Rn.done||Dn>=_n)return!0}}iter(Cn=1){return new RawTextCursor(this,Cn)}iterRange(Cn,$n=this.length){return new PartialTextCursor(this,Cn,$n)}iterLines(Cn,$n){let _n;if(Cn==null)_n=this.iter();else{$n==null&&($n=this.lines+1);let Rn=this.line(Cn).from;_n=this.iterRange(Rn,Math.max(Rn,$n==this.lines+1?this.length:$n<=1?0:this.line($n-1).to))}return new LineCursor(_n)}toString(){return this.sliceString(0)}toJSON(){let Cn=[];return this.flatten(Cn),Cn}constructor(){}static of(Cn){if(Cn.length==0)throw new RangeError("A document must have at least one line");return Cn.length==1&&!Cn[0]?Text.empty:Cn.length<=32?new TextLeaf(Cn):TextNode.from(TextLeaf.split(Cn,[]))}}class TextLeaf extends Text{constructor(Cn,$n=textLength(Cn)){super(),this.text=Cn,this.length=$n}get lines(){return this.text.length}get children(){return null}lineInner(Cn,$n,_n,Rn){for(let Bn=0;;Bn++){let Ln=this.text[Bn],Dn=Rn+Ln.length;if(($n?_n:Dn)>=Cn)return new Line(Rn,Dn,_n,Ln);Rn=Dn+1,_n++}}decompose(Cn,$n,_n,Rn){let Bn=Cn<=0&&$n>=this.length?this:new TextLeaf(sliceText(this.text,Cn,$n),Math.min($n,this.length)-Math.max(0,Cn));if(Rn&1){let Ln=_n.pop(),Dn=appendText(Bn.text,Ln.text.slice(),0,Bn.length);if(Dn.length<=32)_n.push(new TextLeaf(Dn,Ln.length+Bn.length));else{let Nn=Dn.length>>1;_n.push(new TextLeaf(Dn.slice(0,Nn)),new TextLeaf(Dn.slice(Nn)))}}else _n.push(Bn)}replace(Cn,$n,_n){if(!(_n instanceof TextLeaf))return super.replace(Cn,$n,_n);[Cn,$n]=clip(this,Cn,$n);let Rn=appendText(this.text,appendText(_n.text,sliceText(this.text,0,Cn)),$n),Bn=this.length+_n.length-($n-Cn);return Rn.length<=32?new TextLeaf(Rn,Bn):TextNode.from(TextLeaf.split(Rn,[]),Bn)}sliceString(Cn,$n=this.length,_n=`
`){[Cn,$n]=clip(this,Cn,$n);let Rn="";for(let Bn=0,Ln=0;Bn<=$n&&Ln<this.text.length;Ln++){let Dn=this.text[Ln],Nn=Bn+Dn.length;Bn>Cn&&Ln&&(Rn+=_n),Cn<Nn&&$n>Bn&&(Rn+=Dn.slice(Math.max(0,Cn-Bn),$n-Bn)),Bn=Nn+1}return Rn}flatten(Cn){for(let $n of this.text)Cn.push($n)}scanIdentical(){return 0}static split(Cn,$n){let _n=[],Rn=-1;for(let Bn of Cn)_n.push(Bn),Rn+=Bn.length+1,_n.length==32&&($n.push(new TextLeaf(_n,Rn)),_n=[],Rn=-1);return Rn>-1&&$n.push(new TextLeaf(_n,Rn)),$n}}class TextNode extends Text{constructor(Cn,$n){super(),this.children=Cn,this.length=$n,this.lines=0;for(let _n of Cn)this.lines+=_n.lines}lineInner(Cn,$n,_n,Rn){for(let Bn=0;;Bn++){let Ln=this.children[Bn],Dn=Rn+Ln.length,Nn=_n+Ln.lines-1;if(($n?Nn:Dn)>=Cn)return Ln.lineInner(Cn,$n,_n,Rn);Rn=Dn+1,_n=Nn+1}}decompose(Cn,$n,_n,Rn){for(let Bn=0,Ln=0;Ln<=$n&&Bn<this.children.length;Bn++){let Dn=this.children[Bn],Nn=Ln+Dn.length;if(Cn<=Nn&&$n>=Ln){let Fn=Rn&((Ln<=Cn?1:0)|(Nn>=$n?2:0));Ln>=Cn&&Nn<=$n&&!Fn?_n.push(Dn):Dn.decompose(Cn-Ln,$n-Ln,_n,Fn)}Ln=Nn+1}}replace(Cn,$n,_n){if([Cn,$n]=clip(this,Cn,$n),_n.lines<this.lines)for(let Rn=0,Bn=0;Rn<this.children.length;Rn++){let Ln=this.children[Rn],Dn=Bn+Ln.length;if(Cn>=Bn&&$n<=Dn){let Nn=Ln.replace(Cn-Bn,$n-Bn,_n),Fn=this.lines-Ln.lines+Nn.lines;if(Nn.lines<Fn>>4&&Nn.lines>Fn>>6){let Wn=this.children.slice();return Wn[Rn]=Nn,new TextNode(Wn,this.length-($n-Cn)+_n.length)}return super.replace(Bn,Dn,Nn)}Bn=Dn+1}return super.replace(Cn,$n,_n)}sliceString(Cn,$n=this.length,_n=`
`){[Cn,$n]=clip(this,Cn,$n);let Rn="";for(let Bn=0,Ln=0;Bn<this.children.length&&Ln<=$n;Bn++){let Dn=this.children[Bn],Nn=Ln+Dn.length;Ln>Cn&&Bn&&(Rn+=_n),Cn<Nn&&$n>Ln&&(Rn+=Dn.sliceString(Cn-Ln,$n-Ln,_n)),Ln=Nn+1}return Rn}flatten(Cn){for(let $n of this.children)$n.flatten(Cn)}scanIdentical(Cn,$n){if(!(Cn instanceof TextNode))return 0;let _n=0,[Rn,Bn,Ln,Dn]=$n>0?[0,0,this.children.length,Cn.children.length]:[this.children.length-1,Cn.children.length-1,-1,-1];for(;;Rn+=$n,Bn+=$n){if(Rn==Ln||Bn==Dn)return _n;let Nn=this.children[Rn],Fn=Cn.children[Bn];if(Nn!=Fn)return _n+Nn.scanIdentical(Fn,$n);_n+=Nn.length+1}}static from(Cn,$n=Cn.reduce((_n,Rn)=>_n+Rn.length+1,-1)){let _n=0;for(let Gn of Cn)_n+=Gn.lines;if(_n<32){let Gn=[];for(let ei of Cn)ei.flatten(Gn);return new TextLeaf(Gn,$n)}let Rn=Math.max(32,_n>>5),Bn=Rn<<1,Ln=Rn>>1,Dn=[],Nn=0,Fn=-1,Wn=[];function zn(Gn){let ei;if(Gn.lines>Bn&&Gn instanceof TextNode)for(let ti of Gn.children)zn(ti);else Gn.lines>Ln&&(Nn>Ln||!Nn)?(Yn(),Dn.push(Gn)):Gn instanceof TextLeaf&&Nn&&(ei=Wn[Wn.length-1])instanceof TextLeaf&&Gn.lines+ei.lines<=32?(Nn+=Gn.lines,Fn+=Gn.length+1,Wn[Wn.length-1]=new TextLeaf(ei.text.concat(Gn.text),ei.length+1+Gn.length)):(Nn+Gn.lines>Rn&&Yn(),Nn+=Gn.lines,Fn+=Gn.length+1,Wn.push(Gn))}function Yn(){Nn!=0&&(Dn.push(Wn.length==1?Wn[0]:TextNode.from(Wn,Fn)),Fn=-1,Nn=Wn.length=0)}for(let Gn of Cn)zn(Gn);return Yn(),Dn.length==1?Dn[0]:new TextNode(Dn,$n)}}Text.empty=new TextLeaf([""],0);function textLength(Pn){let Cn=-1;for(let $n of Pn)Cn+=$n.length+1;return Cn}function appendText(Pn,Cn,$n=0,_n=1e9){for(let Rn=0,Bn=0,Ln=!0;Bn<Pn.length&&Rn<=_n;Bn++){let Dn=Pn[Bn],Nn=Rn+Dn.length;Nn>=$n&&(Nn>_n&&(Dn=Dn.slice(0,_n-Rn)),Rn<$n&&(Dn=Dn.slice($n-Rn)),Ln?(Cn[Cn.length-1]+=Dn,Ln=!1):Cn.push(Dn)),Rn=Nn+1}return Cn}function sliceText(Pn,Cn,$n){return appendText(Pn,[""],Cn,$n)}class RawTextCursor{constructor(Cn,$n=1){this.dir=$n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Cn],this.offsets=[$n>0?1:(Cn instanceof TextLeaf?Cn.text.length:Cn.children.length)<<1]}nextInner(Cn,$n){for(this.done=this.lineBreak=!1;;){let _n=this.nodes.length-1,Rn=this.nodes[_n],Bn=this.offsets[_n],Ln=Bn>>1,Dn=Rn instanceof TextLeaf?Rn.text.length:Rn.children.length;if(Ln==($n>0?Dn:0)){if(_n==0)return this.done=!0,this.value="",this;$n>0&&this.offsets[_n-1]++,this.nodes.pop(),this.offsets.pop()}else if((Bn&1)==($n>0?0:1)){if(this.offsets[_n]+=$n,Cn==0)return this.lineBreak=!0,this.value=`
`,this;Cn--}else if(Rn instanceof TextLeaf){let Nn=Rn.text[Ln+($n<0?-1:0)];if(this.offsets[_n]+=$n,Nn.length>Math.max(0,Cn))return this.value=Cn==0?Nn:$n>0?Nn.slice(Cn):Nn.slice(0,Nn.length-Cn),this;Cn-=Nn.length}else{let Nn=Rn.children[Ln+($n<0?-1:0)];Cn>Nn.length?(Cn-=Nn.length,this.offsets[_n]+=$n):($n<0&&this.offsets[_n]--,this.nodes.push(Nn),this.offsets.push($n>0?1:(Nn instanceof TextLeaf?Nn.text.length:Nn.children.length)<<1))}}}next(Cn=0){return Cn<0&&(this.nextInner(-Cn,-this.dir),Cn=this.value.length),this.nextInner(Cn,this.dir)}}class PartialTextCursor{constructor(Cn,$n,_n){this.value="",this.done=!1,this.cursor=new RawTextCursor(Cn,$n>_n?-1:1),this.pos=$n>_n?Cn.length:0,this.from=Math.min($n,_n),this.to=Math.max($n,_n)}nextInner(Cn,$n){if($n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Cn+=Math.max(0,$n<0?this.pos-this.to:this.from-this.pos);let _n=$n<0?this.pos-this.from:this.to-this.pos;Cn>_n&&(Cn=_n),_n-=Cn;let{value:Rn}=this.cursor.next(Cn);return this.pos+=(Rn.length+Cn)*$n,this.value=Rn.length<=_n?Rn:$n<0?Rn.slice(Rn.length-_n):Rn.slice(0,_n),this.done=!this.value,this}next(Cn=0){return Cn<0?Cn=Math.max(Cn,this.from-this.pos):Cn>0&&(Cn=Math.min(Cn,this.to-this.pos)),this.nextInner(Cn,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(Cn){this.inner=Cn,this.afterBreak=!0,this.value="",this.done=!1}next(Cn=0){let{done:$n,lineBreak:_n,value:Rn}=this.inner.next(Cn);return $n&&this.afterBreak?(this.value="",this.afterBreak=!1):$n?(this.done=!0,this.value=""):_n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=Rn,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(Cn,$n,_n,Rn){this.from=Cn,this.to=$n,this.number=_n,this.text=Rn}get length(){return this.to-this.from}}function clip(Pn,Cn,$n){return Cn=Math.max(0,Math.min(Pn.length,Cn)),[Cn,Math.max(Cn,Math.min(Pn.length,$n))]}function findClusterBreak(Pn,Cn,$n=!0,_n=!0){return findClusterBreak$1(Pn,Cn,$n,_n)}function surrogateLow(Pn){return Pn>=56320&&Pn<57344}function surrogateHigh(Pn){return Pn>=55296&&Pn<56320}function codePointAt(Pn,Cn){let $n=Pn.charCodeAt(Cn);if(!surrogateHigh($n)||Cn+1==Pn.length)return $n;let _n=Pn.charCodeAt(Cn+1);return surrogateLow(_n)?($n-55296<<10)+(_n-56320)+65536:$n}function fromCodePoint(Pn){return Pn<=65535?String.fromCharCode(Pn):(Pn-=65536,String.fromCharCode((Pn>>10)+55296,(Pn&1023)+56320))}function codePointSize(Pn){return Pn<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(Pn){return Pn[Pn.Simple=0]="Simple",Pn[Pn.TrackDel=1]="TrackDel",Pn[Pn.TrackBefore=2]="TrackBefore",Pn[Pn.TrackAfter=3]="TrackAfter",Pn}(MapMode||(MapMode={}));class ChangeDesc{constructor(Cn){this.sections=Cn}get length(){let Cn=0;for(let $n=0;$n<this.sections.length;$n+=2)Cn+=this.sections[$n];return Cn}get newLength(){let Cn=0;for(let $n=0;$n<this.sections.length;$n+=2){let _n=this.sections[$n+1];Cn+=_n<0?this.sections[$n]:_n}return Cn}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Cn){for(let $n=0,_n=0,Rn=0;$n<this.sections.length;){let Bn=this.sections[$n++],Ln=this.sections[$n++];Ln<0?(Cn(_n,Rn,Bn),Rn+=Bn):Rn+=Ln,_n+=Bn}}iterChangedRanges(Cn,$n=!1){iterChanges(this,Cn,$n)}get invertedDesc(){let Cn=[];for(let $n=0;$n<this.sections.length;){let _n=this.sections[$n++],Rn=this.sections[$n++];Rn<0?Cn.push(_n,Rn):Cn.push(Rn,_n)}return new ChangeDesc(Cn)}composeDesc(Cn){return this.empty?Cn:Cn.empty?this:composeSets(this,Cn)}mapDesc(Cn,$n=!1){return Cn.empty?this:mapSet(this,Cn,$n)}mapPos(Cn,$n=-1,_n=MapMode.Simple){let Rn=0,Bn=0;for(let Ln=0;Ln<this.sections.length;){let Dn=this.sections[Ln++],Nn=this.sections[Ln++],Fn=Rn+Dn;if(Nn<0){if(Fn>Cn)return Bn+(Cn-Rn);Bn+=Dn}else{if(_n!=MapMode.Simple&&Fn>=Cn&&(_n==MapMode.TrackDel&&Rn<Cn&&Fn>Cn||_n==MapMode.TrackBefore&&Rn<Cn||_n==MapMode.TrackAfter&&Fn>Cn))return null;if(Fn>Cn||Fn==Cn&&$n<0&&!Dn)return Cn==Rn||$n<0?Bn:Bn+Nn;Bn+=Nn}Rn=Fn}if(Cn>Rn)throw new RangeError(`Position ${Cn} is out of range for changeset of length ${Rn}`);return Bn}touchesRange(Cn,$n=Cn){for(let _n=0,Rn=0;_n<this.sections.length&&Rn<=$n;){let Bn=this.sections[_n++],Ln=this.sections[_n++],Dn=Rn+Bn;if(Ln>=0&&Rn<=$n&&Dn>=Cn)return Rn<Cn&&Dn>$n?"cover":!0;Rn=Dn}return!1}toString(){let Cn="";for(let $n=0;$n<this.sections.length;){let _n=this.sections[$n++],Rn=this.sections[$n++];Cn+=(Cn?" ":"")+_n+(Rn>=0?":"+Rn:"")}return Cn}toJSON(){return this.sections}static fromJSON(Cn){if(!Array.isArray(Cn)||Cn.length%2||Cn.some($n=>typeof $n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(Cn)}static create(Cn){return new ChangeDesc(Cn)}}class ChangeSet extends ChangeDesc{constructor(Cn,$n){super(Cn),this.inserted=$n}apply(Cn){if(this.length!=Cn.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,($n,_n,Rn,Bn,Ln)=>Cn=Cn.replace(Rn,Rn+(_n-$n),Ln),!1),Cn}mapDesc(Cn,$n=!1){return mapSet(this,Cn,$n,!0)}invert(Cn){let $n=this.sections.slice(),_n=[];for(let Rn=0,Bn=0;Rn<$n.length;Rn+=2){let Ln=$n[Rn],Dn=$n[Rn+1];if(Dn>=0){$n[Rn]=Dn,$n[Rn+1]=Ln;let Nn=Rn>>1;for(;_n.length<Nn;)_n.push(Text.empty);_n.push(Ln?Cn.slice(Bn,Bn+Ln):Text.empty)}Bn+=Ln}return new ChangeSet($n,_n)}compose(Cn){return this.empty?Cn:Cn.empty?this:composeSets(this,Cn,!0)}map(Cn,$n=!1){return Cn.empty?this:mapSet(this,Cn,$n,!0)}iterChanges(Cn,$n=!1){iterChanges(this,Cn,$n)}get desc(){return ChangeDesc.create(this.sections)}filter(Cn){let $n=[],_n=[],Rn=[],Bn=new SectionIter(this);e:for(let Ln=0,Dn=0;;){let Nn=Ln==Cn.length?1e9:Cn[Ln++];for(;Dn<Nn||Dn==Nn&&Bn.len==0;){if(Bn.done)break e;let Wn=Math.min(Bn.len,Nn-Dn);addSection(Rn,Wn,-1);let zn=Bn.ins==-1?-1:Bn.off==0?Bn.ins:0;addSection($n,Wn,zn),zn>0&&addInsert(_n,$n,Bn.text),Bn.forward(Wn),Dn+=Wn}let Fn=Cn[Ln++];for(;Dn<Fn;){if(Bn.done)break e;let Wn=Math.min(Bn.len,Fn-Dn);addSection($n,Wn,-1),addSection(Rn,Wn,Bn.ins==-1?-1:Bn.off==0?Bn.ins:0),Bn.forward(Wn),Dn+=Wn}}return{changes:new ChangeSet($n,_n),filtered:ChangeDesc.create(Rn)}}toJSON(){let Cn=[];for(let $n=0;$n<this.sections.length;$n+=2){let _n=this.sections[$n],Rn=this.sections[$n+1];Rn<0?Cn.push(_n):Rn==0?Cn.push([_n]):Cn.push([_n].concat(this.inserted[$n>>1].toJSON()))}return Cn}static of(Cn,$n,_n){let Rn=[],Bn=[],Ln=0,Dn=null;function Nn(Wn=!1){if(!Wn&&!Rn.length)return;Ln<$n&&addSection(Rn,$n-Ln,-1);let zn=new ChangeSet(Rn,Bn);Dn=Dn?Dn.compose(zn.map(Dn)):zn,Rn=[],Bn=[],Ln=0}function Fn(Wn){if(Array.isArray(Wn))for(let zn of Wn)Fn(zn);else if(Wn instanceof ChangeSet){if(Wn.length!=$n)throw new RangeError(`Mismatched change set length (got ${Wn.length}, expected ${$n})`);Nn(),Dn=Dn?Dn.compose(Wn.map(Dn)):Wn}else{let{from:zn,to:Yn=zn,insert:Gn}=Wn;if(zn>Yn||zn<0||Yn>$n)throw new RangeError(`Invalid change range ${zn} to ${Yn} (in doc of length ${$n})`);let ei=Gn?typeof Gn=="string"?Text.of(Gn.split(_n||DefaultSplit)):Gn:Text.empty,ti=ei.length;if(zn==Yn&&ti==0)return;zn<Ln&&Nn(),zn>Ln&&addSection(Rn,zn-Ln,-1),addSection(Rn,Yn-zn,ti),addInsert(Bn,Rn,ei),Ln=Yn}}return Fn(Cn),Nn(!Dn),Dn}static empty(Cn){return new ChangeSet(Cn?[Cn,-1]:[],[])}static fromJSON(Cn){if(!Array.isArray(Cn))throw new RangeError("Invalid JSON representation of ChangeSet");let $n=[],_n=[];for(let Rn=0;Rn<Cn.length;Rn++){let Bn=Cn[Rn];if(typeof Bn=="number")$n.push(Bn,-1);else{if(!Array.isArray(Bn)||typeof Bn[0]!="number"||Bn.some((Ln,Dn)=>Dn&&typeof Ln!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(Bn.length==1)$n.push(Bn[0],0);else{for(;_n.length<Rn;)_n.push(Text.empty);_n[Rn]=Text.of(Bn.slice(1)),$n.push(Bn[0],_n[Rn].length)}}}return new ChangeSet($n,_n)}static createSet(Cn,$n){return new ChangeSet(Cn,$n)}}function addSection(Pn,Cn,$n,_n=!1){if(Cn==0&&$n<=0)return;let Rn=Pn.length-2;Rn>=0&&$n<=0&&$n==Pn[Rn+1]?Pn[Rn]+=Cn:Rn>=0&&Cn==0&&Pn[Rn]==0?Pn[Rn+1]+=$n:_n?(Pn[Rn]+=Cn,Pn[Rn+1]+=$n):Pn.push(Cn,$n)}function addInsert(Pn,Cn,$n){if($n.length==0)return;let _n=Cn.length-2>>1;if(_n<Pn.length)Pn[Pn.length-1]=Pn[Pn.length-1].append($n);else{for(;Pn.length<_n;)Pn.push(Text.empty);Pn.push($n)}}function iterChanges(Pn,Cn,$n){let _n=Pn.inserted;for(let Rn=0,Bn=0,Ln=0;Ln<Pn.sections.length;){let Dn=Pn.sections[Ln++],Nn=Pn.sections[Ln++];if(Nn<0)Rn+=Dn,Bn+=Dn;else{let Fn=Rn,Wn=Bn,zn=Text.empty;for(;Fn+=Dn,Wn+=Nn,Nn&&_n&&(zn=zn.append(_n[Ln-2>>1])),!($n||Ln==Pn.sections.length||Pn.sections[Ln+1]<0);)Dn=Pn.sections[Ln++],Nn=Pn.sections[Ln++];Cn(Rn,Fn,Bn,Wn,zn),Rn=Fn,Bn=Wn}}}function mapSet(Pn,Cn,$n,_n=!1){let Rn=[],Bn=_n?[]:null,Ln=new SectionIter(Pn),Dn=new SectionIter(Cn);for(let Nn=-1;;){if(Ln.done&&Dn.len||Dn.done&&Ln.len)throw new Error("Mismatched change set lengths");if(Ln.ins==-1&&Dn.ins==-1){let Fn=Math.min(Ln.len,Dn.len);addSection(Rn,Fn,-1),Ln.forward(Fn),Dn.forward(Fn)}else if(Dn.ins>=0&&(Ln.ins<0||Nn==Ln.i||Ln.off==0&&(Dn.len<Ln.len||Dn.len==Ln.len&&!$n))){let Fn=Dn.len;for(addSection(Rn,Dn.ins,-1);Fn;){let Wn=Math.min(Ln.len,Fn);Ln.ins>=0&&Nn<Ln.i&&Ln.len<=Wn&&(addSection(Rn,0,Ln.ins),Bn&&addInsert(Bn,Rn,Ln.text),Nn=Ln.i),Ln.forward(Wn),Fn-=Wn}Dn.next()}else if(Ln.ins>=0){let Fn=0,Wn=Ln.len;for(;Wn;)if(Dn.ins==-1){let zn=Math.min(Wn,Dn.len);Fn+=zn,Wn-=zn,Dn.forward(zn)}else if(Dn.ins==0&&Dn.len<Wn)Wn-=Dn.len,Dn.next();else break;addSection(Rn,Fn,Nn<Ln.i?Ln.ins:0),Bn&&Nn<Ln.i&&addInsert(Bn,Rn,Ln.text),Nn=Ln.i,Ln.forward(Ln.len-Wn)}else{if(Ln.done&&Dn.done)return Bn?ChangeSet.createSet(Rn,Bn):ChangeDesc.create(Rn);throw new Error("Mismatched change set lengths")}}}function composeSets(Pn,Cn,$n=!1){let _n=[],Rn=$n?[]:null,Bn=new SectionIter(Pn),Ln=new SectionIter(Cn);for(let Dn=!1;;){if(Bn.done&&Ln.done)return Rn?ChangeSet.createSet(_n,Rn):ChangeDesc.create(_n);if(Bn.ins==0)addSection(_n,Bn.len,0,Dn),Bn.next();else if(Ln.len==0&&!Ln.done)addSection(_n,0,Ln.ins,Dn),Rn&&addInsert(Rn,_n,Ln.text),Ln.next();else{if(Bn.done||Ln.done)throw new Error("Mismatched change set lengths");{let Nn=Math.min(Bn.len2,Ln.len),Fn=_n.length;if(Bn.ins==-1){let Wn=Ln.ins==-1?-1:Ln.off?0:Ln.ins;addSection(_n,Nn,Wn,Dn),Rn&&Wn&&addInsert(Rn,_n,Ln.text)}else Ln.ins==-1?(addSection(_n,Bn.off?0:Bn.len,Nn,Dn),Rn&&addInsert(Rn,_n,Bn.textBit(Nn))):(addSection(_n,Bn.off?0:Bn.len,Ln.off?0:Ln.ins,Dn),Rn&&!Ln.off&&addInsert(Rn,_n,Ln.text));Dn=(Bn.ins>Nn||Ln.ins>=0&&Ln.len>Nn)&&(Dn||_n.length>Fn),Bn.forward2(Nn),Ln.forward(Nn)}}}}class SectionIter{constructor(Cn){this.set=Cn,this.i=0,this.next()}next(){let{sections:Cn}=this.set;this.i<Cn.length?(this.len=Cn[this.i++],this.ins=Cn[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Cn}=this.set,$n=this.i-2>>1;return $n>=Cn.length?Text.empty:Cn[$n]}textBit(Cn){let{inserted:$n}=this.set,_n=this.i-2>>1;return _n>=$n.length&&!Cn?Text.empty:$n[_n].slice(this.off,Cn==null?void 0:this.off+Cn)}forward(Cn){Cn==this.len?this.next():(this.len-=Cn,this.off+=Cn)}forward2(Cn){this.ins==-1?this.forward(Cn):Cn==this.ins?this.next():(this.ins-=Cn,this.off+=Cn)}}class SelectionRange{constructor(Cn,$n,_n){this.from=Cn,this.to=$n,this.flags=_n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Cn=this.flags&7;return Cn==7?null:Cn}get goalColumn(){let Cn=this.flags>>6;return Cn==16777215?void 0:Cn}map(Cn,$n=-1){let _n,Rn;return this.empty?_n=Rn=Cn.mapPos(this.from,$n):(_n=Cn.mapPos(this.from,1),Rn=Cn.mapPos(this.to,-1)),_n==this.from&&Rn==this.to?this:new SelectionRange(_n,Rn,this.flags)}extend(Cn,$n=Cn){if(Cn<=this.anchor&&$n>=this.anchor)return EditorSelection.range(Cn,$n);let _n=Math.abs(Cn-this.anchor)>Math.abs($n-this.anchor)?Cn:$n;return EditorSelection.range(this.anchor,_n)}eq(Cn,$n=!1){return this.anchor==Cn.anchor&&this.head==Cn.head&&(!$n||!this.empty||this.assoc==Cn.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Cn){if(!Cn||typeof Cn.anchor!="number"||typeof Cn.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(Cn.anchor,Cn.head)}static create(Cn,$n,_n){return new SelectionRange(Cn,$n,_n)}}class EditorSelection{constructor(Cn,$n){this.ranges=Cn,this.mainIndex=$n}map(Cn,$n=-1){return Cn.empty?this:EditorSelection.create(this.ranges.map(_n=>_n.map(Cn,$n)),this.mainIndex)}eq(Cn,$n=!1){if(this.ranges.length!=Cn.ranges.length||this.mainIndex!=Cn.mainIndex)return!1;for(let _n=0;_n<this.ranges.length;_n++)if(!this.ranges[_n].eq(Cn.ranges[_n],$n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(Cn,$n=!0){return EditorSelection.create([Cn].concat(this.ranges),$n?0:this.mainIndex+1)}replaceRange(Cn,$n=this.mainIndex){let _n=this.ranges.slice();return _n[$n]=Cn,EditorSelection.create(_n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(Cn=>Cn.toJSON()),main:this.mainIndex}}static fromJSON(Cn){if(!Cn||!Array.isArray(Cn.ranges)||typeof Cn.main!="number"||Cn.main>=Cn.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(Cn.ranges.map($n=>SelectionRange.fromJSON($n)),Cn.main)}static single(Cn,$n=Cn){return new EditorSelection([EditorSelection.range(Cn,$n)],0)}static create(Cn,$n=0){if(Cn.length==0)throw new RangeError("A selection needs at least one range");for(let _n=0,Rn=0;Rn<Cn.length;Rn++){let Bn=Cn[Rn];if(Bn.empty?Bn.from<=_n:Bn.from<_n)return EditorSelection.normalized(Cn.slice(),$n);_n=Bn.to}return new EditorSelection(Cn,$n)}static cursor(Cn,$n=0,_n,Rn){return SelectionRange.create(Cn,Cn,($n==0?0:$n<0?8:16)|(_n==null?7:Math.min(6,_n))|(Rn??16777215)<<6)}static range(Cn,$n,_n,Rn){let Bn=(_n??16777215)<<6|(Rn==null?7:Math.min(6,Rn));return $n<Cn?SelectionRange.create($n,Cn,48|Bn):SelectionRange.create(Cn,$n,($n>Cn?8:0)|Bn)}static normalized(Cn,$n=0){let _n=Cn[$n];Cn.sort((Rn,Bn)=>Rn.from-Bn.from),$n=Cn.indexOf(_n);for(let Rn=1;Rn<Cn.length;Rn++){let Bn=Cn[Rn],Ln=Cn[Rn-1];if(Bn.empty?Bn.from<=Ln.to:Bn.from<Ln.to){let Dn=Ln.from,Nn=Math.max(Bn.to,Ln.to);Rn<=$n&&$n--,Cn.splice(--Rn,2,Bn.anchor>Bn.head?EditorSelection.range(Nn,Dn):EditorSelection.range(Dn,Nn))}}return new EditorSelection(Cn,$n)}}function checkSelection(Pn,Cn){for(let $n of Pn.ranges)if($n.to>Cn)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(Cn,$n,_n,Rn,Bn){this.combine=Cn,this.compareInput=$n,this.compare=_n,this.isStatic=Rn,this.id=nextID++,this.default=Cn([]),this.extensions=typeof Bn=="function"?Bn(this):Bn}get reader(){return this}static define(Cn={}){return new Facet(Cn.combine||($n=>$n),Cn.compareInput||(($n,_n)=>$n===_n),Cn.compare||(Cn.combine?($n,_n)=>$n===_n:sameArray$1),!!Cn.static,Cn.enables)}of(Cn){return new FacetProvider([],this,0,Cn)}compute(Cn,$n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Cn,this,1,$n)}computeN(Cn,$n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Cn,this,2,$n)}from(Cn,$n){return $n||($n=_n=>_n),this.compute([Cn],_n=>$n(_n.field(Cn)))}}function sameArray$1(Pn,Cn){return Pn==Cn||Pn.length==Cn.length&&Pn.every(($n,_n)=>$n===Cn[_n])}class FacetProvider{constructor(Cn,$n,_n,Rn){this.dependencies=Cn,this.facet=$n,this.type=_n,this.value=Rn,this.id=nextID++}dynamicSlot(Cn){var $n;let _n=this.value,Rn=this.facet.compareInput,Bn=this.id,Ln=Cn[Bn]>>1,Dn=this.type==2,Nn=!1,Fn=!1,Wn=[];for(let zn of this.dependencies)zn=="doc"?Nn=!0:zn=="selection"?Fn=!0:((($n=Cn[zn.id])!==null&&$n!==void 0?$n:1)&1)==0&&Wn.push(Cn[zn.id]);return{create(zn){return zn.values[Ln]=_n(zn),1},update(zn,Yn){if(Nn&&Yn.docChanged||Fn&&(Yn.docChanged||Yn.selection)||ensureAll(zn,Wn)){let Gn=_n(zn);if(Dn?!compareArray(Gn,zn.values[Ln],Rn):!Rn(Gn,zn.values[Ln]))return zn.values[Ln]=Gn,1}return 0},reconfigure:(zn,Yn)=>{let Gn,ei=Yn.config.address[Bn];if(ei!=null){let ti=getAddr(Yn,ei);if(this.dependencies.every(ii=>ii instanceof Facet?Yn.facet(ii)===zn.facet(ii):ii instanceof StateField?Yn.field(ii,!1)==zn.field(ii,!1):!0)||(Dn?compareArray(Gn=_n(zn),ti,Rn):Rn(Gn=_n(zn),ti)))return zn.values[Ln]=ti,0}else Gn=_n(zn);return zn.values[Ln]=Gn,1}}}}function compareArray(Pn,Cn,$n){if(Pn.length!=Cn.length)return!1;for(let _n=0;_n<Pn.length;_n++)if(!$n(Pn[_n],Cn[_n]))return!1;return!0}function ensureAll(Pn,Cn){let $n=!1;for(let _n of Cn)ensureAddr(Pn,_n)&1&&($n=!0);return $n}function dynamicFacetSlot(Pn,Cn,$n){let _n=$n.map(Nn=>Pn[Nn.id]),Rn=$n.map(Nn=>Nn.type),Bn=_n.filter(Nn=>!(Nn&1)),Ln=Pn[Cn.id]>>1;function Dn(Nn){let Fn=[];for(let Wn=0;Wn<_n.length;Wn++){let zn=getAddr(Nn,_n[Wn]);if(Rn[Wn]==2)for(let Yn of zn)Fn.push(Yn);else Fn.push(zn)}return Cn.combine(Fn)}return{create(Nn){for(let Fn of _n)ensureAddr(Nn,Fn);return Nn.values[Ln]=Dn(Nn),1},update(Nn,Fn){if(!ensureAll(Nn,Bn))return 0;let Wn=Dn(Nn);return Cn.compare(Wn,Nn.values[Ln])?0:(Nn.values[Ln]=Wn,1)},reconfigure(Nn,Fn){let Wn=ensureAll(Nn,_n),zn=Fn.config.facets[Cn.id],Yn=Fn.facet(Cn);if(zn&&!Wn&&sameArray$1($n,zn))return Nn.values[Ln]=Yn,0;let Gn=Dn(Nn);return Cn.compare(Gn,Yn)?(Nn.values[Ln]=Yn,0):(Nn.values[Ln]=Gn,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(Cn,$n,_n,Rn,Bn){this.id=Cn,this.createF=$n,this.updateF=_n,this.compareF=Rn,this.spec=Bn,this.provides=void 0}static define(Cn){let $n=new StateField(nextID++,Cn.create,Cn.update,Cn.compare||((_n,Rn)=>_n===Rn),Cn);return Cn.provide&&($n.provides=Cn.provide($n)),$n}create(Cn){let $n=Cn.facet(initField).find(_n=>_n.field==this);return(($n==null?void 0:$n.create)||this.createF)(Cn)}slot(Cn){let $n=Cn[this.id]>>1;return{create:_n=>(_n.values[$n]=this.create(_n),1),update:(_n,Rn)=>{let Bn=_n.values[$n],Ln=this.updateF(Bn,Rn);return this.compareF(Bn,Ln)?0:(_n.values[$n]=Ln,1)},reconfigure:(_n,Rn)=>{let Bn=_n.facet(initField),Ln=Rn.facet(initField),Dn;return(Dn=Bn.find(Nn=>Nn.field==this))&&Dn!=Ln.find(Nn=>Nn.field==this)?(_n.values[$n]=Dn.create(_n),1):Rn.config.address[this.id]!=null?(_n.values[$n]=Rn.field(this),0):(_n.values[$n]=this.create(_n),1)}}}init(Cn){return[this,initField.of({field:this,create:Cn})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(Pn){return Cn=>new PrecExtension(Cn,Pn)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(Cn,$n){this.inner=Cn,this.prec=$n}}class Compartment{of(Cn){return new CompartmentInstance(this,Cn)}reconfigure(Cn){return Compartment.reconfigure.of({compartment:this,extension:Cn})}get(Cn){return Cn.config.compartments.get(this)}}class CompartmentInstance{constructor(Cn,$n){this.compartment=Cn,this.inner=$n}}class Configuration{constructor(Cn,$n,_n,Rn,Bn,Ln){for(this.base=Cn,this.compartments=$n,this.dynamicSlots=_n,this.address=Rn,this.staticValues=Bn,this.facets=Ln,this.statusTemplate=[];this.statusTemplate.length<_n.length;)this.statusTemplate.push(0)}staticFacet(Cn){let $n=this.address[Cn.id];return $n==null?Cn.default:this.staticValues[$n>>1]}static resolve(Cn,$n,_n){let Rn=[],Bn=Object.create(null),Ln=new Map;for(let Yn of flatten(Cn,$n,Ln))Yn instanceof StateField?Rn.push(Yn):(Bn[Yn.facet.id]||(Bn[Yn.facet.id]=[])).push(Yn);let Dn=Object.create(null),Nn=[],Fn=[];for(let Yn of Rn)Dn[Yn.id]=Fn.length<<1,Fn.push(Gn=>Yn.slot(Gn));let Wn=_n==null?void 0:_n.config.facets;for(let Yn in Bn){let Gn=Bn[Yn],ei=Gn[0].facet,ti=Wn&&Wn[Yn]||[];if(Gn.every(ii=>ii.type==0))if(Dn[ei.id]=Nn.length<<1|1,sameArray$1(ti,Gn))Nn.push(_n.facet(ei));else{let ii=ei.combine(Gn.map(oi=>oi.value));Nn.push(_n&&ei.compare(ii,_n.facet(ei))?_n.facet(ei):ii)}else{for(let ii of Gn)ii.type==0?(Dn[ii.id]=Nn.length<<1|1,Nn.push(ii.value)):(Dn[ii.id]=Fn.length<<1,Fn.push(oi=>ii.dynamicSlot(oi)));Dn[ei.id]=Fn.length<<1,Fn.push(ii=>dynamicFacetSlot(ii,ei,Gn))}}let zn=Fn.map(Yn=>Yn(Dn));return new Configuration(Cn,Ln,zn,Dn,Nn,Bn)}}function flatten(Pn,Cn,$n){let _n=[[],[],[],[],[]],Rn=new Map;function Bn(Ln,Dn){let Nn=Rn.get(Ln);if(Nn!=null){if(Nn<=Dn)return;let Fn=_n[Nn].indexOf(Ln);Fn>-1&&_n[Nn].splice(Fn,1),Ln instanceof CompartmentInstance&&$n.delete(Ln.compartment)}if(Rn.set(Ln,Dn),Array.isArray(Ln))for(let Fn of Ln)Bn(Fn,Dn);else if(Ln instanceof CompartmentInstance){if($n.has(Ln.compartment))throw new RangeError("Duplicate use of compartment in extensions");let Fn=Cn.get(Ln.compartment)||Ln.inner;$n.set(Ln.compartment,Fn),Bn(Fn,Dn)}else if(Ln instanceof PrecExtension)Bn(Ln.inner,Ln.prec);else if(Ln instanceof StateField)_n[Dn].push(Ln),Ln.provides&&Bn(Ln.provides,Dn);else if(Ln instanceof FacetProvider)_n[Dn].push(Ln),Ln.facet.extensions&&Bn(Ln.facet.extensions,Prec_.default);else{let Fn=Ln.extension;if(!Fn)throw new Error(`Unrecognized extension value in extension set (${Ln}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);Bn(Fn,Dn)}}return Bn(Pn,Prec_.default),_n.reduce((Ln,Dn)=>Ln.concat(Dn))}function ensureAddr(Pn,Cn){if(Cn&1)return 2;let $n=Cn>>1,_n=Pn.status[$n];if(_n==4)throw new Error("Cyclic dependency between fields and/or facets");if(_n&2)return _n;Pn.status[$n]=4;let Rn=Pn.computeSlot(Pn,Pn.config.dynamicSlots[$n]);return Pn.status[$n]=2|Rn}function getAddr(Pn,Cn){return Cn&1?Pn.config.staticValues[Cn>>1]:Pn.values[Cn>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:Pn=>Pn.some(Cn=>Cn),static:!0}),lineSeparator=Facet.define({combine:Pn=>Pn.length?Pn[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:Pn=>Pn.length?Pn[0]:!1});class Annotation{constructor(Cn,$n){this.type=Cn,this.value=$n}static define(){return new AnnotationType}}class AnnotationType{of(Cn){return new Annotation(this,Cn)}}class StateEffectType{constructor(Cn){this.map=Cn}of(Cn){return new StateEffect(this,Cn)}}class StateEffect{constructor(Cn,$n){this.type=Cn,this.value=$n}map(Cn){let $n=this.type.map(this.value,Cn);return $n===void 0?void 0:$n==this.value?this:new StateEffect(this.type,$n)}is(Cn){return this.type==Cn}static define(Cn={}){return new StateEffectType(Cn.map||($n=>$n))}static mapEffects(Cn,$n){if(!Cn.length)return Cn;let _n=[];for(let Rn of Cn){let Bn=Rn.map($n);Bn&&_n.push(Bn)}return _n}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(Cn,$n,_n,Rn,Bn,Ln){this.startState=Cn,this.changes=$n,this.selection=_n,this.effects=Rn,this.annotations=Bn,this.scrollIntoView=Ln,this._doc=null,this._state=null,_n&&checkSelection(_n,$n.newLength),Bn.some(Dn=>Dn.type==Transaction.time)||(this.annotations=Bn.concat(Transaction.time.of(Date.now())))}static create(Cn,$n,_n,Rn,Bn,Ln){return new Transaction(Cn,$n,_n,Rn,Bn,Ln)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(Cn){for(let $n of this.annotations)if($n.type==Cn)return $n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Cn){let $n=this.annotation(Transaction.userEvent);return!!($n&&($n==Cn||$n.length>Cn.length&&$n.slice(0,Cn.length)==Cn&&$n[Cn.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(Pn,Cn){let $n=[];for(let _n=0,Rn=0;;){let Bn,Ln;if(_n<Pn.length&&(Rn==Cn.length||Cn[Rn]>=Pn[_n]))Bn=Pn[_n++],Ln=Pn[_n++];else if(Rn<Cn.length)Bn=Cn[Rn++],Ln=Cn[Rn++];else return $n;!$n.length||$n[$n.length-1]<Bn?$n.push(Bn,Ln):$n[$n.length-1]<Ln&&($n[$n.length-1]=Ln)}}function mergeTransaction(Pn,Cn,$n){var _n;let Rn,Bn,Ln;return $n?(Rn=Cn.changes,Bn=ChangeSet.empty(Cn.changes.length),Ln=Pn.changes.compose(Cn.changes)):(Rn=Cn.changes.map(Pn.changes),Bn=Pn.changes.mapDesc(Cn.changes,!0),Ln=Pn.changes.compose(Rn)),{changes:Ln,selection:Cn.selection?Cn.selection.map(Bn):(_n=Pn.selection)===null||_n===void 0?void 0:_n.map(Rn),effects:StateEffect.mapEffects(Pn.effects,Rn).concat(StateEffect.mapEffects(Cn.effects,Bn)),annotations:Pn.annotations.length?Pn.annotations.concat(Cn.annotations):Cn.annotations,scrollIntoView:Pn.scrollIntoView||Cn.scrollIntoView}}function resolveTransactionInner(Pn,Cn,$n){let _n=Cn.selection,Rn=asArray$1(Cn.annotations);return Cn.userEvent&&(Rn=Rn.concat(Transaction.userEvent.of(Cn.userEvent))),{changes:Cn.changes instanceof ChangeSet?Cn.changes:ChangeSet.of(Cn.changes||[],$n,Pn.facet(lineSeparator)),selection:_n&&(_n instanceof EditorSelection?_n:EditorSelection.single(_n.anchor,_n.head)),effects:asArray$1(Cn.effects),annotations:Rn,scrollIntoView:!!Cn.scrollIntoView}}function resolveTransaction(Pn,Cn,$n){let _n=resolveTransactionInner(Pn,Cn.length?Cn[0]:{},Pn.doc.length);Cn.length&&Cn[0].filter===!1&&($n=!1);for(let Bn=1;Bn<Cn.length;Bn++){Cn[Bn].filter===!1&&($n=!1);let Ln=!!Cn[Bn].sequential;_n=mergeTransaction(_n,resolveTransactionInner(Pn,Cn[Bn],Ln?_n.changes.newLength:Pn.doc.length),Ln)}let Rn=Transaction.create(Pn,_n.changes,_n.selection,_n.effects,_n.annotations,_n.scrollIntoView);return extendTransaction($n?filterTransaction(Rn):Rn)}function filterTransaction(Pn){let Cn=Pn.startState,$n=!0;for(let Rn of Cn.facet(changeFilter)){let Bn=Rn(Pn);if(Bn===!1){$n=!1;break}Array.isArray(Bn)&&($n=$n===!0?Bn:joinRanges($n,Bn))}if($n!==!0){let Rn,Bn;if($n===!1)Bn=Pn.changes.invertedDesc,Rn=ChangeSet.empty(Cn.doc.length);else{let Ln=Pn.changes.filter($n);Rn=Ln.changes,Bn=Ln.filtered.mapDesc(Ln.changes).invertedDesc}Pn=Transaction.create(Cn,Rn,Pn.selection&&Pn.selection.map(Bn),StateEffect.mapEffects(Pn.effects,Bn),Pn.annotations,Pn.scrollIntoView)}let _n=Cn.facet(transactionFilter);for(let Rn=_n.length-1;Rn>=0;Rn--){let Bn=_n[Rn](Pn);Bn instanceof Transaction?Pn=Bn:Array.isArray(Bn)&&Bn.length==1&&Bn[0]instanceof Transaction?Pn=Bn[0]:Pn=resolveTransaction(Cn,asArray$1(Bn),!1)}return Pn}function extendTransaction(Pn){let Cn=Pn.startState,$n=Cn.facet(transactionExtender),_n=Pn;for(let Rn=$n.length-1;Rn>=0;Rn--){let Bn=$n[Rn](Pn);Bn&&Object.keys(Bn).length&&(_n=mergeTransaction(_n,resolveTransactionInner(Cn,Bn,Pn.changes.newLength),!0))}return _n==Pn?Pn:Transaction.create(Cn,Pn.changes,Pn.selection,_n.effects,_n.annotations,_n.scrollIntoView)}const none$2=[];function asArray$1(Pn){return Pn==null?none$2:Array.isArray(Pn)?Pn:[Pn]}var CharCategory=function(Pn){return Pn[Pn.Word=0]="Word",Pn[Pn.Space=1]="Space",Pn[Pn.Other=2]="Other",Pn}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(Pn){if(wordChar)return wordChar.test(Pn);for(let Cn=0;Cn<Pn.length;Cn++){let $n=Pn[Cn];if(/\w/.test($n)||$n>""&&($n.toUpperCase()!=$n.toLowerCase()||nonASCIISingleCaseWordChar.test($n)))return!0}return!1}function makeCategorizer(Pn){return Cn=>{if(!/\S/.test(Cn))return CharCategory.Space;if(hasWordChar(Cn))return CharCategory.Word;for(let $n=0;$n<Pn.length;$n++)if(Cn.indexOf(Pn[$n])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(Cn,$n,_n,Rn,Bn,Ln){this.config=Cn,this.doc=$n,this.selection=_n,this.values=Rn,this.status=Cn.statusTemplate.slice(),this.computeSlot=Bn,Ln&&(Ln._state=this);for(let Dn=0;Dn<this.config.dynamicSlots.length;Dn++)ensureAddr(this,Dn<<1);this.computeSlot=null}field(Cn,$n=!0){let _n=this.config.address[Cn.id];if(_n==null){if($n)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,_n),getAddr(this,_n)}update(...Cn){return resolveTransaction(this,Cn,!0)}applyTransaction(Cn){let $n=this.config,{base:_n,compartments:Rn}=$n;for(let Dn of Cn.effects)Dn.is(Compartment.reconfigure)?($n&&(Rn=new Map,$n.compartments.forEach((Nn,Fn)=>Rn.set(Fn,Nn)),$n=null),Rn.set(Dn.value.compartment,Dn.value.extension)):Dn.is(StateEffect.reconfigure)?($n=null,_n=Dn.value):Dn.is(StateEffect.appendConfig)&&($n=null,_n=asArray$1(_n).concat(Dn.value));let Bn;$n?Bn=Cn.startState.values.slice():($n=Configuration.resolve(_n,Rn,this),Bn=new EditorState($n,this.doc,this.selection,$n.dynamicSlots.map(()=>null),(Nn,Fn)=>Fn.reconfigure(Nn,this),null).values);let Ln=Cn.startState.facet(allowMultipleSelections)?Cn.newSelection:Cn.newSelection.asSingle();new EditorState($n,Cn.newDoc,Ln,Bn,(Dn,Nn)=>Nn.update(Dn,Cn),Cn)}replaceSelection(Cn){return typeof Cn=="string"&&(Cn=this.toText(Cn)),this.changeByRange($n=>({changes:{from:$n.from,to:$n.to,insert:Cn},range:EditorSelection.cursor($n.from+Cn.length)}))}changeByRange(Cn){let $n=this.selection,_n=Cn($n.ranges[0]),Rn=this.changes(_n.changes),Bn=[_n.range],Ln=asArray$1(_n.effects);for(let Dn=1;Dn<$n.ranges.length;Dn++){let Nn=Cn($n.ranges[Dn]),Fn=this.changes(Nn.changes),Wn=Fn.map(Rn);for(let Yn=0;Yn<Dn;Yn++)Bn[Yn]=Bn[Yn].map(Wn);let zn=Rn.mapDesc(Fn,!0);Bn.push(Nn.range.map(zn)),Rn=Rn.compose(Wn),Ln=StateEffect.mapEffects(Ln,Wn).concat(StateEffect.mapEffects(asArray$1(Nn.effects),zn))}return{changes:Rn,selection:EditorSelection.create(Bn,$n.mainIndex),effects:Ln}}changes(Cn=[]){return Cn instanceof ChangeSet?Cn:ChangeSet.of(Cn,this.doc.length,this.facet(EditorState.lineSeparator))}toText(Cn){return Text.of(Cn.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(Cn=0,$n=this.doc.length){return this.doc.sliceString(Cn,$n,this.lineBreak)}facet(Cn){let $n=this.config.address[Cn.id];return $n==null?Cn.default:(ensureAddr(this,$n),getAddr(this,$n))}toJSON(Cn){let $n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Cn)for(let _n in Cn){let Rn=Cn[_n];Rn instanceof StateField&&this.config.address[Rn.id]!=null&&($n[_n]=Rn.spec.toJSON(this.field(Cn[_n]),this))}return $n}static fromJSON(Cn,$n={},_n){if(!Cn||typeof Cn.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let Rn=[];if(_n){for(let Bn in _n)if(Object.prototype.hasOwnProperty.call(Cn,Bn)){let Ln=_n[Bn],Dn=Cn[Bn];Rn.push(Ln.init(Nn=>Ln.spec.fromJSON(Dn,Nn)))}}return EditorState.create({doc:Cn.doc,selection:EditorSelection.fromJSON(Cn.selection),extensions:$n.extensions?Rn.concat([$n.extensions]):Rn})}static create(Cn={}){let $n=Configuration.resolve(Cn.extensions||[],new Map),_n=Cn.doc instanceof Text?Cn.doc:Text.of((Cn.doc||"").split($n.staticFacet(EditorState.lineSeparator)||DefaultSplit)),Rn=Cn.selection?Cn.selection instanceof EditorSelection?Cn.selection:EditorSelection.single(Cn.selection.anchor,Cn.selection.head):EditorSelection.single(0);return checkSelection(Rn,_n.length),$n.staticFacet(allowMultipleSelections)||(Rn=Rn.asSingle()),new EditorState($n,_n,Rn,$n.dynamicSlots.map(()=>null),(Bn,Ln)=>Ln.create(Bn),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(Cn,...$n){for(let _n of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(_n,Cn)){Cn=_n[Cn];break}return $n.length&&(Cn=Cn.replace(/\$(\$|\d*)/g,(_n,Rn)=>{if(Rn=="$")return"$";let Bn=+(Rn||1);return!Bn||Bn>$n.length?_n:$n[Bn-1]})),Cn}languageDataAt(Cn,$n,_n=-1){let Rn=[];for(let Bn of this.facet(languageData))for(let Ln of Bn(this,$n,_n))Object.prototype.hasOwnProperty.call(Ln,Cn)&&Rn.push(Ln[Cn]);return Rn}charCategorizer(Cn){return makeCategorizer(this.languageDataAt("wordChars",Cn).join(""))}wordAt(Cn){let{text:$n,from:_n,length:Rn}=this.doc.lineAt(Cn),Bn=this.charCategorizer(Cn),Ln=Cn-_n,Dn=Cn-_n;for(;Ln>0;){let Nn=findClusterBreak($n,Ln,!1);if(Bn($n.slice(Nn,Ln))!=CharCategory.Word)break;Ln=Nn}for(;Dn<Rn;){let Nn=findClusterBreak($n,Dn);if(Bn($n.slice(Dn,Nn))!=CharCategory.Word)break;Dn=Nn}return Ln==Dn?null:EditorSelection.range(Ln+_n,Dn+_n)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:Pn=>Pn.length?Pn[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(Pn,Cn){let $n=Object.keys(Pn),_n=Object.keys(Cn);return $n.length==_n.length&&$n.every(Rn=>Pn[Rn]==Cn[Rn])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(Pn,Cn,$n={}){let _n={};for(let Rn of Pn)for(let Bn of Object.keys(Rn)){let Ln=Rn[Bn],Dn=_n[Bn];if(Dn===void 0)_n[Bn]=Ln;else if(!(Dn===Ln||Ln===void 0))if(Object.hasOwnProperty.call($n,Bn))_n[Bn]=$n[Bn](Dn,Ln);else throw new Error("Config merge conflict for field "+Bn)}for(let Rn in Cn)_n[Rn]===void 0&&(_n[Rn]=Cn[Rn]);return _n}class RangeValue{eq(Cn){return this==Cn}range(Cn,$n=Cn){return Range$1.create(Cn,$n,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Jh{constructor(Cn,$n,_n){this.from=Cn,this.to=$n,this.value=_n}static create(Cn,$n,_n){return new Jh(Cn,$n,_n)}};function cmpRange(Pn,Cn){return Pn.from-Cn.from||Pn.value.startSide-Cn.value.startSide}class Chunk{constructor(Cn,$n,_n,Rn){this.from=Cn,this.to=$n,this.value=_n,this.maxPoint=Rn}get length(){return this.to[this.to.length-1]}findIndex(Cn,$n,_n,Rn=0){let Bn=_n?this.to:this.from;for(let Ln=Rn,Dn=Bn.length;;){if(Ln==Dn)return Ln;let Nn=Ln+Dn>>1,Fn=Bn[Nn]-Cn||(_n?this.value[Nn].endSide:this.value[Nn].startSide)-$n;if(Nn==Ln)return Fn>=0?Ln:Dn;Fn>=0?Dn=Nn:Ln=Nn+1}}between(Cn,$n,_n,Rn){for(let Bn=this.findIndex($n,-1e9,!0),Ln=this.findIndex(_n,1e9,!1,Bn);Bn<Ln;Bn++)if(Rn(this.from[Bn]+Cn,this.to[Bn]+Cn,this.value[Bn])===!1)return!1}map(Cn,$n){let _n=[],Rn=[],Bn=[],Ln=-1,Dn=-1;for(let Nn=0;Nn<this.value.length;Nn++){let Fn=this.value[Nn],Wn=this.from[Nn]+Cn,zn=this.to[Nn]+Cn,Yn,Gn;if(Wn==zn){let ei=$n.mapPos(Wn,Fn.startSide,Fn.mapMode);if(ei==null||(Yn=Gn=ei,Fn.startSide!=Fn.endSide&&(Gn=$n.mapPos(Wn,Fn.endSide),Gn<Yn)))continue}else if(Yn=$n.mapPos(Wn,Fn.startSide),Gn=$n.mapPos(zn,Fn.endSide),Yn>Gn||Yn==Gn&&Fn.startSide>0&&Fn.endSide<=0)continue;(Gn-Yn||Fn.endSide-Fn.startSide)<0||(Ln<0&&(Ln=Yn),Fn.point&&(Dn=Math.max(Dn,Gn-Yn)),_n.push(Fn),Rn.push(Yn-Ln),Bn.push(Gn-Ln))}return{mapped:_n.length?new Chunk(Rn,Bn,_n,Dn):null,pos:Ln}}}class RangeSet{constructor(Cn,$n,_n,Rn){this.chunkPos=Cn,this.chunk=$n,this.nextLayer=_n,this.maxPoint=Rn}static create(Cn,$n,_n,Rn){return new RangeSet(Cn,$n,_n,Rn)}get length(){let Cn=this.chunk.length-1;return Cn<0?0:Math.max(this.chunkEnd(Cn),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Cn=this.nextLayer.size;for(let $n of this.chunk)Cn+=$n.value.length;return Cn}chunkEnd(Cn){return this.chunkPos[Cn]+this.chunk[Cn].length}update(Cn){let{add:$n=[],sort:_n=!1,filterFrom:Rn=0,filterTo:Bn=this.length}=Cn,Ln=Cn.filter;if($n.length==0&&!Ln)return this;if(_n&&($n=$n.slice().sort(cmpRange)),this.isEmpty)return $n.length?RangeSet.of($n):this;let Dn=new LayerCursor(this,null,-1).goto(0),Nn=0,Fn=[],Wn=new RangeSetBuilder;for(;Dn.value||Nn<$n.length;)if(Nn<$n.length&&(Dn.from-$n[Nn].from||Dn.startSide-$n[Nn].value.startSide)>=0){let zn=$n[Nn++];Wn.addInner(zn.from,zn.to,zn.value)||Fn.push(zn)}else Dn.rangeIndex==1&&Dn.chunkIndex<this.chunk.length&&(Nn==$n.length||this.chunkEnd(Dn.chunkIndex)<$n[Nn].from)&&(!Ln||Rn>this.chunkEnd(Dn.chunkIndex)||Bn<this.chunkPos[Dn.chunkIndex])&&Wn.addChunk(this.chunkPos[Dn.chunkIndex],this.chunk[Dn.chunkIndex])?Dn.nextChunk():((!Ln||Rn>Dn.to||Bn<Dn.from||Ln(Dn.from,Dn.to,Dn.value))&&(Wn.addInner(Dn.from,Dn.to,Dn.value)||Fn.push(Range$1.create(Dn.from,Dn.to,Dn.value))),Dn.next());return Wn.finishInner(this.nextLayer.isEmpty&&!Fn.length?RangeSet.empty:this.nextLayer.update({add:Fn,filter:Ln,filterFrom:Rn,filterTo:Bn}))}map(Cn){if(Cn.empty||this.isEmpty)return this;let $n=[],_n=[],Rn=-1;for(let Ln=0;Ln<this.chunk.length;Ln++){let Dn=this.chunkPos[Ln],Nn=this.chunk[Ln],Fn=Cn.touchesRange(Dn,Dn+Nn.length);if(Fn===!1)Rn=Math.max(Rn,Nn.maxPoint),$n.push(Nn),_n.push(Cn.mapPos(Dn));else if(Fn===!0){let{mapped:Wn,pos:zn}=Nn.map(Dn,Cn);Wn&&(Rn=Math.max(Rn,Wn.maxPoint),$n.push(Wn),_n.push(zn))}}let Bn=this.nextLayer.map(Cn);return $n.length==0?Bn:new RangeSet(_n,$n,Bn||RangeSet.empty,Rn)}between(Cn,$n,_n){if(!this.isEmpty){for(let Rn=0;Rn<this.chunk.length;Rn++){let Bn=this.chunkPos[Rn],Ln=this.chunk[Rn];if($n>=Bn&&Cn<=Bn+Ln.length&&Ln.between(Bn,Cn-Bn,$n-Bn,_n)===!1)return}this.nextLayer.between(Cn,$n,_n)}}iter(Cn=0){return HeapCursor.from([this]).goto(Cn)}get isEmpty(){return this.nextLayer==this}static iter(Cn,$n=0){return HeapCursor.from(Cn).goto($n)}static compare(Cn,$n,_n,Rn,Bn=-1){let Ln=Cn.filter(zn=>zn.maxPoint>0||!zn.isEmpty&&zn.maxPoint>=Bn),Dn=$n.filter(zn=>zn.maxPoint>0||!zn.isEmpty&&zn.maxPoint>=Bn),Nn=findSharedChunks(Ln,Dn,_n),Fn=new SpanCursor(Ln,Nn,Bn),Wn=new SpanCursor(Dn,Nn,Bn);_n.iterGaps((zn,Yn,Gn)=>compare(Fn,zn,Wn,Yn,Gn,Rn)),_n.empty&&_n.length==0&&compare(Fn,0,Wn,0,0,Rn)}static eq(Cn,$n,_n=0,Rn){Rn==null&&(Rn=999999999);let Bn=Cn.filter(Wn=>!Wn.isEmpty&&$n.indexOf(Wn)<0),Ln=$n.filter(Wn=>!Wn.isEmpty&&Cn.indexOf(Wn)<0);if(Bn.length!=Ln.length)return!1;if(!Bn.length)return!0;let Dn=findSharedChunks(Bn,Ln),Nn=new SpanCursor(Bn,Dn,0).goto(_n),Fn=new SpanCursor(Ln,Dn,0).goto(_n);for(;;){if(Nn.to!=Fn.to||!sameValues(Nn.active,Fn.active)||Nn.point&&(!Fn.point||!Nn.point.eq(Fn.point)))return!1;if(Nn.to>Rn)return!0;Nn.next(),Fn.next()}}static spans(Cn,$n,_n,Rn,Bn=-1){let Ln=new SpanCursor(Cn,null,Bn).goto($n),Dn=$n,Nn=Ln.openStart;for(;;){let Fn=Math.min(Ln.to,_n);if(Ln.point){let Wn=Ln.activeForPoint(Ln.to),zn=Ln.pointFrom<$n?Wn.length+1:Ln.point.startSide<0?Wn.length:Math.min(Wn.length,Nn);Rn.point(Dn,Fn,Ln.point,Wn,zn,Ln.pointRank),Nn=Math.min(Ln.openEnd(Fn),Wn.length)}else Fn>Dn&&(Rn.span(Dn,Fn,Ln.active,Nn),Nn=Ln.openEnd(Fn));if(Ln.to>_n)return Nn+(Ln.point&&Ln.to>_n?1:0);Dn=Ln.to,Ln.next()}}static of(Cn,$n=!1){let _n=new RangeSetBuilder;for(let Rn of Cn instanceof Range$1?[Cn]:$n?lazySort(Cn):Cn)_n.add(Rn.from,Rn.to,Rn.value);return _n.finish()}static join(Cn){if(!Cn.length)return RangeSet.empty;let $n=Cn[Cn.length-1];for(let _n=Cn.length-2;_n>=0;_n--)for(let Rn=Cn[_n];Rn!=RangeSet.empty;Rn=Rn.nextLayer)$n=new RangeSet(Rn.chunkPos,Rn.chunk,$n,Math.max(Rn.maxPoint,$n.maxPoint));return $n}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(Pn){if(Pn.length>1)for(let Cn=Pn[0],$n=1;$n<Pn.length;$n++){let _n=Pn[$n];if(cmpRange(Cn,_n)>0)return Pn.slice().sort(cmpRange);Cn=_n}return Pn}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(Cn){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Cn&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Cn,$n,_n){this.addInner(Cn,$n,_n)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(Cn,$n,_n)}addInner(Cn,$n,_n){let Rn=Cn-this.lastTo||_n.startSide-this.last.endSide;if(Rn<=0&&(Cn-this.lastFrom||_n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return Rn<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=Cn),this.from.push(Cn-this.chunkStart),this.to.push($n-this.chunkStart),this.last=_n,this.lastFrom=Cn,this.lastTo=$n,this.value.push(_n),_n.point&&(this.maxPoint=Math.max(this.maxPoint,$n-Cn)),!0)}addChunk(Cn,$n){if((Cn-this.lastTo||$n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,$n.maxPoint),this.chunks.push($n),this.chunkPos.push(Cn);let _n=$n.value.length-1;return this.last=$n.value[_n],this.lastFrom=$n.from[_n]+Cn,this.lastTo=$n.to[_n]+Cn,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(Cn){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return Cn;let $n=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Cn):Cn,this.setMaxPoint);return this.from=null,$n}}function findSharedChunks(Pn,Cn,$n){let _n=new Map;for(let Bn of Pn)for(let Ln=0;Ln<Bn.chunk.length;Ln++)Bn.chunk[Ln].maxPoint<=0&&_n.set(Bn.chunk[Ln],Bn.chunkPos[Ln]);let Rn=new Set;for(let Bn of Cn)for(let Ln=0;Ln<Bn.chunk.length;Ln++){let Dn=_n.get(Bn.chunk[Ln]);Dn!=null&&($n?$n.mapPos(Dn):Dn)==Bn.chunkPos[Ln]&&!($n!=null&&$n.touchesRange(Dn,Dn+Bn.chunk[Ln].length))&&Rn.add(Bn.chunk[Ln])}return Rn}class LayerCursor{constructor(Cn,$n,_n,Rn=0){this.layer=Cn,this.skip=$n,this.minPoint=_n,this.rank=Rn}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Cn,$n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Cn,$n,!1),this}gotoInner(Cn,$n,_n){for(;this.chunkIndex<this.layer.chunk.length;){let Rn=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(Rn)||this.layer.chunkEnd(this.chunkIndex)<Cn||Rn.maxPoint<this.minPoint))break;this.chunkIndex++,_n=!1}if(this.chunkIndex<this.layer.chunk.length){let Rn=this.layer.chunk[this.chunkIndex].findIndex(Cn-this.layer.chunkPos[this.chunkIndex],$n,!0);(!_n||this.rangeIndex<Rn)&&this.setRangeIndex(Rn)}this.next()}forward(Cn,$n){(this.to-Cn||this.endSide-$n)<0&&this.gotoInner(Cn,$n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Cn=this.layer.chunkPos[this.chunkIndex],$n=this.layer.chunk[this.chunkIndex],_n=Cn+$n.from[this.rangeIndex];if(this.from=_n,this.to=Cn+$n.to[this.rangeIndex],this.value=$n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Cn){if(Cn==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Cn}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Cn){return this.from-Cn.from||this.startSide-Cn.startSide||this.rank-Cn.rank||this.to-Cn.to||this.endSide-Cn.endSide}}class HeapCursor{constructor(Cn){this.heap=Cn}static from(Cn,$n=null,_n=-1){let Rn=[];for(let Bn=0;Bn<Cn.length;Bn++)for(let Ln=Cn[Bn];!Ln.isEmpty;Ln=Ln.nextLayer)Ln.maxPoint>=_n&&Rn.push(new LayerCursor(Ln,$n,_n,Bn));return Rn.length==1?Rn[0]:new HeapCursor(Rn)}get startSide(){return this.value?this.value.startSide:0}goto(Cn,$n=-1e9){for(let _n of this.heap)_n.goto(Cn,$n);for(let _n=this.heap.length>>1;_n>=0;_n--)heapBubble(this.heap,_n);return this.next(),this}forward(Cn,$n){for(let _n of this.heap)_n.forward(Cn,$n);for(let _n=this.heap.length>>1;_n>=0;_n--)heapBubble(this.heap,_n);(this.to-Cn||this.value.endSide-$n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Cn=this.heap[0];this.from=Cn.from,this.to=Cn.to,this.value=Cn.value,this.rank=Cn.rank,Cn.value&&Cn.next(),heapBubble(this.heap,0)}}}function heapBubble(Pn,Cn){for(let $n=Pn[Cn];;){let _n=(Cn<<1)+1;if(_n>=Pn.length)break;let Rn=Pn[_n];if(_n+1<Pn.length&&Rn.compare(Pn[_n+1])>=0&&(Rn=Pn[_n+1],_n++),$n.compare(Rn)<0)break;Pn[_n]=$n,Pn[Cn]=Rn,Cn=_n}}class SpanCursor{constructor(Cn,$n,_n){this.minPoint=_n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(Cn,$n,_n)}goto(Cn,$n=-1e9){return this.cursor.goto(Cn,$n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Cn,this.endSide=$n,this.openStart=-1,this.next(),this}forward(Cn,$n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-Cn||this.active[this.minActive].endSide-$n)<0;)this.removeActive(this.minActive);this.cursor.forward(Cn,$n)}removeActive(Cn){remove(this.active,Cn),remove(this.activeTo,Cn),remove(this.activeRank,Cn),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(Cn){let $n=0,{value:_n,to:Rn,rank:Bn}=this.cursor;for(;$n<this.activeRank.length&&(Bn-this.activeRank[$n]||Rn-this.activeTo[$n])>0;)$n++;insert(this.active,$n,_n),insert(this.activeTo,$n,Rn),insert(this.activeRank,$n,Bn),Cn&&insert(Cn,$n,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let Cn=this.to,$n=this.point;this.point=null;let _n=this.openStart<0?[]:null;for(;;){let Rn=this.minActive;if(Rn>-1&&(this.activeTo[Rn]-this.cursor.from||this.active[Rn].endSide-this.cursor.startSide)<0){if(this.activeTo[Rn]>Cn){this.to=this.activeTo[Rn],this.endSide=this.active[Rn].endSide;break}this.removeActive(Rn),_n&&remove(_n,Rn)}else if(this.cursor.value)if(this.cursor.from>Cn){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let Bn=this.cursor.value;if(!Bn.point)this.addActive(_n),this.cursor.next();else if($n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=Bn,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=Bn.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(_n){this.openStart=0;for(let Rn=_n.length-1;Rn>=0&&_n[Rn]<Cn;Rn--)this.openStart++}}activeForPoint(Cn){if(!this.active.length)return this.active;let $n=[];for(let _n=this.active.length-1;_n>=0&&!(this.activeRank[_n]<this.pointRank);_n--)(this.activeTo[_n]>Cn||this.activeTo[_n]==Cn&&this.active[_n].endSide>=this.point.endSide)&&$n.push(this.active[_n]);return $n.reverse()}openEnd(Cn){let $n=0;for(let _n=this.activeTo.length-1;_n>=0&&this.activeTo[_n]>Cn;_n--)$n++;return $n}}function compare(Pn,Cn,$n,_n,Rn,Bn){Pn.goto(Cn),$n.goto(_n);let Ln=_n+Rn,Dn=_n,Nn=_n-Cn;for(;;){let Fn=Pn.to+Nn-$n.to,Wn=Fn||Pn.endSide-$n.endSide,zn=Wn<0?Pn.to+Nn:$n.to,Yn=Math.min(zn,Ln);if(Pn.point||$n.point?Pn.point&&$n.point&&(Pn.point==$n.point||Pn.point.eq($n.point))&&sameValues(Pn.activeForPoint(Pn.to),$n.activeForPoint($n.to))||Bn.comparePoint(Dn,Yn,Pn.point,$n.point):Yn>Dn&&!sameValues(Pn.active,$n.active)&&Bn.compareRange(Dn,Yn,Pn.active,$n.active),zn>Ln)break;(Fn||Pn.openEnd!=$n.openEnd)&&Bn.boundChange&&Bn.boundChange(zn),Dn=zn,Wn<=0&&Pn.next(),Wn>=0&&$n.next()}}function sameValues(Pn,Cn){if(Pn.length!=Cn.length)return!1;for(let $n=0;$n<Pn.length;$n++)if(Pn[$n]!=Cn[$n]&&!Pn[$n].eq(Cn[$n]))return!1;return!0}function remove(Pn,Cn){for(let $n=Cn,_n=Pn.length-1;$n<_n;$n++)Pn[$n]=Pn[$n+1];Pn.pop()}function insert(Pn,Cn,$n){for(let _n=Pn.length-1;_n>=Cn;_n--)Pn[_n+1]=Pn[_n];Pn[Cn]=$n}function findMinIndex(Pn,Cn){let $n=-1,_n=1e9;for(let Rn=0;Rn<Cn.length;Rn++)(Cn[Rn]-_n||Pn[Rn].endSide-Pn[$n].endSide)<0&&($n=Rn,_n=Cn[Rn]);return $n}function countColumn(Pn,Cn,$n=Pn.length){let _n=0;for(let Rn=0;Rn<$n&&Rn<Pn.length;)Pn.charCodeAt(Rn)==9?(_n+=Cn-_n%Cn,Rn++):(_n++,Rn=findClusterBreak(Pn,Rn));return _n}function findColumn(Pn,Cn,$n,_n){for(let Rn=0,Bn=0;;){if(Bn>=Cn)return Rn;if(Rn==Pn.length)break;Bn+=Pn.charCodeAt(Rn)==9?$n-Bn%$n:1,Rn=findClusterBreak(Pn,Rn)}return _n===!0?-1:Pn.length}const C$1="",COUNT=typeof Symbol>"u"?"__"+C$1:Symbol.for(C$1),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(Cn,$n){this.rules=[];let{finish:_n}=$n||{};function Rn(Ln){return/^@/.test(Ln)?[Ln]:Ln.split(/,\s*/)}function Bn(Ln,Dn,Nn,Fn){let Wn=[],zn=/^@(\w+)\b/.exec(Ln[0]),Yn=zn&&zn[1]=="keyframes";if(zn&&Dn==null)return Nn.push(Ln[0]+";");for(let Gn in Dn){let ei=Dn[Gn];if(/&/.test(Gn))Bn(Gn.split(/,\s*/).map(ti=>Ln.map(ii=>ti.replace(/&/,ii))).reduce((ti,ii)=>ti.concat(ii)),ei,Nn);else if(ei&&typeof ei=="object"){if(!zn)throw new RangeError("The value of a property ("+Gn+") should be a primitive value.");Bn(Rn(Gn),ei,Wn,Yn)}else ei!=null&&Wn.push(Gn.replace(/_.*/,"").replace(/[A-Z]/g,ti=>"-"+ti.toLowerCase())+": "+ei+";")}(Wn.length||Yn)&&Nn.push((_n&&!zn&&!Fn?Ln.map(_n):Ln).join(", ")+" {"+Wn.join(" ")+"}")}for(let Ln in Cn)Bn(Rn(Ln),Cn[Ln],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Cn=top[COUNT]||1;return top[COUNT]=Cn+1,C$1+Cn.toString(36)}static mount(Cn,$n,_n){let Rn=Cn[SET],Bn=_n&&_n.nonce;Rn?Bn&&Rn.setNonce(Bn):Rn=new StyleSet(Cn,Bn),Rn.mount(Array.isArray($n)?$n:[$n],Cn)}}let adoptedSet=new Map;class StyleSet{constructor(Cn,$n){let _n=Cn.ownerDocument||Cn,Rn=_n.defaultView;if(!Cn.head&&Cn.adoptedStyleSheets&&Rn.CSSStyleSheet){let Bn=adoptedSet.get(_n);if(Bn)return Cn[SET]=Bn;this.sheet=new Rn.CSSStyleSheet,adoptedSet.set(_n,this)}else this.styleTag=_n.createElement("style"),$n&&this.styleTag.setAttribute("nonce",$n);this.modules=[],Cn[SET]=this}mount(Cn,$n){let _n=this.sheet,Rn=0,Bn=0;for(let Ln=0;Ln<Cn.length;Ln++){let Dn=Cn[Ln],Nn=this.modules.indexOf(Dn);if(Nn<Bn&&Nn>-1&&(this.modules.splice(Nn,1),Bn--,Nn=-1),Nn==-1){if(this.modules.splice(Bn++,0,Dn),_n)for(let Fn=0;Fn<Dn.rules.length;Fn++)_n.insertRule(Dn.rules[Fn],Rn++)}else{for(;Bn<Nn;)Rn+=this.modules[Bn++].rules.length;Rn+=Dn.rules.length,Bn++}}if(_n)$n.adoptedStyleSheets.indexOf(this.sheet)<0&&($n.adoptedStyleSheets=[this.sheet,...$n.adoptedStyleSheets]);else{let Ln="";for(let Nn=0;Nn<this.modules.length;Nn++)Ln+=this.modules[Nn].getRules()+`
`;this.styleTag.textContent=Ln;let Dn=$n.head||$n;this.styleTag.parentNode!=Dn&&Dn.insertBefore(this.styleTag,Dn.firstChild)}}setNonce(Cn){this.styleTag&&this.styleTag.getAttribute("nonce")!=Cn&&this.styleTag.setAttribute("nonce",Cn)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(Pn){var Cn=mac&&Pn.metaKey&&Pn.shiftKey&&!Pn.ctrlKey&&!Pn.altKey||ie$1&&Pn.shiftKey&&Pn.key&&Pn.key.length==1||Pn.key=="Unidentified",$n=!Cn&&Pn.key||(Pn.shiftKey?shift:base)[Pn.keyCode]||Pn.key||"Unidentified";return $n=="Esc"&&($n="Escape"),$n=="Del"&&($n="Delete"),$n=="Left"&&($n="ArrowLeft"),$n=="Up"&&($n="ArrowUp"),$n=="Right"&&($n="ArrowRight"),$n=="Down"&&($n="ArrowDown"),$n}function getSelection(Pn){let Cn;return Pn.nodeType==11?Cn=Pn.getSelection?Pn:Pn.ownerDocument:Cn=Pn,Cn.getSelection()}function contains(Pn,Cn){return Cn?Pn==Cn||Pn.contains(Cn.nodeType!=1?Cn.parentNode:Cn):!1}function hasSelection(Pn,Cn){if(!Cn.anchorNode)return!1;try{return contains(Pn,Cn.anchorNode)}catch{return!1}}function clientRectsFor(Pn){return Pn.nodeType==3?textRange(Pn,0,Pn.nodeValue.length).getClientRects():Pn.nodeType==1?Pn.getClientRects():[]}function isEquivalentPosition(Pn,Cn,$n,_n){return $n?scanFor(Pn,Cn,$n,_n,-1)||scanFor(Pn,Cn,$n,_n,1):!1}function domIndex(Pn){for(var Cn=0;;Cn++)if(Pn=Pn.previousSibling,!Pn)return Cn}function isBlockElement(Pn){return Pn.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(Pn.nodeName)}function scanFor(Pn,Cn,$n,_n,Rn){for(;;){if(Pn==$n&&Cn==_n)return!0;if(Cn==(Rn<0?0:maxOffset(Pn))){if(Pn.nodeName=="DIV")return!1;let Bn=Pn.parentNode;if(!Bn||Bn.nodeType!=1)return!1;Cn=domIndex(Pn)+(Rn<0?0:1),Pn=Bn}else if(Pn.nodeType==1){if(Pn=Pn.childNodes[Cn+(Rn<0?-1:0)],Pn.nodeType==1&&Pn.contentEditable=="false")return!1;Cn=Rn<0?maxOffset(Pn):0}else return!1}}function maxOffset(Pn){return Pn.nodeType==3?Pn.nodeValue.length:Pn.childNodes.length}function flattenRect(Pn,Cn){let $n=Cn?Pn.left:Pn.right;return{left:$n,right:$n,top:Pn.top,bottom:Pn.bottom}}function windowRect(Pn){let Cn=Pn.visualViewport;return Cn?{left:0,right:Cn.width,top:0,bottom:Cn.height}:{left:0,right:Pn.innerWidth,top:0,bottom:Pn.innerHeight}}function getScale(Pn,Cn){let $n=Cn.width/Pn.offsetWidth,_n=Cn.height/Pn.offsetHeight;return($n>.995&&$n<1.005||!isFinite($n)||Math.abs(Cn.width-Pn.offsetWidth)<1)&&($n=1),(_n>.995&&_n<1.005||!isFinite(_n)||Math.abs(Cn.height-Pn.offsetHeight)<1)&&(_n=1),{scaleX:$n,scaleY:_n}}function scrollRectIntoView(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn){let Nn=Pn.ownerDocument,Fn=Nn.defaultView||window;for(let Wn=Pn,zn=!1;Wn&&!zn;)if(Wn.nodeType==1){let Yn,Gn=Wn==Nn.body,ei=1,ti=1;if(Gn)Yn=windowRect(Fn);else{if(/^(fixed|sticky)$/.test(getComputedStyle(Wn).position)&&(zn=!0),Wn.scrollHeight<=Wn.clientHeight&&Wn.scrollWidth<=Wn.clientWidth){Wn=Wn.assignedSlot||Wn.parentNode;continue}let ai=Wn.getBoundingClientRect();({scaleX:ei,scaleY:ti}=getScale(Wn,ai)),Yn={left:ai.left,right:ai.left+Wn.clientWidth*ei,top:ai.top,bottom:ai.top+Wn.clientHeight*ti}}let ii=0,oi=0;if(Rn=="nearest")Cn.top<Yn.top?(oi=Cn.top-(Yn.top+Ln),$n>0&&Cn.bottom>Yn.bottom+oi&&(oi=Cn.bottom-Yn.bottom+Ln)):Cn.bottom>Yn.bottom&&(oi=Cn.bottom-Yn.bottom+Ln,$n<0&&Cn.top-oi<Yn.top&&(oi=Cn.top-(Yn.top+Ln)));else{let ai=Cn.bottom-Cn.top,fi=Yn.bottom-Yn.top;oi=(Rn=="center"&&ai<=fi?Cn.top+ai/2-fi/2:Rn=="start"||Rn=="center"&&$n<0?Cn.top-Ln:Cn.bottom-fi+Ln)-Yn.top}if(_n=="nearest"?Cn.left<Yn.left?(ii=Cn.left-(Yn.left+Bn),$n>0&&Cn.right>Yn.right+ii&&(ii=Cn.right-Yn.right+Bn)):Cn.right>Yn.right&&(ii=Cn.right-Yn.right+Bn,$n<0&&Cn.left<Yn.left+ii&&(ii=Cn.left-(Yn.left+Bn))):ii=(_n=="center"?Cn.left+(Cn.right-Cn.left)/2-(Yn.right-Yn.left)/2:_n=="start"==Dn?Cn.left-Bn:Cn.right-(Yn.right-Yn.left)+Bn)-Yn.left,ii||oi)if(Gn)Fn.scrollBy(ii,oi);else{let ai=0,fi=0;if(oi){let ui=Wn.scrollTop;Wn.scrollTop+=oi/ti,fi=(Wn.scrollTop-ui)*ti}if(ii){let ui=Wn.scrollLeft;Wn.scrollLeft+=ii/ei,ai=(Wn.scrollLeft-ui)*ei}Cn={left:Cn.left-ai,top:Cn.top-fi,right:Cn.right-ai,bottom:Cn.bottom-fi},ai&&Math.abs(ai-ii)<1&&(_n="nearest"),fi&&Math.abs(fi-oi)<1&&(Rn="nearest")}if(Gn)break;(Cn.top<Yn.top||Cn.bottom>Yn.bottom||Cn.left<Yn.left||Cn.right>Yn.right)&&(Cn={left:Math.max(Cn.left,Yn.left),right:Math.min(Cn.right,Yn.right),top:Math.max(Cn.top,Yn.top),bottom:Math.min(Cn.bottom,Yn.bottom)}),Wn=Wn.assignedSlot||Wn.parentNode}else if(Wn.nodeType==11)Wn=Wn.host;else break}function scrollableParents(Pn){let Cn=Pn.ownerDocument,$n,_n;for(let Rn=Pn.parentNode;Rn&&!(Rn==Cn.body||$n&&_n);)if(Rn.nodeType==1)!_n&&Rn.scrollHeight>Rn.clientHeight&&(_n=Rn),!$n&&Rn.scrollWidth>Rn.clientWidth&&($n=Rn),Rn=Rn.assignedSlot||Rn.parentNode;else if(Rn.nodeType==11)Rn=Rn.host;else break;return{x:$n,y:_n}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Cn){return this.anchorNode==Cn.anchorNode&&this.anchorOffset==Cn.anchorOffset&&this.focusNode==Cn.focusNode&&this.focusOffset==Cn.focusOffset}setRange(Cn){let{anchorNode:$n,focusNode:_n}=Cn;this.set($n,Math.min(Cn.anchorOffset,$n?maxOffset($n):0),_n,Math.min(Cn.focusOffset,_n?maxOffset(_n):0))}set(Cn,$n,_n,Rn){this.anchorNode=Cn,this.anchorOffset=$n,this.focusNode=_n,this.focusOffset=Rn}}let preventScrollSupported=null;function focusPreventScroll(Pn){if(Pn.setActive)return Pn.setActive();if(preventScrollSupported)return Pn.focus(preventScrollSupported);let Cn=[];for(let $n=Pn;$n&&(Cn.push($n,$n.scrollTop,$n.scrollLeft),$n!=$n.ownerDocument);$n=$n.parentNode);if(Pn.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let $n=0;$n<Cn.length;){let _n=Cn[$n++],Rn=Cn[$n++],Bn=Cn[$n++];_n.scrollTop!=Rn&&(_n.scrollTop=Rn),_n.scrollLeft!=Bn&&(_n.scrollLeft=Bn)}}}let scratchRange;function textRange(Pn,Cn,$n=Cn){let _n=scratchRange||(scratchRange=document.createRange());return _n.setEnd(Pn,$n),_n.setStart(Pn,Cn),_n}function dispatchKey(Pn,Cn,$n,_n){let Rn={key:Cn,code:Cn,keyCode:$n,which:$n,cancelable:!0};_n&&({altKey:Rn.altKey,ctrlKey:Rn.ctrlKey,shiftKey:Rn.shiftKey,metaKey:Rn.metaKey}=_n);let Bn=new KeyboardEvent("keydown",Rn);Bn.synthetic=!0,Pn.dispatchEvent(Bn);let Ln=new KeyboardEvent("keyup",Rn);return Ln.synthetic=!0,Pn.dispatchEvent(Ln),Bn.defaultPrevented||Ln.defaultPrevented}function getRoot(Pn){for(;Pn;){if(Pn&&(Pn.nodeType==9||Pn.nodeType==11&&Pn.host))return Pn;Pn=Pn.assignedSlot||Pn.parentNode}return null}function clearAttributes(Pn){for(;Pn.attributes.length;)Pn.removeAttributeNode(Pn.attributes[0])}function atElementStart(Pn,Cn){let $n=Cn.focusNode,_n=Cn.focusOffset;if(!$n||Cn.anchorNode!=$n||Cn.anchorOffset!=_n)return!1;for(_n=Math.min(_n,maxOffset($n));;)if(_n){if($n.nodeType!=1)return!1;let Rn=$n.childNodes[_n-1];Rn.contentEditable=="false"?_n--:($n=Rn,_n=maxOffset($n))}else{if($n==Pn)return!0;_n=domIndex($n),$n=$n.parentNode}}function isScrolledToBottom(Pn){return Pn.scrollTop>Math.max(1,Pn.scrollHeight-Pn.clientHeight-4)}function textNodeBefore(Pn,Cn){for(let $n=Pn,_n=Cn;;){if($n.nodeType==3&&_n>0)return{node:$n,offset:_n};if($n.nodeType==1&&_n>0){if($n.contentEditable=="false")return null;$n=$n.childNodes[_n-1],_n=maxOffset($n)}else if($n.parentNode&&!isBlockElement($n))_n=domIndex($n),$n=$n.parentNode;else return null}}function textNodeAfter(Pn,Cn){for(let $n=Pn,_n=Cn;;){if($n.nodeType==3&&_n<$n.nodeValue.length)return{node:$n,offset:_n};if($n.nodeType==1&&_n<$n.childNodes.length){if($n.contentEditable=="false")return null;$n=$n.childNodes[_n],_n=0}else if($n.parentNode&&!isBlockElement($n))_n=domIndex($n)+1,$n=$n.parentNode;else return null}}class DOMPos{constructor(Cn,$n,_n=!0){this.node=Cn,this.offset=$n,this.precise=_n}static before(Cn,$n){return new DOMPos(Cn.parentNode,domIndex(Cn),$n)}static after(Cn,$n){return new DOMPos(Cn.parentNode,domIndex(Cn)+1,$n)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Cn){let $n=this.posAtStart;for(let _n of this.children){if(_n==Cn)return $n;$n+=_n.length+_n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(Cn){return this.posBefore(Cn)+Cn.length}sync(Cn,$n){if(this.flags&2){let _n=this.dom,Rn=null,Bn;for(let Ln of this.children){if(Ln.flags&7){if(!Ln.dom&&(Bn=Rn?Rn.nextSibling:_n.firstChild)){let Dn=ContentView.get(Bn);(!Dn||!Dn.parent&&Dn.canReuseDOM(Ln))&&Ln.reuseDOM(Bn)}Ln.sync(Cn,$n),Ln.flags&=-8}if(Bn=Rn?Rn.nextSibling:_n.firstChild,$n&&!$n.written&&$n.node==_n&&Bn!=Ln.dom&&($n.written=!0),Ln.dom.parentNode==_n)for(;Bn&&Bn!=Ln.dom;)Bn=rm$1(Bn);else _n.insertBefore(Ln.dom,Bn);Rn=Ln.dom}for(Bn=Rn?Rn.nextSibling:_n.firstChild,Bn&&$n&&$n.node==_n&&($n.written=!0);Bn;)Bn=rm$1(Bn)}else if(this.flags&1)for(let _n of this.children)_n.flags&7&&(_n.sync(Cn,$n),_n.flags&=-8)}reuseDOM(Cn){}localPosFromDOM(Cn,$n){let _n;if(Cn==this.dom)_n=this.dom.childNodes[$n];else{let Rn=maxOffset(Cn)==0?0:$n==0?-1:1;for(;;){let Bn=Cn.parentNode;if(Bn==this.dom)break;Rn==0&&Bn.firstChild!=Bn.lastChild&&(Cn==Bn.firstChild?Rn=-1:Rn=1),Cn=Bn}Rn<0?_n=Cn:_n=Cn.nextSibling}if(_n==this.dom.firstChild)return 0;for(;_n&&!ContentView.get(_n);)_n=_n.nextSibling;if(!_n)return this.length;for(let Rn=0,Bn=0;;Rn++){let Ln=this.children[Rn];if(Ln.dom==_n)return Bn;Bn+=Ln.length+Ln.breakAfter}}domBoundsAround(Cn,$n,_n=0){let Rn=-1,Bn=-1,Ln=-1,Dn=-1;for(let Nn=0,Fn=_n,Wn=_n;Nn<this.children.length;Nn++){let zn=this.children[Nn],Yn=Fn+zn.length;if(Fn<Cn&&Yn>$n)return zn.domBoundsAround(Cn,$n,Fn);if(Yn>=Cn&&Rn==-1&&(Rn=Nn,Bn=Fn),Fn>$n&&zn.dom.parentNode==this.dom){Ln=Nn,Dn=Wn;break}Wn=Yn,Fn=Yn+zn.breakAfter}return{from:Bn,to:Dn<0?_n+this.length:Dn,startDOM:(Rn?this.children[Rn-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:Ln<this.children.length&&Ln>=0?this.children[Ln].dom:null}}markDirty(Cn=!1){this.flags|=2,this.markParentsDirty(Cn)}markParentsDirty(Cn){for(let $n=this.parent;$n;$n=$n.parent){if(Cn&&($n.flags|=2),$n.flags&1)return;$n.flags|=1,Cn=!1}}setParent(Cn){this.parent!=Cn&&(this.parent=Cn,this.flags&7&&this.markParentsDirty(!0))}setDOM(Cn){this.dom!=Cn&&(this.dom&&(this.dom.cmView=null),this.dom=Cn,Cn.cmView=this)}get rootView(){for(let Cn=this;;){let $n=Cn.parent;if(!$n)return Cn;Cn=$n}}replaceChildren(Cn,$n,_n=noChildren){this.markDirty();for(let Rn=Cn;Rn<$n;Rn++){let Bn=this.children[Rn];Bn.parent==this&&_n.indexOf(Bn)<0&&Bn.destroy()}_n.length<250?this.children.splice(Cn,$n-Cn,..._n):this.children=[].concat(this.children.slice(0,Cn),_n,this.children.slice($n));for(let Rn=0;Rn<_n.length;Rn++)_n[Rn].setParent(this)}ignoreMutation(Cn){return!1}ignoreEvent(Cn){return!1}childCursor(Cn=this.length){return new ChildCursor(this.children,Cn,this.children.length)}childPos(Cn,$n=1){return this.childCursor().findPos(Cn,$n)}toString(){let Cn=this.constructor.name.replace("View","");return Cn+(this.children.length?"("+this.children.join()+")":this.length?"["+(Cn=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(Cn){return Cn.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(Cn,$n,_n,Rn,Bn,Ln){return!1}become(Cn){return!1}canReuseDOM(Cn){return Cn.constructor==this.constructor&&!((this.flags|Cn.flags)&8)}getSide(){return 0}destroy(){for(let Cn of this.children)Cn.parent==this&&Cn.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(Pn){let Cn=Pn.nextSibling;return Pn.parentNode.removeChild(Pn),Cn}class ChildCursor{constructor(Cn,$n,_n){this.children=Cn,this.pos=$n,this.i=_n,this.off=0}findPos(Cn,$n=1){for(;;){if(Cn>this.pos||Cn==this.pos&&($n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=Cn-this.pos,this;let _n=this.children[--this.i];this.pos-=_n.length+_n.breakAfter}}}function replaceRange(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn,Nn){let{children:Fn}=Pn,Wn=Fn.length?Fn[Cn]:null,zn=Bn.length?Bn[Bn.length-1]:null,Yn=zn?zn.breakAfter:Ln;if(!(Cn==_n&&Wn&&!Ln&&!Yn&&Bn.length<2&&Wn.merge($n,Rn,Bn.length?zn:null,$n==0,Dn,Nn))){if(_n<Fn.length){let Gn=Fn[_n];Gn&&(Rn<Gn.length||Gn.breakAfter&&(zn!=null&&zn.breakAfter))?(Cn==_n&&(Gn=Gn.split(Rn),Rn=0),!Yn&&zn&&Gn.merge(0,Rn,zn,!0,0,Nn)?Bn[Bn.length-1]=Gn:((Rn||Gn.children.length&&!Gn.children[0].length)&&Gn.merge(0,Rn,null,!1,0,Nn),Bn.push(Gn))):Gn!=null&&Gn.breakAfter&&(zn?zn.breakAfter=1:Ln=1),_n++}for(Wn&&(Wn.breakAfter=Ln,$n>0&&(!Ln&&Bn.length&&Wn.merge($n,Wn.length,Bn[0],!1,Dn,0)?Wn.breakAfter=Bn.shift().breakAfter:($n<Wn.length||Wn.children.length&&Wn.children[Wn.children.length-1].length==0)&&Wn.merge($n,Wn.length,null,!1,Dn,0),Cn++));Cn<_n&&Bn.length;)if(Fn[_n-1].become(Bn[Bn.length-1]))_n--,Bn.pop(),Nn=Bn.length?0:Dn;else if(Fn[Cn].become(Bn[0]))Cn++,Bn.shift(),Dn=Bn.length?0:Nn;else break;!Bn.length&&Cn&&_n<Fn.length&&!Fn[Cn-1].breakAfter&&Fn[_n].merge(0,0,Fn[Cn-1],!1,Dn,Nn)&&Cn--,(Cn<_n||Bn.length)&&Pn.replaceChildren(Cn,_n,Bn)}}function mergeChildrenInto(Pn,Cn,$n,_n,Rn,Bn){let Ln=Pn.childCursor(),{i:Dn,off:Nn}=Ln.findPos($n,1),{i:Fn,off:Wn}=Ln.findPos(Cn,-1),zn=Cn-$n;for(let Yn of _n)zn+=Yn.length;Pn.length+=zn,replaceRange(Pn,Fn,Wn,Dn,Nn,_n,0,Rn,Bn)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(Cn){super(),this.text=Cn}get length(){return this.text.length}createDOM(Cn){this.setDOM(Cn||document.createTextNode(this.text))}sync(Cn,$n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&($n&&$n.node==this.dom&&($n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(Cn){Cn.nodeType==3&&this.createDOM(Cn)}merge(Cn,$n,_n){return this.flags&8||_n&&(!(_n instanceof TextView)||this.length-($n-Cn)+_n.length>MaxJoinLen||_n.flags&8)?!1:(this.text=this.text.slice(0,Cn)+(_n?_n.text:"")+this.text.slice($n),this.markDirty(),!0)}split(Cn){let $n=new TextView(this.text.slice(Cn));return this.text=this.text.slice(0,Cn),this.markDirty(),$n.flags|=this.flags&8,$n}localPosFromDOM(Cn,$n){return Cn==this.dom?$n:$n?this.text.length:0}domAtPos(Cn){return new DOMPos(this.dom,Cn)}domBoundsAround(Cn,$n,_n){return{from:_n,to:_n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(Cn,$n){return textCoords(this.dom,Cn,$n)}}class MarkView extends ContentView{constructor(Cn,$n=[],_n=0){super(),this.mark=Cn,this.children=$n,this.length=_n;for(let Rn of $n)Rn.setParent(this)}setAttrs(Cn){if(clearAttributes(Cn),this.mark.class&&(Cn.className=this.mark.class),this.mark.attrs)for(let $n in this.mark.attrs)Cn.setAttribute($n,this.mark.attrs[$n]);return Cn}canReuseDOM(Cn){return super.canReuseDOM(Cn)&&!((this.flags|Cn.flags)&8)}reuseDOM(Cn){Cn.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(Cn),this.flags|=6)}sync(Cn,$n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(Cn,$n)}merge(Cn,$n,_n,Rn,Bn,Ln){return _n&&(!(_n instanceof MarkView&&_n.mark.eq(this.mark))||Cn&&Bn<=0||$n<this.length&&Ln<=0)?!1:(mergeChildrenInto(this,Cn,$n,_n?_n.children.slice():[],Bn-1,Ln-1),this.markDirty(),!0)}split(Cn){let $n=[],_n=0,Rn=-1,Bn=0;for(let Dn of this.children){let Nn=_n+Dn.length;Nn>Cn&&$n.push(_n<Cn?Dn.split(Cn-_n):Dn),Rn<0&&_n>=Cn&&(Rn=Bn),_n=Nn,Bn++}let Ln=this.length-Cn;return this.length=Cn,Rn>-1&&(this.children.length=Rn,this.markDirty()),new MarkView(this.mark,$n,Ln)}domAtPos(Cn){return inlineDOMAtPos(this,Cn)}coordsAt(Cn,$n){return coordsInChildren(this,Cn,$n)}}function textCoords(Pn,Cn,$n){let _n=Pn.nodeValue.length;Cn>_n&&(Cn=_n);let Rn=Cn,Bn=Cn,Ln=0;Cn==0&&$n<0||Cn==_n&&$n>=0?browser.chrome||browser.gecko||(Cn?(Rn--,Ln=1):Bn<_n&&(Bn++,Ln=-1)):$n<0?Rn--:Bn<_n&&Bn++;let Dn=textRange(Pn,Rn,Bn).getClientRects();if(!Dn.length)return null;let Nn=Dn[(Ln?Ln<0:$n>=0)?0:Dn.length-1];return browser.safari&&!Ln&&Nn.width==0&&(Nn=Array.prototype.find.call(Dn,Fn=>Fn.width)||Nn),Ln?flattenRect(Nn,Ln<0):Nn||null}class WidgetView extends ContentView{static create(Cn,$n,_n){return new WidgetView(Cn,$n,_n)}constructor(Cn,$n,_n){super(),this.widget=Cn,this.length=$n,this.side=_n,this.prevWidget=null}split(Cn){let $n=WidgetView.create(this.widget,this.length-Cn,this.side);return this.length-=Cn,$n}sync(Cn){(!this.dom||!this.widget.updateDOM(this.dom,Cn))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(Cn)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(Cn,$n,_n,Rn,Bn,Ln){return _n&&(!(_n instanceof WidgetView)||!this.widget.compare(_n.widget)||Cn>0&&Bn<=0||$n<this.length&&Ln<=0)?!1:(this.length=Cn+(_n?_n.length:0)+(this.length-$n),!0)}become(Cn){return Cn instanceof WidgetView&&Cn.side==this.side&&this.widget.constructor==Cn.widget.constructor?(this.widget.compare(Cn.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Cn.widget,this.length=Cn.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(Cn){return this.widget.ignoreEvent(Cn)}get overrideDOMText(){if(this.length==0)return Text.empty;let Cn=this;for(;Cn.parent;)Cn=Cn.parent;let{view:$n}=Cn,_n=$n&&$n.state.doc,Rn=this.posAtStart;return _n?_n.slice(Rn,Rn+this.length):Text.empty}domAtPos(Cn){return(this.length?Cn==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,Cn==this.length)}domBoundsAround(){return null}coordsAt(Cn,$n){let _n=this.widget.coordsAt(this.dom,Cn,$n);if(_n)return _n;let Rn=this.dom.getClientRects(),Bn=null;if(!Rn.length)return null;let Ln=this.side?this.side<0:Cn>0;for(let Dn=Ln?Rn.length-1:0;Bn=Rn[Dn],!(Cn>0?Dn==0:Dn==Rn.length-1||Bn.top<Bn.bottom);Dn+=Ln?-1:1);return flattenRect(Bn,!Ln)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(Cn){super(),this.side=Cn}get length(){return 0}merge(){return!1}become(Cn){return Cn instanceof WidgetBufferView&&Cn.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let Cn=document.createElement("img");Cn.className="cm-widgetBuffer",Cn.setAttribute("aria-hidden","true"),this.setDOM(Cn)}}getSide(){return this.side}domAtPos(Cn){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(Cn){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(Pn,Cn){let $n=Pn.dom,{children:_n}=Pn,Rn=0;for(let Bn=0;Rn<_n.length;Rn++){let Ln=_n[Rn],Dn=Bn+Ln.length;if(!(Dn==Bn&&Ln.getSide()<=0)){if(Cn>Bn&&Cn<Dn&&Ln.dom.parentNode==$n)return Ln.domAtPos(Cn-Bn);if(Cn<=Bn)break;Bn=Dn}}for(let Bn=Rn;Bn>0;Bn--){let Ln=_n[Bn-1];if(Ln.dom.parentNode==$n)return Ln.domAtPos(Ln.length)}for(let Bn=Rn;Bn<_n.length;Bn++){let Ln=_n[Bn];if(Ln.dom.parentNode==$n)return Ln.domAtPos(0)}return new DOMPos($n,0)}function joinInlineInto(Pn,Cn,$n){let _n,{children:Rn}=Pn;$n>0&&Cn instanceof MarkView&&Rn.length&&(_n=Rn[Rn.length-1])instanceof MarkView&&_n.mark.eq(Cn.mark)?joinInlineInto(_n,Cn.children[0],$n-1):(Rn.push(Cn),Cn.setParent(Pn)),Pn.length+=Cn.length}function coordsInChildren(Pn,Cn,$n){let _n=null,Rn=-1,Bn=null,Ln=-1;function Dn(Fn,Wn){for(let zn=0,Yn=0;zn<Fn.children.length&&Yn<=Wn;zn++){let Gn=Fn.children[zn],ei=Yn+Gn.length;ei>=Wn&&(Gn.children.length?Dn(Gn,Wn-Yn):(!Bn||Bn.isHidden&&($n>0||onSameLine(Bn,Gn)))&&(ei>Wn||Yn==ei&&Gn.getSide()>0)?(Bn=Gn,Ln=Wn-Yn):(Yn<Wn||Yn==ei&&Gn.getSide()<0&&!Gn.isHidden)&&(_n=Gn,Rn=Wn-Yn)),Yn=ei}}Dn(Pn,Cn);let Nn=($n<0?_n:Bn)||_n||Bn;return Nn?Nn.coordsAt(Math.max(0,Nn==_n?Rn:Ln),$n):fallbackRect(Pn)}function fallbackRect(Pn){let Cn=Pn.dom.lastChild;if(!Cn)return Pn.dom.getBoundingClientRect();let $n=clientRectsFor(Cn);return $n[$n.length-1]||null}function onSameLine(Pn,Cn){let $n=Pn.coordsAt(0,1),_n=Cn.coordsAt(0,1);return $n&&_n&&_n.top<$n.bottom}function combineAttrs(Pn,Cn){for(let $n in Pn)$n=="class"&&Cn.class?Cn.class+=" "+Pn.class:$n=="style"&&Cn.style?Cn.style+=";"+Pn.style:Cn[$n]=Pn[$n];return Cn}const noAttrs$1=Object.create(null);function attrsEq(Pn,Cn,$n){if(Pn==Cn)return!0;Pn||(Pn=noAttrs$1),Cn||(Cn=noAttrs$1);let _n=Object.keys(Pn),Rn=Object.keys(Cn);if(_n.length-($n&&_n.indexOf($n)>-1?1:0)!=Rn.length-($n&&Rn.indexOf($n)>-1?1:0))return!1;for(let Bn of _n)if(Bn!=$n&&(Rn.indexOf(Bn)==-1||Pn[Bn]!==Cn[Bn]))return!1;return!0}function updateAttrs(Pn,Cn,$n){let _n=!1;if(Cn)for(let Rn in Cn)$n&&Rn in $n||(_n=!0,Rn=="style"?Pn.style.cssText="":Pn.removeAttribute(Rn));if($n)for(let Rn in $n)Cn&&Cn[Rn]==$n[Rn]||(_n=!0,Rn=="style"?Pn.style.cssText=$n[Rn]:Pn.setAttribute(Rn,$n[Rn]));return _n}function getAttrs(Pn){let Cn=Object.create(null);for(let $n=0;$n<Pn.attributes.length;$n++){let _n=Pn.attributes[$n];Cn[_n.name]=_n.value}return Cn}class WidgetType{eq(Cn){return!1}updateDOM(Cn,$n){return!1}compare(Cn){return this==Cn||this.constructor==Cn.constructor&&this.eq(Cn)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Cn){return!0}coordsAt(Cn,$n,_n){return null}get isHidden(){return!1}get editable(){return!1}destroy(Cn){}}var BlockType=function(Pn){return Pn[Pn.Text=0]="Text",Pn[Pn.WidgetBefore=1]="WidgetBefore",Pn[Pn.WidgetAfter=2]="WidgetAfter",Pn[Pn.WidgetRange=3]="WidgetRange",Pn}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(Cn,$n,_n,Rn){super(),this.startSide=Cn,this.endSide=$n,this.widget=_n,this.spec=Rn}get heightRelevant(){return!1}static mark(Cn){return new MarkDecoration(Cn)}static widget(Cn){let $n=Math.max(-1e4,Math.min(1e4,Cn.side||0)),_n=!!Cn.block;return $n+=_n&&!Cn.inlineOrder?$n>0?3e8:-4e8:$n>0?1e8:-1e8,new PointDecoration(Cn,$n,$n,_n,Cn.widget||null,!1)}static replace(Cn){let $n=!!Cn.block,_n,Rn;if(Cn.isBlockGap)_n=-5e8,Rn=4e8;else{let{start:Bn,end:Ln}=getInclusive(Cn,$n);_n=(Bn?$n?-3e8:-1:5e8)-1,Rn=(Ln?$n?2e8:1:-6e8)+1}return new PointDecoration(Cn,_n,Rn,$n,Cn.widget||null,!0)}static line(Cn){return new LineDecoration(Cn)}static set(Cn,$n=!1){return RangeSet.of(Cn,$n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(Cn){let{start:$n,end:_n}=getInclusive(Cn);super($n?-1:5e8,_n?1:-6e8,null,Cn),this.tagName=Cn.tagName||"span",this.class=Cn.class||"",this.attrs=Cn.attributes||null}eq(Cn){var $n,_n;return this==Cn||Cn instanceof MarkDecoration&&this.tagName==Cn.tagName&&(this.class||(($n=this.attrs)===null||$n===void 0?void 0:$n.class))==(Cn.class||((_n=Cn.attrs)===null||_n===void 0?void 0:_n.class))&&attrsEq(this.attrs,Cn.attrs,"class")}range(Cn,$n=Cn){if(Cn>=$n)throw new RangeError("Mark decorations may not be empty");return super.range(Cn,$n)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(Cn){super(-2e8,-2e8,null,Cn)}eq(Cn){return Cn instanceof LineDecoration&&this.spec.class==Cn.spec.class&&attrsEq(this.spec.attributes,Cn.spec.attributes)}range(Cn,$n=Cn){if($n!=Cn)throw new RangeError("Line decoration ranges must be zero-length");return super.range(Cn,$n)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(Cn,$n,_n,Rn,Bn,Ln){super($n,_n,Bn,Cn),this.block=Rn,this.isReplace=Ln,this.mapMode=Rn?$n<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Cn){return Cn instanceof PointDecoration&&widgetsEq(this.widget,Cn.widget)&&this.block==Cn.block&&this.startSide==Cn.startSide&&this.endSide==Cn.endSide}range(Cn,$n=Cn){if(this.isReplace&&(Cn>$n||Cn==$n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&$n!=Cn)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(Cn,$n)}}PointDecoration.prototype.point=!0;function getInclusive(Pn,Cn=!1){let{inclusiveStart:$n,inclusiveEnd:_n}=Pn;return $n==null&&($n=Pn.inclusive),_n==null&&(_n=Pn.inclusive),{start:$n??Cn,end:_n??Cn}}function widgetsEq(Pn,Cn){return Pn==Cn||!!(Pn&&Cn&&Pn.compare(Cn))}function addRange(Pn,Cn,$n,_n=0){let Rn=$n.length-1;Rn>=0&&$n[Rn]+_n>=Pn?$n[Rn]=Math.max($n[Rn],Cn):$n.push(Pn,Cn)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(Cn,$n,_n,Rn,Bn,Ln){if(_n){if(!(_n instanceof LineView))return!1;this.dom||_n.transferDOM(this)}return Rn&&this.setDeco(_n?_n.attrs:null),mergeChildrenInto(this,Cn,$n,_n?_n.children.slice():[],Bn,Ln),!0}split(Cn){let $n=new LineView;if($n.breakAfter=this.breakAfter,this.length==0)return $n;let{i:_n,off:Rn}=this.childPos(Cn);Rn&&($n.append(this.children[_n].split(Rn),0),this.children[_n].merge(Rn,this.children[_n].length,null,!1,0,0),_n++);for(let Bn=_n;Bn<this.children.length;Bn++)$n.append(this.children[Bn],0);for(;_n>0&&this.children[_n-1].length==0;)this.children[--_n].destroy();return this.children.length=_n,this.markDirty(),this.length=Cn,$n}transferDOM(Cn){this.dom&&(this.markDirty(),Cn.setDOM(this.dom),Cn.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(Cn){attrsEq(this.attrs,Cn)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=Cn)}append(Cn,$n){joinInlineInto(this,Cn,$n)}addLineDeco(Cn){let $n=Cn.spec.attributes,_n=Cn.spec.class;$n&&(this.attrs=combineAttrs($n,this.attrs||{})),_n&&(this.attrs=combineAttrs({class:_n},this.attrs||{}))}domAtPos(Cn){return inlineDOMAtPos(this,Cn)}reuseDOM(Cn){Cn.nodeName=="DIV"&&(this.setDOM(Cn),this.flags|=6)}sync(Cn,$n){var _n;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(Cn,$n);let Rn=this.dom.lastChild;for(;Rn&&ContentView.get(Rn)instanceof MarkView;)Rn=Rn.lastChild;if(!Rn||!this.length||Rn.nodeName!="BR"&&((_n=ContentView.get(Rn))===null||_n===void 0?void 0:_n.isEditable)==!1&&(!browser.ios||!this.children.some(Bn=>Bn instanceof TextView))){let Bn=document.createElement("BR");Bn.cmIgnore=!0,this.dom.appendChild(Bn)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let Cn=0,$n;for(let _n of this.children){if(!(_n instanceof TextView)||/[^ -~]/.test(_n.text))return null;let Rn=clientRectsFor(_n.dom);if(Rn.length!=1)return null;Cn+=Rn[0].width,$n=Rn[0].height}return Cn?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:Cn/this.length,textHeight:$n}:null}coordsAt(Cn,$n){let _n=coordsInChildren(this,Cn,$n);if(!this.children.length&&_n&&this.parent){let{heightOracle:Rn}=this.parent.view.viewState,Bn=_n.bottom-_n.top;if(Math.abs(Bn-Rn.lineHeight)<2&&Rn.textHeight<Bn){let Ln=(Bn-Rn.textHeight)/2;return{top:_n.top+Ln,bottom:_n.bottom-Ln,left:_n.left,right:_n.left}}}return _n}become(Cn){return Cn instanceof LineView&&this.children.length==0&&Cn.children.length==0&&attrsEq(this.attrs,Cn.attrs)&&this.breakAfter==Cn.breakAfter}covers(){return!0}static find(Cn,$n){for(let _n=0,Rn=0;_n<Cn.children.length;_n++){let Bn=Cn.children[_n],Ln=Rn+Bn.length;if(Ln>=$n){if(Bn instanceof LineView)return Bn;if(Ln>$n)break}Rn=Ln+Bn.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(Cn,$n,_n){super(),this.widget=Cn,this.length=$n,this.deco=_n,this.breakAfter=0,this.prevWidget=null}merge(Cn,$n,_n,Rn,Bn,Ln){return _n&&(!(_n instanceof BlockWidgetView)||!this.widget.compare(_n.widget)||Cn>0&&Bn<=0||$n<this.length&&Ln<=0)?!1:(this.length=Cn+(_n?_n.length:0)+(this.length-$n),!0)}domAtPos(Cn){return Cn==0?DOMPos.before(this.dom):DOMPos.after(this.dom,Cn==this.length)}split(Cn){let $n=this.length-Cn;this.length=Cn;let _n=new BlockWidgetView(this.widget,$n,this.deco);return _n.breakAfter=this.breakAfter,_n}get children(){return noChildren}sync(Cn){(!this.dom||!this.widget.updateDOM(this.dom,Cn))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(Cn)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(Cn){return Cn instanceof BlockWidgetView&&Cn.widget.constructor==this.widget.constructor?(Cn.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Cn.widget,this.length=Cn.length,this.deco=Cn.deco,this.breakAfter=Cn.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(Cn){return this.widget.ignoreEvent(Cn)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(Cn,$n){let _n=this.widget.coordsAt(this.dom,Cn,$n);return _n||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?Cn==0:$n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(Cn){let{startSide:$n,endSide:_n}=this.deco;return $n==_n?!1:Cn<0?$n<0:_n>0}}class BlockGapWidget extends WidgetType{constructor(Cn){super(),this.height=Cn}toDOM(){let Cn=document.createElement("div");return Cn.className="cm-gap",this.updateDOM(Cn),Cn}eq(Cn){return Cn.height==this.height}updateDOM(Cn){return Cn.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(Cn,$n,_n,Rn){this.doc=Cn,this.pos=$n,this.end=_n,this.disallowBlockEffectsFor=Rn,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=Cn.iter(),this.skip=$n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let Cn=this.content[this.content.length-1];return!(Cn.breakAfter||Cn instanceof BlockWidgetView&&Cn.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(Cn=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),Cn),Cn.length),this.pendingBuffer=0)}addBlockWidget(Cn){this.flushBuffer(),this.curLine=null,this.content.push(Cn)}finish(Cn){this.pendingBuffer&&Cn<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(Cn&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(Cn,$n,_n){for(;Cn>0;){if(this.textOff==this.text.length){let{value:Bn,lineBreak:Ln,done:Dn}=this.cursor.next(this.skip);if(this.skip=0,Dn)throw new Error("Ran out of text content when drawing inline views");if(Ln){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,Cn--;continue}else this.text=Bn,this.textOff=0}let Rn=Math.min(this.text.length-this.textOff,Cn,512);this.flushBuffer($n.slice($n.length-_n)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+Rn)),$n),_n),this.atCursorPos=!0,this.textOff+=Rn,Cn-=Rn,_n=0}}span(Cn,$n,_n,Rn){this.buildText($n-Cn,_n,Rn),this.pos=$n,this.openStart<0&&(this.openStart=Rn)}point(Cn,$n,_n,Rn,Bn,Ln){if(this.disallowBlockEffectsFor[Ln]&&_n instanceof PointDecoration){if(_n.block)throw new RangeError("Block decorations may not be specified via plugins");if($n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let Dn=$n-Cn;if(_n instanceof PointDecoration)if(_n.block)_n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(_n.widget||NullWidget.block,Dn,_n));else{let Nn=WidgetView.create(_n.widget||NullWidget.inline,Dn,Dn?0:_n.startSide),Fn=this.atCursorPos&&!Nn.isEditable&&Bn<=Rn.length&&(Cn<$n||_n.startSide>0),Wn=!Nn.isEditable&&(Cn<$n||Bn>Rn.length||_n.startSide<=0),zn=this.getLine();this.pendingBuffer==2&&!Fn&&!Nn.isEditable&&(this.pendingBuffer=0),this.flushBuffer(Rn),Fn&&(zn.append(wrapMarks(new WidgetBufferView(1),Rn),Bn),Bn=Rn.length+Math.max(0,Bn-Rn.length)),zn.append(wrapMarks(Nn,Rn),Bn),this.atCursorPos=Wn,this.pendingBuffer=Wn?Cn<$n||Bn>Rn.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=Rn.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(_n);Dn&&(this.textOff+Dn<=this.text.length?this.textOff+=Dn:(this.skip+=Dn-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=$n),this.openStart<0&&(this.openStart=Bn)}static build(Cn,$n,_n,Rn,Bn){let Ln=new ContentBuilder(Cn,$n,_n,Bn);return Ln.openEnd=RangeSet.spans(Rn,$n,_n,Ln),Ln.openStart<0&&(Ln.openStart=Ln.openEnd),Ln.finish(Ln.openEnd),Ln}}function wrapMarks(Pn,Cn){for(let $n of Cn)Pn=new MarkView($n,[Pn],Pn.length);return Pn}class NullWidget extends WidgetType{constructor(Cn){super(),this.tag=Cn}eq(Cn){return Cn.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Cn){return Cn.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(Pn){return Pn[Pn.LTR=0]="LTR",Pn[Pn.RTL=1]="RTL",Pn}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(Pn){let Cn=[];for(let $n=0;$n<Pn.length;$n++)Cn.push(1<<+Pn[$n]);return Cn}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let Pn of["()","[]","{}"]){let Cn=Pn.charCodeAt(0),$n=Pn.charCodeAt(1);Brackets[Cn]=$n,Brackets[$n]=-Cn}function charType(Pn){return Pn<=247?LowTypes[Pn]:1424<=Pn&&Pn<=1524?2:1536<=Pn&&Pn<=1785?ArabicTypes[Pn-1536]:1774<=Pn&&Pn<=2220?4:8192<=Pn&&Pn<=8204?256:64336<=Pn&&Pn<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(Cn,$n,_n){this.from=Cn,this.to=$n,this.level=_n}side(Cn,$n){return this.dir==$n==Cn?this.to:this.from}forward(Cn,$n){return Cn==(this.dir==$n)}static find(Cn,$n,_n,Rn){let Bn=-1;for(let Ln=0;Ln<Cn.length;Ln++){let Dn=Cn[Ln];if(Dn.from<=$n&&Dn.to>=$n){if(Dn.level==_n)return Ln;(Bn<0||(Rn!=0?Rn<0?Dn.from<$n:Dn.to>$n:Cn[Bn].level>Dn.level))&&(Bn=Ln)}}if(Bn<0)throw new RangeError("Index out of range");return Bn}}function isolatesEq(Pn,Cn){if(Pn.length!=Cn.length)return!1;for(let $n=0;$n<Pn.length;$n++){let _n=Pn[$n],Rn=Cn[$n];if(_n.from!=Rn.from||_n.to!=Rn.to||_n.direction!=Rn.direction||!isolatesEq(_n.inner,Rn.inner))return!1}return!0}const types=[];function computeCharTypes(Pn,Cn,$n,_n,Rn){for(let Bn=0;Bn<=_n.length;Bn++){let Ln=Bn?_n[Bn-1].to:Cn,Dn=Bn<_n.length?_n[Bn].from:$n,Nn=Bn?256:Rn;for(let Fn=Ln,Wn=Nn,zn=Nn;Fn<Dn;Fn++){let Yn=charType(Pn.charCodeAt(Fn));Yn==512?Yn=Wn:Yn==8&&zn==4&&(Yn=16),types[Fn]=Yn==4?2:Yn,Yn&7&&(zn=Yn),Wn=Yn}for(let Fn=Ln,Wn=Nn,zn=Nn;Fn<Dn;Fn++){let Yn=types[Fn];if(Yn==128)Fn<Dn-1&&Wn==types[Fn+1]&&Wn&24?Yn=types[Fn]=Wn:types[Fn]=256;else if(Yn==64){let Gn=Fn+1;for(;Gn<Dn&&types[Gn]==64;)Gn++;let ei=Fn&&Wn==8||Gn<$n&&types[Gn]==8?zn==1?1:8:256;for(let ti=Fn;ti<Gn;ti++)types[ti]=ei;Fn=Gn-1}else Yn==8&&zn==1&&(types[Fn]=1);Wn=Yn,Yn&7&&(zn=Yn)}}}function processBracketPairs(Pn,Cn,$n,_n,Rn){let Bn=Rn==1?2:1;for(let Ln=0,Dn=0,Nn=0;Ln<=_n.length;Ln++){let Fn=Ln?_n[Ln-1].to:Cn,Wn=Ln<_n.length?_n[Ln].from:$n;for(let zn=Fn,Yn,Gn,ei;zn<Wn;zn++)if(Gn=Brackets[Yn=Pn.charCodeAt(zn)])if(Gn<0){for(let ti=Dn-3;ti>=0;ti-=3)if(BracketStack[ti+1]==-Gn){let ii=BracketStack[ti+2],oi=ii&2?Rn:ii&4?ii&1?Bn:Rn:0;oi&&(types[zn]=types[BracketStack[ti]]=oi),Dn=ti;break}}else{if(BracketStack.length==189)break;BracketStack[Dn++]=zn,BracketStack[Dn++]=Yn,BracketStack[Dn++]=Nn}else if((ei=types[zn])==2||ei==1){let ti=ei==Rn;Nn=ti?0:1;for(let ii=Dn-3;ii>=0;ii-=3){let oi=BracketStack[ii+2];if(oi&2)break;if(ti)BracketStack[ii+2]|=2;else{if(oi&4)break;BracketStack[ii+2]|=4}}}}}function processNeutrals(Pn,Cn,$n,_n){for(let Rn=0,Bn=_n;Rn<=$n.length;Rn++){let Ln=Rn?$n[Rn-1].to:Pn,Dn=Rn<$n.length?$n[Rn].from:Cn;for(let Nn=Ln;Nn<Dn;){let Fn=types[Nn];if(Fn==256){let Wn=Nn+1;for(;;)if(Wn==Dn){if(Rn==$n.length)break;Wn=$n[Rn++].to,Dn=Rn<$n.length?$n[Rn].from:Cn}else if(types[Wn]==256)Wn++;else break;let zn=Bn==1,Yn=(Wn<Cn?types[Wn]:_n)==1,Gn=zn==Yn?zn?1:2:_n;for(let ei=Wn,ti=Rn,ii=ti?$n[ti-1].to:Pn;ei>Nn;)ei==ii&&(ei=$n[--ti].from,ii=ti?$n[ti-1].to:Pn),types[--ei]=Gn;Nn=Wn}else Bn=Fn,Nn++}}}function emitSpans(Pn,Cn,$n,_n,Rn,Bn,Ln){let Dn=_n%2?2:1;if(_n%2==Rn%2)for(let Nn=Cn,Fn=0;Nn<$n;){let Wn=!0,zn=!1;if(Fn==Bn.length||Nn<Bn[Fn].from){let ti=types[Nn];ti!=Dn&&(Wn=!1,zn=ti==16)}let Yn=!Wn&&Dn==1?[]:null,Gn=Wn?_n:_n+1,ei=Nn;e:for(;;)if(Fn<Bn.length&&ei==Bn[Fn].from){if(zn)break e;let ti=Bn[Fn];if(!Wn)for(let ii=ti.to,oi=Fn+1;;){if(ii==$n)break e;if(oi<Bn.length&&Bn[oi].from==ii)ii=Bn[oi++].to;else{if(types[ii]==Dn)break e;break}}if(Fn++,Yn)Yn.push(ti);else{ti.from>Nn&&Ln.push(new BidiSpan(Nn,ti.from,Gn));let ii=ti.direction==LTR!=!(Gn%2);computeSectionOrder(Pn,ii?_n+1:_n,Rn,ti.inner,ti.from,ti.to,Ln),Nn=ti.to}ei=ti.to}else{if(ei==$n||(Wn?types[ei]!=Dn:types[ei]==Dn))break;ei++}Yn?emitSpans(Pn,Nn,ei,_n+1,Rn,Yn,Ln):Nn<ei&&Ln.push(new BidiSpan(Nn,ei,Gn)),Nn=ei}else for(let Nn=$n,Fn=Bn.length;Nn>Cn;){let Wn=!0,zn=!1;if(!Fn||Nn>Bn[Fn-1].to){let ti=types[Nn-1];ti!=Dn&&(Wn=!1,zn=ti==16)}let Yn=!Wn&&Dn==1?[]:null,Gn=Wn?_n:_n+1,ei=Nn;e:for(;;)if(Fn&&ei==Bn[Fn-1].to){if(zn)break e;let ti=Bn[--Fn];if(!Wn)for(let ii=ti.from,oi=Fn;;){if(ii==Cn)break e;if(oi&&Bn[oi-1].to==ii)ii=Bn[--oi].from;else{if(types[ii-1]==Dn)break e;break}}if(Yn)Yn.push(ti);else{ti.to<Nn&&Ln.push(new BidiSpan(ti.to,Nn,Gn));let ii=ti.direction==LTR!=!(Gn%2);computeSectionOrder(Pn,ii?_n+1:_n,Rn,ti.inner,ti.from,ti.to,Ln),Nn=ti.from}ei=ti.from}else{if(ei==Cn||(Wn?types[ei-1]!=Dn:types[ei-1]==Dn))break;ei--}Yn?emitSpans(Pn,ei,Nn,_n+1,Rn,Yn,Ln):ei<Nn&&Ln.push(new BidiSpan(ei,Nn,Gn)),Nn=ei}}function computeSectionOrder(Pn,Cn,$n,_n,Rn,Bn,Ln){let Dn=Cn%2?2:1;computeCharTypes(Pn,Rn,Bn,_n,Dn),processBracketPairs(Pn,Rn,Bn,_n,Dn),processNeutrals(Rn,Bn,_n,Dn),emitSpans(Pn,Rn,Bn,Cn,$n,_n,Ln)}function computeOrder(Pn,Cn,$n){if(!Pn)return[new BidiSpan(0,0,Cn==RTL?1:0)];if(Cn==LTR&&!$n.length&&!BidiRE.test(Pn))return trivialOrder(Pn.length);if($n.length)for(;Pn.length>types.length;)types[types.length]=256;let _n=[],Rn=Cn==LTR?0:1;return computeSectionOrder(Pn,Rn,Rn,$n,0,Pn.length,_n),_n}function trivialOrder(Pn){return[new BidiSpan(0,Pn,0)]}let movedOver="";function moveVisually(Pn,Cn,$n,_n,Rn){var Bn;let Ln=_n.head-Pn.from,Dn=BidiSpan.find(Cn,Ln,(Bn=_n.bidiLevel)!==null&&Bn!==void 0?Bn:-1,_n.assoc),Nn=Cn[Dn],Fn=Nn.side(Rn,$n);if(Ln==Fn){let Yn=Dn+=Rn?1:-1;if(Yn<0||Yn>=Cn.length)return null;Nn=Cn[Dn=Yn],Ln=Nn.side(!Rn,$n),Fn=Nn.side(Rn,$n)}let Wn=findClusterBreak(Pn.text,Ln,Nn.forward(Rn,$n));(Wn<Nn.from||Wn>Nn.to)&&(Wn=Fn),movedOver=Pn.text.slice(Math.min(Ln,Wn),Math.max(Ln,Wn));let zn=Dn==(Rn?Cn.length-1:0)?null:Cn[Dn+(Rn?1:-1)];return zn&&Wn==Fn&&zn.level+(Rn?0:1)<Nn.level?EditorSelection.cursor(zn.side(!Rn,$n)+Pn.from,zn.forward(Rn,$n)?1:-1,zn.level):EditorSelection.cursor(Wn+Pn.from,Nn.forward(Rn,$n)?-1:1,Nn.level)}function autoDirection(Pn,Cn,$n){for(let _n=Cn;_n<$n;_n++){let Rn=charType(Pn.charCodeAt(_n));if(Rn==1)return LTR;if(Rn==2||Rn==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:Pn=>Pn.some(Cn=>Cn)}),nativeSelectionHidden=Facet.define({combine:Pn=>Pn.some(Cn=>Cn)}),scrollHandler=Facet.define();class ScrollTarget{constructor(Cn,$n="nearest",_n="nearest",Rn=5,Bn=5,Ln=!1){this.range=Cn,this.y=$n,this.x=_n,this.yMargin=Rn,this.xMargin=Bn,this.isSnapshot=Ln}map(Cn){return Cn.empty?this:new ScrollTarget(this.range.map(Cn),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Cn){return this.range.to<=Cn.doc.length?this:new ScrollTarget(EditorSelection.cursor(Cn.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(Pn,Cn)=>Pn.map(Cn)}),setEditContextFormatting=StateEffect.define();function logException(Pn,Cn,$n){let _n=Pn.facet(exceptionSink);_n.length?_n[0](Cn):window.onerror?window.onerror(String(Cn),$n,void 0,void 0,Cn):$n?console.error($n+":",Cn):console.error(Cn)}const editable=Facet.define({combine:Pn=>Pn.length?Pn[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(Cn,$n,_n,Rn,Bn){this.id=Cn,this.create=$n,this.domEventHandlers=_n,this.domEventObservers=Rn,this.extension=Bn(this)}static define(Cn,$n){const{eventHandlers:_n,eventObservers:Rn,provide:Bn,decorations:Ln}=$n||{};return new ViewPlugin(nextPluginID++,Cn,_n,Rn,Dn=>{let Nn=[viewPlugin.of(Dn)];return Ln&&Nn.push(decorations.of(Fn=>{let Wn=Fn.plugin(Dn);return Wn?Ln(Wn):Decoration.none})),Bn&&Nn.push(Bn(Dn)),Nn})}static fromClass(Cn,$n){return ViewPlugin.define(_n=>new Cn(_n),$n)}}class PluginInstance{constructor(Cn){this.spec=Cn,this.mustUpdate=null,this.value=null}update(Cn){if(this.value){if(this.mustUpdate){let $n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update($n)}catch(_n){if(logException($n.state,_n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(Cn)}catch($n){logException(Cn.state,$n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(Cn){var $n;if(!(($n=this.value)===null||$n===void 0)&&$n.destroy)try{this.value.destroy()}catch(_n){logException(Cn.state,_n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(Pn,Cn){let $n=Pn.state.facet(bidiIsolatedRanges);if(!$n.length)return $n;let _n=$n.map(Bn=>Bn instanceof Function?Bn(Pn):Bn),Rn=[];return RangeSet.spans(_n,Cn.from,Cn.to,{point(){},span(Bn,Ln,Dn,Nn){let Fn=Bn-Cn.from,Wn=Ln-Cn.from,zn=Rn;for(let Yn=Dn.length-1;Yn>=0;Yn--,Nn--){let Gn=Dn[Yn].spec.bidiIsolate,ei;if(Gn==null&&(Gn=autoDirection(Cn.text,Fn,Wn)),Nn>0&&zn.length&&(ei=zn[zn.length-1]).to==Fn&&ei.direction==Gn)ei.to=Wn,zn=ei.inner;else{let ti={from:Fn,to:Wn,direction:Gn,inner:[]};zn.push(ti),zn=ti.inner}}}}),Rn}const scrollMargins=Facet.define();function getScrollMargins(Pn){let Cn=0,$n=0,_n=0,Rn=0;for(let Bn of Pn.state.facet(scrollMargins)){let Ln=Bn(Pn);Ln&&(Ln.left!=null&&(Cn=Math.max(Cn,Ln.left)),Ln.right!=null&&($n=Math.max($n,Ln.right)),Ln.top!=null&&(_n=Math.max(_n,Ln.top)),Ln.bottom!=null&&(Rn=Math.max(Rn,Ln.bottom)))}return{left:Cn,right:$n,top:_n,bottom:Rn}}const styleModule=Facet.define();class ChangedRange{constructor(Cn,$n,_n,Rn){this.fromA=Cn,this.toA=$n,this.fromB=_n,this.toB=Rn}join(Cn){return new ChangedRange(Math.min(this.fromA,Cn.fromA),Math.max(this.toA,Cn.toA),Math.min(this.fromB,Cn.fromB),Math.max(this.toB,Cn.toB))}addToSet(Cn){let $n=Cn.length,_n=this;for(;$n>0;$n--){let Rn=Cn[$n-1];if(!(Rn.fromA>_n.toA)){if(Rn.toA<_n.fromA)break;_n=_n.join(Rn),Cn.splice($n-1,1)}}return Cn.splice($n,0,_n),Cn}static extendWithRanges(Cn,$n){if($n.length==0)return Cn;let _n=[];for(let Rn=0,Bn=0,Ln=0,Dn=0;;Rn++){let Nn=Rn==Cn.length?null:Cn[Rn],Fn=Ln-Dn,Wn=Nn?Nn.fromB:1e9;for(;Bn<$n.length&&$n[Bn]<Wn;){let zn=$n[Bn],Yn=$n[Bn+1],Gn=Math.max(Dn,zn),ei=Math.min(Wn,Yn);if(Gn<=ei&&new ChangedRange(Gn+Fn,ei+Fn,Gn,ei).addToSet(_n),Yn>Wn)break;Bn+=2}if(!Nn)return _n;new ChangedRange(Nn.fromA,Nn.toA,Nn.fromB,Nn.toB).addToSet(_n),Ln=Nn.toA,Dn=Nn.toB}}}class ViewUpdate{constructor(Cn,$n,_n){this.view=Cn,this.state=$n,this.transactions=_n,this.flags=0,this.startState=Cn.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let Bn of _n)this.changes=this.changes.compose(Bn.changes);let Rn=[];this.changes.iterChangedRanges((Bn,Ln,Dn,Nn)=>Rn.push(new ChangedRange(Bn,Ln,Dn,Nn))),this.changedRanges=Rn}static create(Cn,$n,_n){return new ViewUpdate(Cn,$n,_n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(Cn=>Cn.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(Cn){super(),this.view=Cn,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(Cn.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,Cn.state.doc.length)],0,null)}update(Cn){var $n;let _n=Cn.changedRanges;this.minWidth>0&&_n.length&&(_n.every(({fromA:Fn,toA:Wn})=>Wn<this.minWidthFrom||Fn>this.minWidthTo)?(this.minWidthFrom=Cn.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Cn.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(Cn);let Rn=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!(($n=this.domChanged)===null||$n===void 0)&&$n.newSel?Rn=this.domChanged.newSel.head:!touchesComposition(Cn.changes,this.hasComposition)&&!Cn.selectionSet&&(Rn=Cn.state.selection.main.head));let Bn=Rn>-1?findCompositionRange(this.view,Cn.changes,Rn):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:Fn,to:Wn}=this.hasComposition;_n=new ChangedRange(Fn,Wn,Cn.changes.mapPos(Fn,-1),Cn.changes.mapPos(Wn,1)).addToSet(_n.slice())}this.hasComposition=Bn?{from:Bn.range.fromB,to:Bn.range.toB}:null,(browser.ie||browser.chrome)&&!Bn&&Cn&&Cn.state.doc.lines!=Cn.startState.doc.lines&&(this.forceSelection=!0);let Ln=this.decorations,Dn=this.updateDeco(),Nn=findChangedDeco(Ln,Dn,Cn.changes);return _n=ChangedRange.extendWithRanges(_n,Nn),!(this.flags&7)&&_n.length==0?!1:(this.updateInner(_n,Cn.startState.doc.length,Bn),Cn.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(Cn,$n,_n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(Cn,$n,_n);let{observer:Rn}=this.view;Rn.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let Ln=browser.chrome||browser.ios?{node:Rn.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,Ln),this.flags&=-8,Ln&&(Ln.written||Rn.selectionRange.focusNode!=Ln.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(Ln=>Ln.flags&=-9);let Bn=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let Ln of this.children)Ln instanceof BlockWidgetView&&Ln.widget instanceof BlockGapWidget&&Bn.push(Ln.dom);Rn.updateGaps(Bn)}updateChildren(Cn,$n,_n){let Rn=_n?_n.range.addToSet(Cn.slice()):Cn,Bn=this.childCursor($n);for(let Ln=Rn.length-1;;Ln--){let Dn=Ln>=0?Rn[Ln]:null;if(!Dn)break;let{fromA:Nn,toA:Fn,fromB:Wn,toB:zn}=Dn,Yn,Gn,ei,ti;if(_n&&_n.range.fromB<zn&&_n.range.toB>Wn){let ui=ContentBuilder.build(this.view.state.doc,Wn,_n.range.fromB,this.decorations,this.dynamicDecorationMap),di=ContentBuilder.build(this.view.state.doc,_n.range.toB,zn,this.decorations,this.dynamicDecorationMap);Gn=ui.breakAtStart,ei=ui.openStart,ti=di.openEnd;let yi=this.compositionView(_n);di.breakAtStart?yi.breakAfter=1:di.content.length&&yi.merge(yi.length,yi.length,di.content[0],!1,di.openStart,0)&&(yi.breakAfter=di.content[0].breakAfter,di.content.shift()),ui.content.length&&yi.merge(0,0,ui.content[ui.content.length-1],!0,0,ui.openEnd)&&ui.content.pop(),Yn=ui.content.concat(yi).concat(di.content)}else({content:Yn,breakAtStart:Gn,openStart:ei,openEnd:ti}=ContentBuilder.build(this.view.state.doc,Wn,zn,this.decorations,this.dynamicDecorationMap));let{i:ii,off:oi}=Bn.findPos(Fn,1),{i:ai,off:fi}=Bn.findPos(Nn,-1);replaceRange(this,ai,fi,ii,oi,Yn,Gn,ei,ti)}_n&&this.fixCompositionDOM(_n)}updateEditContextFormatting(Cn){this.editContextFormatting=this.editContextFormatting.map(Cn.changes);for(let $n of Cn.transactions)for(let _n of $n.effects)_n.is(setEditContextFormatting)&&(this.editContextFormatting=_n.value)}compositionView(Cn){let $n=new TextView(Cn.text.nodeValue);$n.flags|=8;for(let{deco:Rn}of Cn.marks)$n=new MarkView(Rn,[$n],$n.length);let _n=new LineView;return _n.append($n,0),_n}fixCompositionDOM(Cn){let $n=(Bn,Ln)=>{Ln.flags|=8|(Ln.children.some(Nn=>Nn.flags&7)?1:0),this.markedForComposition.add(Ln);let Dn=ContentView.get(Bn);Dn&&Dn!=Ln&&(Dn.dom=null),Ln.setDOM(Bn)},_n=this.childPos(Cn.range.fromB,1),Rn=this.children[_n.i];$n(Cn.line,Rn);for(let Bn=Cn.marks.length-1;Bn>=-1;Bn--)_n=Rn.childPos(_n.off,1),Rn=Rn.children[_n.i],$n(Bn>=0?Cn.marks[Bn].node:Cn.text,Rn)}updateSelection(Cn=!1,$n=!1){(Cn||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let _n=this.view.root.activeElement,Rn=_n==this.dom,Bn=!Rn&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(_n&&this.dom.contains(_n));if(!(Rn||$n||Bn))return;let Ln=this.forceSelection;this.forceSelection=!1;let Dn=this.view.state.selection.main,Nn=this.moveToLine(this.domAtPos(Dn.anchor)),Fn=Dn.empty?Nn:this.moveToLine(this.domAtPos(Dn.head));if(browser.gecko&&Dn.empty&&!this.hasComposition&&betweenUneditable(Nn)){let zn=document.createTextNode("");this.view.observer.ignore(()=>Nn.node.insertBefore(zn,Nn.node.childNodes[Nn.offset]||null)),Nn=Fn=new DOMPos(zn,0),Ln=!0}let Wn=this.view.observer.selectionRange;(Ln||!Wn.focusNode||(!isEquivalentPosition(Nn.node,Nn.offset,Wn.anchorNode,Wn.anchorOffset)||!isEquivalentPosition(Fn.node,Fn.offset,Wn.focusNode,Wn.focusOffset))&&!this.suppressWidgetCursorChange(Wn,Dn))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(Wn.focusNode)&&inUneditable(Wn.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let zn=getSelection(this.view.root);if(zn)if(Dn.empty){if(browser.gecko){let Yn=nextToUneditable(Nn.node,Nn.offset);if(Yn&&Yn!=3){let Gn=(Yn==1?textNodeBefore:textNodeAfter)(Nn.node,Nn.offset);Gn&&(Nn=new DOMPos(Gn.node,Gn.offset))}}zn.collapse(Nn.node,Nn.offset),Dn.bidiLevel!=null&&zn.caretBidiLevel!==void 0&&(zn.caretBidiLevel=Dn.bidiLevel)}else if(zn.extend){zn.collapse(Nn.node,Nn.offset);try{zn.extend(Fn.node,Fn.offset)}catch{}}else{let Yn=document.createRange();Dn.anchor>Dn.head&&([Nn,Fn]=[Fn,Nn]),Yn.setEnd(Fn.node,Fn.offset),Yn.setStart(Nn.node,Nn.offset),zn.removeAllRanges(),zn.addRange(Yn)}Bn&&this.view.root.activeElement==this.dom&&(this.dom.blur(),_n&&_n.focus())}),this.view.observer.setSelectionRange(Nn,Fn)),this.impreciseAnchor=Nn.precise?null:new DOMPos(Wn.anchorNode,Wn.anchorOffset),this.impreciseHead=Fn.precise?null:new DOMPos(Wn.focusNode,Wn.focusOffset)}suppressWidgetCursorChange(Cn,$n){return this.hasComposition&&$n.empty&&isEquivalentPosition(Cn.focusNode,Cn.focusOffset,Cn.anchorNode,Cn.anchorOffset)&&this.posFromDOM(Cn.focusNode,Cn.focusOffset)==$n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Cn}=this,$n=Cn.state.selection.main,_n=getSelection(Cn.root),{anchorNode:Rn,anchorOffset:Bn}=Cn.observer.selectionRange;if(!_n||!$n.empty||!$n.assoc||!_n.modify)return;let Ln=LineView.find(this,$n.head);if(!Ln)return;let Dn=Ln.posAtStart;if($n.head==Dn||$n.head==Dn+Ln.length)return;let Nn=this.coordsAt($n.head,-1),Fn=this.coordsAt($n.head,1);if(!Nn||!Fn||Nn.bottom>Fn.top)return;let Wn=this.domAtPos($n.head+$n.assoc);_n.collapse(Wn.node,Wn.offset),_n.modify("move",$n.assoc<0?"forward":"backward","lineboundary"),Cn.observer.readSelectionRange();let zn=Cn.observer.selectionRange;Cn.docView.posFromDOM(zn.anchorNode,zn.anchorOffset)!=$n.from&&_n.collapse(Rn,Bn)}moveToLine(Cn){let $n=this.dom,_n;if(Cn.node!=$n)return Cn;for(let Rn=Cn.offset;!_n&&Rn<$n.childNodes.length;Rn++){let Bn=ContentView.get($n.childNodes[Rn]);Bn instanceof LineView&&(_n=Bn.domAtPos(0))}for(let Rn=Cn.offset-1;!_n&&Rn>=0;Rn--){let Bn=ContentView.get($n.childNodes[Rn]);Bn instanceof LineView&&(_n=Bn.domAtPos(Bn.length))}return _n?new DOMPos(_n.node,_n.offset,!0):Cn}nearest(Cn){for(let $n=Cn;$n;){let _n=ContentView.get($n);if(_n&&_n.rootView==this)return _n;$n=$n.parentNode}return null}posFromDOM(Cn,$n){let _n=this.nearest(Cn);if(!_n)throw new RangeError("Trying to find position for a DOM position outside of the document");return _n.localPosFromDOM(Cn,$n)+_n.posAtStart}domAtPos(Cn){let{i:$n,off:_n}=this.childCursor().findPos(Cn,-1);for(;$n<this.children.length-1;){let Rn=this.children[$n];if(_n<Rn.length||Rn instanceof LineView)break;$n++,_n=0}return this.children[$n].domAtPos(_n)}coordsAt(Cn,$n){let _n=null,Rn=0;for(let Bn=this.length,Ln=this.children.length-1;Ln>=0;Ln--){let Dn=this.children[Ln],Nn=Bn-Dn.breakAfter,Fn=Nn-Dn.length;if(Nn<Cn)break;if(Fn<=Cn&&(Fn<Cn||Dn.covers(-1))&&(Nn>Cn||Dn.covers(1))&&(!_n||Dn instanceof LineView&&!(_n instanceof LineView&&$n>=0)))_n=Dn,Rn=Fn;else if(_n&&Fn==Cn&&Nn==Cn&&Dn instanceof BlockWidgetView&&Math.abs($n)<2){if(Dn.deco.startSide<0)break;Ln&&(_n=null)}Bn=Fn}return _n?_n.coordsAt(Cn-Rn,$n):null}coordsForChar(Cn){let{i:$n,off:_n}=this.childPos(Cn,1),Rn=this.children[$n];if(!(Rn instanceof LineView))return null;for(;Rn.children.length;){let{i:Dn,off:Nn}=Rn.childPos(_n,1);for(;;Dn++){if(Dn==Rn.children.length)return null;if((Rn=Rn.children[Dn]).length)break}_n=Nn}if(!(Rn instanceof TextView))return null;let Bn=findClusterBreak(Rn.text,_n);if(Bn==_n)return null;let Ln=textRange(Rn.dom,_n,Bn).getClientRects();for(let Dn=0;Dn<Ln.length;Dn++){let Nn=Ln[Dn];if(Dn==Ln.length-1||Nn.top<Nn.bottom&&Nn.left<Nn.right)return Nn}return null}measureVisibleLineHeights(Cn){let $n=[],{from:_n,to:Rn}=Cn,Bn=this.view.contentDOM.clientWidth,Ln=Bn>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Dn=-1,Nn=this.view.textDirection==Direction.LTR;for(let Fn=0,Wn=0;Wn<this.children.length;Wn++){let zn=this.children[Wn],Yn=Fn+zn.length;if(Yn>Rn)break;if(Fn>=_n){let Gn=zn.dom.getBoundingClientRect();if($n.push(Gn.height),Ln){let ei=zn.dom.lastChild,ti=ei?clientRectsFor(ei):[];if(ti.length){let ii=ti[ti.length-1],oi=Nn?ii.right-Gn.left:Gn.right-ii.left;oi>Dn&&(Dn=oi,this.minWidth=Bn,this.minWidthFrom=Fn,this.minWidthTo=Yn)}}}Fn=Yn+zn.breakAfter}return $n}textDirectionAt(Cn){let{i:$n}=this.childPos(Cn,1);return getComputedStyle(this.children[$n].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let Bn of this.children)if(Bn instanceof LineView){let Ln=Bn.measureTextSize();if(Ln)return Ln}let Cn=document.createElement("div"),$n,_n,Rn;return Cn.className="cm-line",Cn.style.width="99999px",Cn.style.position="absolute",Cn.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(Cn);let Bn=clientRectsFor(Cn.firstChild)[0];$n=Cn.getBoundingClientRect().height,_n=Bn?Bn.width/27:7,Rn=Bn?Bn.height:$n,Cn.remove()}),{lineHeight:$n,charWidth:_n,textHeight:Rn}}childCursor(Cn=this.length){let $n=this.children.length;return $n&&(Cn-=this.children[--$n].length),new ChildCursor(this.children,Cn,$n)}computeBlockGapDeco(){let Cn=[],$n=this.view.viewState;for(let _n=0,Rn=0;;Rn++){let Bn=Rn==$n.viewports.length?null:$n.viewports[Rn],Ln=Bn?Bn.from-1:this.length;if(Ln>_n){let Dn=($n.lineBlockAt(Ln).bottom-$n.lineBlockAt(_n).top)/this.view.scaleY;Cn.push(Decoration.replace({widget:new BlockGapWidget(Dn),block:!0,inclusive:!0,isBlockGap:!0}).range(_n,Ln))}if(!Bn)break;_n=Bn.to+1}return Decoration.set(Cn)}updateDeco(){let Cn=1,$n=this.view.state.facet(decorations).map(Bn=>(this.dynamicDecorationMap[Cn++]=typeof Bn=="function")?Bn(this.view):Bn),_n=!1,Rn=this.view.state.facet(outerDecorations).map((Bn,Ln)=>{let Dn=typeof Bn=="function";return Dn&&(_n=!0),Dn?Bn(this.view):Bn});for(Rn.length&&(this.dynamicDecorationMap[Cn++]=_n,$n.push(RangeSet.join(Rn))),this.decorations=[this.editContextFormatting,...$n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];Cn<this.decorations.length;)this.dynamicDecorationMap[Cn++]=!1;return this.decorations}scrollIntoView(Cn){if(Cn.isSnapshot){let Fn=this.view.viewState.lineBlockAt(Cn.range.head);this.view.scrollDOM.scrollTop=Fn.top-Cn.yMargin,this.view.scrollDOM.scrollLeft=Cn.xMargin;return}for(let Fn of this.view.state.facet(scrollHandler))try{if(Fn(this.view,Cn.range,Cn))return!0}catch(Wn){logException(this.view.state,Wn,"scroll handler")}let{range:$n}=Cn,_n=this.coordsAt($n.head,$n.empty?$n.assoc:$n.head>$n.anchor?-1:1),Rn;if(!_n)return;!$n.empty&&(Rn=this.coordsAt($n.anchor,$n.anchor>$n.head?-1:1))&&(_n={left:Math.min(_n.left,Rn.left),top:Math.min(_n.top,Rn.top),right:Math.max(_n.right,Rn.right),bottom:Math.max(_n.bottom,Rn.bottom)});let Bn=getScrollMargins(this.view),Ln={left:_n.left-Bn.left,top:_n.top-Bn.top,right:_n.right+Bn.right,bottom:_n.bottom+Bn.bottom},{offsetWidth:Dn,offsetHeight:Nn}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,Ln,$n.head<$n.anchor?-1:1,Cn.x,Cn.y,Math.max(Math.min(Cn.xMargin,Dn),-Dn),Math.max(Math.min(Cn.yMargin,Nn),-Nn),this.view.textDirection==Direction.LTR)}}function betweenUneditable(Pn){return Pn.node.nodeType==1&&Pn.node.firstChild&&(Pn.offset==0||Pn.node.childNodes[Pn.offset-1].contentEditable=="false")&&(Pn.offset==Pn.node.childNodes.length||Pn.node.childNodes[Pn.offset].contentEditable=="false")}function findCompositionNode(Pn,Cn){let $n=Pn.observer.selectionRange;if(!$n.focusNode)return null;let _n=textNodeBefore($n.focusNode,$n.focusOffset),Rn=textNodeAfter($n.focusNode,$n.focusOffset),Bn=_n||Rn;if(Rn&&_n&&Rn.node!=_n.node){let Dn=ContentView.get(Rn.node);if(!Dn||Dn instanceof TextView&&Dn.text!=Rn.node.nodeValue)Bn=Rn;else if(Pn.docView.lastCompositionAfterCursor){let Nn=ContentView.get(_n.node);!Nn||Nn instanceof TextView&&Nn.text!=_n.node.nodeValue||(Bn=Rn)}}if(Pn.docView.lastCompositionAfterCursor=Bn!=_n,!Bn)return null;let Ln=Cn-Bn.offset;return{from:Ln,to:Ln+Bn.node.nodeValue.length,node:Bn.node}}function findCompositionRange(Pn,Cn,$n){let _n=findCompositionNode(Pn,$n);if(!_n)return null;let{node:Rn,from:Bn,to:Ln}=_n,Dn=Rn.nodeValue;if(/[\n\r]/.test(Dn)||Pn.state.doc.sliceString(_n.from,_n.to)!=Dn)return null;let Nn=Cn.invertedDesc,Fn=new ChangedRange(Nn.mapPos(Bn),Nn.mapPos(Ln),Bn,Ln),Wn=[];for(let zn=Rn.parentNode;;zn=zn.parentNode){let Yn=ContentView.get(zn);if(Yn instanceof MarkView)Wn.push({node:zn,deco:Yn.mark});else{if(Yn instanceof LineView||zn.nodeName=="DIV"&&zn.parentNode==Pn.contentDOM)return{range:Fn,text:Rn,marks:Wn,line:zn};if(zn!=Pn.contentDOM)Wn.push({node:zn,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(zn),tagName:zn.tagName.toLowerCase()})});else return null}}}function nextToUneditable(Pn,Cn){return Pn.nodeType!=1?0:(Cn&&Pn.childNodes[Cn-1].contentEditable=="false"?1:0)|(Cn<Pn.childNodes.length&&Pn.childNodes[Cn].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(Cn,$n){addRange(Cn,$n,this.changes)}comparePoint(Cn,$n){addRange(Cn,$n,this.changes)}boundChange(Cn){addRange(Cn,Cn,this.changes)}};function findChangedDeco(Pn,Cn,$n){let _n=new DecorationComparator$1;return RangeSet.compare(Pn,Cn,$n,_n),_n.changes}function inUneditable(Pn,Cn){for(let $n=Pn;$n&&$n!=Cn;$n=$n.assignedSlot||$n.parentNode)if($n.nodeType==1&&$n.contentEditable=="false")return!0;return!1}function touchesComposition(Pn,Cn){let $n=!1;return Cn&&Pn.iterChangedRanges((_n,Rn)=>{_n<Cn.to&&Rn>Cn.from&&($n=!0)}),$n}function groupAt(Pn,Cn,$n=1){let _n=Pn.charCategorizer(Cn),Rn=Pn.doc.lineAt(Cn),Bn=Cn-Rn.from;if(Rn.length==0)return EditorSelection.cursor(Cn);Bn==0?$n=1:Bn==Rn.length&&($n=-1);let Ln=Bn,Dn=Bn;$n<0?Ln=findClusterBreak(Rn.text,Bn,!1):Dn=findClusterBreak(Rn.text,Bn);let Nn=_n(Rn.text.slice(Ln,Dn));for(;Ln>0;){let Fn=findClusterBreak(Rn.text,Ln,!1);if(_n(Rn.text.slice(Fn,Ln))!=Nn)break;Ln=Fn}for(;Dn<Rn.length;){let Fn=findClusterBreak(Rn.text,Dn);if(_n(Rn.text.slice(Dn,Fn))!=Nn)break;Dn=Fn}return EditorSelection.range(Ln+Rn.from,Dn+Rn.from)}function getdx(Pn,Cn){return Cn.left>Pn?Cn.left-Pn:Math.max(0,Pn-Cn.right)}function getdy(Pn,Cn){return Cn.top>Pn?Cn.top-Pn:Math.max(0,Pn-Cn.bottom)}function yOverlap(Pn,Cn){return Pn.top<Cn.bottom-1&&Pn.bottom>Cn.top+1}function upTop(Pn,Cn){return Cn<Pn.top?{top:Cn,left:Pn.left,right:Pn.right,bottom:Pn.bottom}:Pn}function upBot(Pn,Cn){return Cn>Pn.bottom?{top:Pn.top,left:Pn.left,right:Pn.right,bottom:Cn}:Pn}function domPosAtCoords(Pn,Cn,$n){let _n,Rn,Bn,Ln,Dn=!1,Nn,Fn,Wn,zn;for(let ei=Pn.firstChild;ei;ei=ei.nextSibling){let ti=clientRectsFor(ei);for(let ii=0;ii<ti.length;ii++){let oi=ti[ii];Rn&&yOverlap(Rn,oi)&&(oi=upTop(upBot(oi,Rn.bottom),Rn.top));let ai=getdx(Cn,oi),fi=getdy($n,oi);if(ai==0&&fi==0)return ei.nodeType==3?domPosInText(ei,Cn,$n):domPosAtCoords(ei,Cn,$n);if(!_n||Ln>fi||Ln==fi&&Bn>ai){_n=ei,Rn=oi,Bn=ai,Ln=fi;let ui=fi?$n<oi.top?-1:1:ai?Cn<oi.left?-1:1:0;Dn=!ui||(ui>0?ii<ti.length-1:ii>0)}ai==0?$n>oi.bottom&&(!Wn||Wn.bottom<oi.bottom)?(Nn=ei,Wn=oi):$n<oi.top&&(!zn||zn.top>oi.top)&&(Fn=ei,zn=oi):Wn&&yOverlap(Wn,oi)?Wn=upBot(Wn,oi.bottom):zn&&yOverlap(zn,oi)&&(zn=upTop(zn,oi.top))}}if(Wn&&Wn.bottom>=$n?(_n=Nn,Rn=Wn):zn&&zn.top<=$n&&(_n=Fn,Rn=zn),!_n)return{node:Pn,offset:0};let Yn=Math.max(Rn.left,Math.min(Rn.right,Cn));if(_n.nodeType==3)return domPosInText(_n,Yn,$n);if(Dn&&_n.contentEditable!="false")return domPosAtCoords(_n,Yn,$n);let Gn=Array.prototype.indexOf.call(Pn.childNodes,_n)+(Cn>=(Rn.left+Rn.right)/2?1:0);return{node:Pn,offset:Gn}}function domPosInText(Pn,Cn,$n){let _n=Pn.nodeValue.length,Rn=-1,Bn=1e9,Ln=0;for(let Dn=0;Dn<_n;Dn++){let Nn=textRange(Pn,Dn,Dn+1).getClientRects();for(let Fn=0;Fn<Nn.length;Fn++){let Wn=Nn[Fn];if(Wn.top==Wn.bottom)continue;Ln||(Ln=Cn-Wn.left);let zn=(Wn.top>$n?Wn.top-$n:$n-Wn.bottom)-1;if(Wn.left-1<=Cn&&Wn.right+1>=Cn&&zn<Bn){let Yn=Cn>=(Wn.left+Wn.right)/2,Gn=Yn;if((browser.chrome||browser.gecko)&&textRange(Pn,Dn).getBoundingClientRect().left==Wn.right&&(Gn=!Yn),zn<=0)return{node:Pn,offset:Dn+(Gn?1:0)};Rn=Dn+(Gn?1:0),Bn=zn}}}return{node:Pn,offset:Rn>-1?Rn:Ln>0?Pn.nodeValue.length:0}}function posAtCoords(Pn,Cn,$n,_n=-1){var Rn,Bn;let Ln=Pn.contentDOM.getBoundingClientRect(),Dn=Ln.top+Pn.viewState.paddingTop,Nn,{docHeight:Fn}=Pn.viewState,{x:Wn,y:zn}=Cn,Yn=zn-Dn;if(Yn<0)return 0;if(Yn>Fn)return Pn.state.doc.length;for(let ui=Pn.viewState.heightOracle.textHeight/2,di=!1;Nn=Pn.elementAtHeight(Yn),Nn.type!=BlockType.Text;)for(;Yn=_n>0?Nn.bottom+ui:Nn.top-ui,!(Yn>=0&&Yn<=Fn);){if(di)return $n?null:0;di=!0,_n=-_n}zn=Dn+Yn;let Gn=Nn.from;if(Gn<Pn.viewport.from)return Pn.viewport.from==0?0:$n?null:posAtCoordsImprecise(Pn,Ln,Nn,Wn,zn);if(Gn>Pn.viewport.to)return Pn.viewport.to==Pn.state.doc.length?Pn.state.doc.length:$n?null:posAtCoordsImprecise(Pn,Ln,Nn,Wn,zn);let ei=Pn.dom.ownerDocument,ti=Pn.root.elementFromPoint?Pn.root:ei,ii=ti.elementFromPoint(Wn,zn);ii&&!Pn.contentDOM.contains(ii)&&(ii=null),ii||(Wn=Math.max(Ln.left+1,Math.min(Ln.right-1,Wn)),ii=ti.elementFromPoint(Wn,zn),ii&&!Pn.contentDOM.contains(ii)&&(ii=null));let oi,ai=-1;if(ii&&((Rn=Pn.docView.nearest(ii))===null||Rn===void 0?void 0:Rn.isEditable)!=!1){if(ei.caretPositionFromPoint){let ui=ei.caretPositionFromPoint(Wn,zn);ui&&({offsetNode:oi,offset:ai}=ui)}else if(ei.caretRangeFromPoint){let ui=ei.caretRangeFromPoint(Wn,zn);ui&&({startContainer:oi,startOffset:ai}=ui,(!Pn.contentDOM.contains(oi)||browser.safari&&isSuspiciousSafariCaretResult(oi,ai,Wn)||browser.chrome&&isSuspiciousChromeCaretResult(oi,ai,Wn))&&(oi=void 0))}oi&&(ai=Math.min(maxOffset(oi),ai))}if(!oi||!Pn.docView.dom.contains(oi)){let ui=LineView.find(Pn.docView,Gn);if(!ui)return Yn>Nn.top+Nn.height/2?Nn.to:Nn.from;({node:oi,offset:ai}=domPosAtCoords(ui.dom,Wn,zn))}let fi=Pn.docView.nearest(oi);if(!fi)return null;if(fi.isWidget&&((Bn=fi.dom)===null||Bn===void 0?void 0:Bn.nodeType)==1){let ui=fi.dom.getBoundingClientRect();return Cn.y<ui.top||Cn.y<=ui.bottom&&Cn.x<=(ui.left+ui.right)/2?fi.posAtStart:fi.posAtEnd}else return fi.localPosFromDOM(oi,ai)+fi.posAtStart}function posAtCoordsImprecise(Pn,Cn,$n,_n,Rn){let Bn=Math.round((_n-Cn.left)*Pn.defaultCharacterWidth);if(Pn.lineWrapping&&$n.height>Pn.defaultLineHeight*1.5){let Dn=Pn.viewState.heightOracle.textHeight,Nn=Math.floor((Rn-$n.top-(Pn.defaultLineHeight-Dn)*.5)/Dn);Bn+=Nn*Pn.viewState.heightOracle.lineLength}let Ln=Pn.state.sliceDoc($n.from,$n.to);return $n.from+findColumn(Ln,Bn,Pn.state.tabSize)}function isSuspiciousSafariCaretResult(Pn,Cn,$n){let _n;if(Pn.nodeType!=3||Cn!=(_n=Pn.nodeValue.length))return!1;for(let Rn=Pn.nextSibling;Rn;Rn=Rn.nextSibling)if(Rn.nodeType!=1||Rn.nodeName!="BR")return!1;return textRange(Pn,_n-1,_n).getBoundingClientRect().left>$n}function isSuspiciousChromeCaretResult(Pn,Cn,$n){if(Cn!=0)return!1;for(let Rn=Pn;;){let Bn=Rn.parentNode;if(!Bn||Bn.nodeType!=1||Bn.firstChild!=Rn)return!1;if(Bn.classList.contains("cm-line"))break;Rn=Bn}let _n=Pn.nodeType==1?Pn.getBoundingClientRect():textRange(Pn,0,Math.max(Pn.nodeValue.length,1)).getBoundingClientRect();return $n-_n.left>5}function blockAt(Pn,Cn,$n){let _n=Pn.lineBlockAt(Cn);if(Array.isArray(_n.type)){let Rn;for(let Bn of _n.type){if(Bn.from>Cn)break;if(!(Bn.to<Cn)){if(Bn.from<Cn&&Bn.to>Cn)return Bn;(!Rn||Bn.type==BlockType.Text&&(Rn.type!=Bn.type||($n<0?Bn.from<Cn:Bn.to>Cn)))&&(Rn=Bn)}}return Rn||_n}return _n}function moveToLineBoundary(Pn,Cn,$n,_n){let Rn=blockAt(Pn,Cn.head,Cn.assoc||-1),Bn=!_n||Rn.type!=BlockType.Text||!(Pn.lineWrapping||Rn.widgetLineBreaks)?null:Pn.coordsAtPos(Cn.assoc<0&&Cn.head>Rn.from?Cn.head-1:Cn.head);if(Bn){let Ln=Pn.dom.getBoundingClientRect(),Dn=Pn.textDirectionAt(Rn.from),Nn=Pn.posAtCoords({x:$n==(Dn==Direction.LTR)?Ln.right-1:Ln.left+1,y:(Bn.top+Bn.bottom)/2});if(Nn!=null)return EditorSelection.cursor(Nn,$n?-1:1)}return EditorSelection.cursor($n?Rn.to:Rn.from,$n?-1:1)}function moveByChar(Pn,Cn,$n,_n){let Rn=Pn.state.doc.lineAt(Cn.head),Bn=Pn.bidiSpans(Rn),Ln=Pn.textDirectionAt(Rn.from);for(let Dn=Cn,Nn=null;;){let Fn=moveVisually(Rn,Bn,Ln,Dn,$n),Wn=movedOver;if(!Fn){if(Rn.number==($n?Pn.state.doc.lines:1))return Dn;Wn=`
`,Rn=Pn.state.doc.line(Rn.number+($n?1:-1)),Bn=Pn.bidiSpans(Rn),Fn=Pn.visualLineSide(Rn,!$n)}if(Nn){if(!Nn(Wn))return Dn}else{if(!_n)return Fn;Nn=_n(Wn)}Dn=Fn}}function byGroup(Pn,Cn,$n){let _n=Pn.state.charCategorizer(Cn),Rn=_n($n);return Bn=>{let Ln=_n(Bn);return Rn==CharCategory.Space&&(Rn=Ln),Rn==Ln}}function moveVertically(Pn,Cn,$n,_n){let Rn=Cn.head,Bn=$n?1:-1;if(Rn==($n?Pn.state.doc.length:0))return EditorSelection.cursor(Rn,Cn.assoc);let Ln=Cn.goalColumn,Dn,Nn=Pn.contentDOM.getBoundingClientRect(),Fn=Pn.coordsAtPos(Rn,Cn.assoc||-1),Wn=Pn.documentTop;if(Fn)Ln==null&&(Ln=Fn.left-Nn.left),Dn=Bn<0?Fn.top:Fn.bottom;else{let Gn=Pn.viewState.lineBlockAt(Rn);Ln==null&&(Ln=Math.min(Nn.right-Nn.left,Pn.defaultCharacterWidth*(Rn-Gn.from))),Dn=(Bn<0?Gn.top:Gn.bottom)+Wn}let zn=Nn.left+Ln,Yn=_n??Pn.viewState.heightOracle.textHeight>>1;for(let Gn=0;;Gn+=10){let ei=Dn+(Yn+Gn)*Bn,ti=posAtCoords(Pn,{x:zn,y:ei},!1,Bn);if(ei<Nn.top||ei>Nn.bottom||(Bn<0?ti<Rn:ti>Rn)){let ii=Pn.docView.coordsForChar(ti),oi=!ii||ei<ii.top?-1:1;return EditorSelection.cursor(ti,oi,void 0,Ln)}}}function skipAtomicRanges(Pn,Cn,$n){for(;;){let _n=0;for(let Rn of Pn)Rn.between(Cn-1,Cn+1,(Bn,Ln,Dn)=>{if(Cn>Bn&&Cn<Ln){let Nn=_n||$n||(Cn-Bn<Ln-Cn?-1:1);Cn=Nn<0?Bn:Ln,_n=Nn}});if(!_n)return Cn}}function skipAtoms(Pn,Cn,$n){let _n=skipAtomicRanges(Pn.state.facet(atomicRanges).map(Rn=>Rn(Pn)),$n.from,Cn.head>$n.from?-1:1);return _n==$n.from?$n:EditorSelection.cursor(_n,_n<$n.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(Cn,$n){this.points=Cn,this.text="",this.lineSeparator=$n.facet(EditorState.lineSeparator)}append(Cn){this.text+=Cn}lineBreak(){this.text+=LineBreakPlaceholder}readRange(Cn,$n){if(!Cn)return this;let _n=Cn.parentNode;for(let Rn=Cn;;){this.findPointBefore(_n,Rn);let Bn=this.text.length;this.readNode(Rn);let Ln=Rn.nextSibling;if(Ln==$n)break;let Dn=ContentView.get(Rn),Nn=ContentView.get(Ln);(Dn&&Nn?Dn.breakAfter:(Dn?Dn.breakAfter:isBlockElement(Rn))||isBlockElement(Ln)&&(Rn.nodeName!="BR"||Rn.cmIgnore)&&this.text.length>Bn)&&this.lineBreak(),Rn=Ln}return this.findPointBefore(_n,$n),this}readTextNode(Cn){let $n=Cn.nodeValue;for(let _n of this.points)_n.node==Cn&&(_n.pos=this.text.length+Math.min(_n.offset,$n.length));for(let _n=0,Rn=this.lineSeparator?null:/\r\n?|\n/g;;){let Bn=-1,Ln=1,Dn;if(this.lineSeparator?(Bn=$n.indexOf(this.lineSeparator,_n),Ln=this.lineSeparator.length):(Dn=Rn.exec($n))&&(Bn=Dn.index,Ln=Dn[0].length),this.append($n.slice(_n,Bn<0?$n.length:Bn)),Bn<0)break;if(this.lineBreak(),Ln>1)for(let Nn of this.points)Nn.node==Cn&&Nn.pos>this.text.length&&(Nn.pos-=Ln-1);_n=Bn+Ln}}readNode(Cn){if(Cn.cmIgnore)return;let $n=ContentView.get(Cn),_n=$n&&$n.overrideDOMText;if(_n!=null){this.findPointInside(Cn,_n.length);for(let Rn=_n.iter();!Rn.next().done;)Rn.lineBreak?this.lineBreak():this.append(Rn.value)}else Cn.nodeType==3?this.readTextNode(Cn):Cn.nodeName=="BR"?Cn.nextSibling&&this.lineBreak():Cn.nodeType==1&&this.readRange(Cn.firstChild,null)}findPointBefore(Cn,$n){for(let _n of this.points)_n.node==Cn&&Cn.childNodes[_n.offset]==$n&&(_n.pos=this.text.length)}findPointInside(Cn,$n){for(let _n of this.points)(Cn.nodeType==3?_n.node==Cn:Cn.contains(_n.node))&&(_n.pos=this.text.length+(isAtEnd(Cn,_n.node,_n.offset)?$n:0))}}function isAtEnd(Pn,Cn,$n){for(;;){if(!Cn||$n<maxOffset(Cn))return!1;if(Cn==Pn)return!0;$n=domIndex(Cn)+1,Cn=Cn.parentNode}}class DOMPoint{constructor(Cn,$n){this.node=Cn,this.offset=$n,this.pos=-1}}class DOMChange{constructor(Cn,$n,_n,Rn){this.typeOver=Rn,this.bounds=null,this.text="",this.domChanged=$n>-1;let{impreciseHead:Bn,impreciseAnchor:Ln}=Cn.docView;if(Cn.state.readOnly&&$n>-1)this.newSel=null;else if($n>-1&&(this.bounds=Cn.docView.domBoundsAround($n,_n,0))){let Dn=Bn||Ln?[]:selectionPoints(Cn),Nn=new DOMReader(Dn,Cn.state);Nn.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=Nn.text,this.newSel=selectionFromPoints(Dn,this.bounds.from)}else{let Dn=Cn.observer.selectionRange,Nn=Bn&&Bn.node==Dn.focusNode&&Bn.offset==Dn.focusOffset||!contains(Cn.contentDOM,Dn.focusNode)?Cn.state.selection.main.head:Cn.docView.posFromDOM(Dn.focusNode,Dn.focusOffset),Fn=Ln&&Ln.node==Dn.anchorNode&&Ln.offset==Dn.anchorOffset||!contains(Cn.contentDOM,Dn.anchorNode)?Cn.state.selection.main.anchor:Cn.docView.posFromDOM(Dn.anchorNode,Dn.anchorOffset),Wn=Cn.viewport;if((browser.ios||browser.chrome)&&Cn.state.selection.main.empty&&Nn!=Fn&&(Wn.from>0||Wn.to<Cn.state.doc.length)){let zn=Math.min(Nn,Fn),Yn=Math.max(Nn,Fn),Gn=Wn.from-zn,ei=Wn.to-Yn;(Gn==0||Gn==1||zn==0)&&(ei==0||ei==-1||Yn==Cn.state.doc.length)&&(Nn=0,Fn=Cn.state.doc.length)}this.newSel=EditorSelection.single(Fn,Nn)}}}function applyDOMChange(Pn,Cn){let $n,{newSel:_n}=Cn,Rn=Pn.state.selection.main,Bn=Pn.inputState.lastKeyTime>Date.now()-100?Pn.inputState.lastKeyCode:-1;if(Cn.bounds){let{from:Ln,to:Dn}=Cn.bounds,Nn=Rn.from,Fn=null;(Bn===8||browser.android&&Cn.text.length<Dn-Ln)&&(Nn=Rn.to,Fn="end");let Wn=findDiff(Pn.state.doc.sliceString(Ln,Dn,LineBreakPlaceholder),Cn.text,Nn-Ln,Fn);Wn&&(browser.chrome&&Bn==13&&Wn.toB==Wn.from+2&&Cn.text.slice(Wn.from,Wn.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&Wn.toB--,$n={from:Ln+Wn.from,to:Ln+Wn.toA,insert:Text.of(Cn.text.slice(Wn.from,Wn.toB).split(LineBreakPlaceholder))})}else _n&&(!Pn.hasFocus&&Pn.state.facet(editable)||_n.main.eq(Rn))&&(_n=null);if(!$n&&!_n)return!1;if(!$n&&Cn.typeOver&&!Rn.empty&&_n&&_n.main.empty?$n={from:Rn.from,to:Rn.to,insert:Pn.state.doc.slice(Rn.from,Rn.to)}:(browser.mac||browser.android)&&$n&&$n.from==$n.to&&$n.from==Rn.head-1&&/^\. ?$/.test($n.insert.toString())&&Pn.contentDOM.getAttribute("autocorrect")=="off"?(_n&&$n.insert.length==2&&(_n=EditorSelection.single(_n.main.anchor-1,_n.main.head-1)),$n={from:$n.from,to:$n.to,insert:Text.of([$n.insert.toString().replace("."," ")])}):$n&&$n.from>=Rn.from&&$n.to<=Rn.to&&($n.from!=Rn.from||$n.to!=Rn.to)&&Rn.to-Rn.from-($n.to-$n.from)<=4?$n={from:Rn.from,to:Rn.to,insert:Pn.state.doc.slice(Rn.from,$n.from).append($n.insert).append(Pn.state.doc.slice($n.to,Rn.to))}:browser.chrome&&$n&&$n.from==$n.to&&$n.from==Rn.head&&$n.insert.toString()==`
 `&&Pn.lineWrapping&&(_n&&(_n=EditorSelection.single(_n.main.anchor-1,_n.main.head-1)),$n={from:Rn.from,to:Rn.to,insert:Text.of([" "])}),$n)return applyDOMChangeInner(Pn,$n,_n,Bn);if(_n&&!_n.main.eq(Rn)){let Ln=!1,Dn="select";return Pn.inputState.lastSelectionTime>Date.now()-50&&(Pn.inputState.lastSelectionOrigin=="select"&&(Ln=!0),Dn=Pn.inputState.lastSelectionOrigin),Pn.dispatch({selection:_n,scrollIntoView:Ln,userEvent:Dn}),!0}else return!1}function applyDOMChangeInner(Pn,Cn,$n,_n=-1){if(browser.ios&&Pn.inputState.flushIOSKey(Cn))return!0;let Rn=Pn.state.selection.main;if(browser.android&&(Cn.to==Rn.to&&(Cn.from==Rn.from||Cn.from==Rn.from-1&&Pn.state.sliceDoc(Cn.from,Rn.from)==" ")&&Cn.insert.length==1&&Cn.insert.lines==2&&dispatchKey(Pn.contentDOM,"Enter",13)||(Cn.from==Rn.from-1&&Cn.to==Rn.to&&Cn.insert.length==0||_n==8&&Cn.insert.length<Cn.to-Cn.from&&Cn.to>Rn.head)&&dispatchKey(Pn.contentDOM,"Backspace",8)||Cn.from==Rn.from&&Cn.to==Rn.to+1&&Cn.insert.length==0&&dispatchKey(Pn.contentDOM,"Delete",46)))return!0;let Bn=Cn.insert.toString();Pn.inputState.composing>=0&&Pn.inputState.composing++;let Ln,Dn=()=>Ln||(Ln=applyDefaultInsert(Pn,Cn,$n));return Pn.state.facet(inputHandler$1).some(Nn=>Nn(Pn,Cn.from,Cn.to,Bn,Dn))||Pn.dispatch(Dn()),!0}function applyDefaultInsert(Pn,Cn,$n){let _n,Rn=Pn.state,Bn=Rn.selection.main;if(Cn.from>=Bn.from&&Cn.to<=Bn.to&&Cn.to-Cn.from>=(Bn.to-Bn.from)/3&&(!$n||$n.main.empty&&$n.main.from==Cn.from+Cn.insert.length)&&Pn.inputState.composing<0){let Dn=Bn.from<Cn.from?Rn.sliceDoc(Bn.from,Cn.from):"",Nn=Bn.to>Cn.to?Rn.sliceDoc(Cn.to,Bn.to):"";_n=Rn.replaceSelection(Pn.state.toText(Dn+Cn.insert.sliceString(0,void 0,Pn.state.lineBreak)+Nn))}else{let Dn=Rn.changes(Cn),Nn=$n&&$n.main.to<=Dn.newLength?$n.main:void 0;if(Rn.selection.ranges.length>1&&Pn.inputState.composing>=0&&Cn.to<=Bn.to&&Cn.to>=Bn.to-10){let Fn=Pn.state.sliceDoc(Cn.from,Cn.to),Wn,zn=$n&&findCompositionNode(Pn,$n.main.head);if(zn){let ei=Cn.insert.length-(Cn.to-Cn.from);Wn={from:zn.from,to:zn.to-ei}}else Wn=Pn.state.doc.lineAt(Bn.head);let Yn=Bn.to-Cn.to,Gn=Bn.to-Bn.from;_n=Rn.changeByRange(ei=>{if(ei.from==Bn.from&&ei.to==Bn.to)return{changes:Dn,range:Nn||ei.map(Dn)};let ti=ei.to-Yn,ii=ti-Fn.length;if(ei.to-ei.from!=Gn||Pn.state.sliceDoc(ii,ti)!=Fn||ei.to>=Wn.from&&ei.from<=Wn.to)return{range:ei};let oi=Rn.changes({from:ii,to:ti,insert:Cn.insert}),ai=ei.to-Bn.to;return{changes:oi,range:Nn?EditorSelection.range(Math.max(0,Nn.anchor+ai),Math.max(0,Nn.head+ai)):ei.map(oi)}})}else _n={changes:Dn,selection:Nn&&Rn.selection.replaceRange(Nn)}}let Ln="input.type";return(Pn.composing||Pn.inputState.compositionPendingChange&&Pn.inputState.compositionEndedAt>Date.now()-50)&&(Pn.inputState.compositionPendingChange=!1,Ln+=".compose",Pn.inputState.compositionFirstChange&&(Ln+=".start",Pn.inputState.compositionFirstChange=!1)),Rn.update(_n,{userEvent:Ln,scrollIntoView:!0})}function findDiff(Pn,Cn,$n,_n){let Rn=Math.min(Pn.length,Cn.length),Bn=0;for(;Bn<Rn&&Pn.charCodeAt(Bn)==Cn.charCodeAt(Bn);)Bn++;if(Bn==Rn&&Pn.length==Cn.length)return null;let Ln=Pn.length,Dn=Cn.length;for(;Ln>0&&Dn>0&&Pn.charCodeAt(Ln-1)==Cn.charCodeAt(Dn-1);)Ln--,Dn--;if(_n=="end"){let Nn=Math.max(0,Bn-Math.min(Ln,Dn));$n-=Ln+Nn-Bn}if(Ln<Bn&&Pn.length<Cn.length){let Nn=$n<=Bn&&$n>=Ln?Bn-$n:0;Bn-=Nn,Dn=Bn+(Dn-Ln),Ln=Bn}else if(Dn<Bn){let Nn=$n<=Bn&&$n>=Dn?Bn-$n:0;Bn-=Nn,Ln=Bn+(Ln-Dn),Dn=Bn}return{from:Bn,toA:Ln,toB:Dn}}function selectionPoints(Pn){let Cn=[];if(Pn.root.activeElement!=Pn.contentDOM)return Cn;let{anchorNode:$n,anchorOffset:_n,focusNode:Rn,focusOffset:Bn}=Pn.observer.selectionRange;return $n&&(Cn.push(new DOMPoint($n,_n)),(Rn!=$n||Bn!=_n)&&Cn.push(new DOMPoint(Rn,Bn))),Cn}function selectionFromPoints(Pn,Cn){if(Pn.length==0)return null;let $n=Pn[0].pos,_n=Pn.length==2?Pn[1].pos:$n;return $n>-1&&_n>-1?EditorSelection.single($n+Cn,_n+Cn):null}class InputState{setSelectionOrigin(Cn){this.lastSelectionOrigin=Cn,this.lastSelectionTime=Date.now()}constructor(Cn){this.view=Cn,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Cn.hasFocus,browser.safari&&Cn.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(Cn.contentDOM.ownerDocument)}handleEvent(Cn){!eventBelongsToEditor(this.view,Cn)||this.ignoreDuringComposition(Cn)||Cn.type=="keydown"&&this.keydown(Cn)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(Cn.type,Cn)):this.runHandlers(Cn.type,Cn))}runHandlers(Cn,$n){let _n=this.handlers[Cn];if(_n){for(let Rn of _n.observers)Rn(this.view,$n);for(let Rn of _n.handlers){if($n.defaultPrevented)break;if(Rn(this.view,$n)){$n.preventDefault();break}}}}ensureHandlers(Cn){let $n=computeHandlers(Cn),_n=this.handlers,Rn=this.view.contentDOM;for(let Bn in $n)if(Bn!="scroll"){let Ln=!$n[Bn].handlers.length,Dn=_n[Bn];Dn&&Ln!=!Dn.handlers.length&&(Rn.removeEventListener(Bn,this.handleEvent),Dn=null),Dn||Rn.addEventListener(Bn,this.handleEvent,{passive:Ln})}for(let Bn in _n)Bn!="scroll"&&!$n[Bn]&&Rn.removeEventListener(Bn,this.handleEvent);this.handlers=$n}keydown(Cn){if(this.lastKeyCode=Cn.keyCode,this.lastKeyTime=Date.now(),Cn.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Cn.keyCode!=27&&modifierCodes.indexOf(Cn.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!Cn.synthetic&&(Cn.keyCode==13||Cn.keyCode==8))return this.view.observer.delayAndroidKey(Cn.key,Cn.keyCode),!0;let $n;return browser.ios&&!Cn.synthetic&&!Cn.altKey&&!Cn.metaKey&&(($n=PendingKeys.find(_n=>_n.keyCode==Cn.keyCode))&&!Cn.ctrlKey||EmacsyPendingKeys.indexOf(Cn.key)>-1&&Cn.ctrlKey&&!Cn.shiftKey)?(this.pendingIOSKey=$n||Cn,setTimeout(()=>this.flushIOSKey(),250),!0):(Cn.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(Cn){let $n=this.pendingIOSKey;return!$n||$n.key=="Enter"&&Cn&&Cn.from<Cn.to&&/^\S+$/.test(Cn.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,$n.key,$n.keyCode,$n instanceof KeyboardEvent?$n:void 0))}ignoreDuringComposition(Cn){return/^key/.test(Cn.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(Cn){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=Cn}update(Cn){this.view.observer.update(Cn),this.mouseSelection&&this.mouseSelection.update(Cn),this.draggedContent&&Cn.docChanged&&(this.draggedContent=this.draggedContent.map(Cn.changes)),Cn.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(Pn,Cn){return($n,_n)=>{try{return Cn.call(Pn,_n,$n)}catch(Rn){logException($n.state,Rn)}}}function computeHandlers(Pn){let Cn=Object.create(null);function $n(_n){return Cn[_n]||(Cn[_n]={observers:[],handlers:[]})}for(let _n of Pn){let Rn=_n.spec;if(Rn&&Rn.domEventHandlers)for(let Bn in Rn.domEventHandlers){let Ln=Rn.domEventHandlers[Bn];Ln&&$n(Bn).handlers.push(bindHandler(_n.value,Ln))}if(Rn&&Rn.domEventObservers)for(let Bn in Rn.domEventObservers){let Ln=Rn.domEventObservers[Bn];Ln&&$n(Bn).observers.push(bindHandler(_n.value,Ln))}}for(let _n in handlers)$n(_n).handlers.push(handlers[_n]);for(let _n in observers)$n(_n).observers.push(observers[_n]);return Cn}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(Pn){return Math.max(0,Pn)*.7+8}function dist(Pn,Cn){return Math.max(Math.abs(Pn.clientX-Cn.clientX),Math.abs(Pn.clientY-Cn.clientY))}class MouseSelection{constructor(Cn,$n,_n,Rn){this.view=Cn,this.startEvent=$n,this.style=_n,this.mustSelect=Rn,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=$n,this.scrollParents=scrollableParents(Cn.contentDOM),this.atoms=Cn.state.facet(atomicRanges).map(Ln=>Ln(Cn));let Bn=Cn.contentDOM.ownerDocument;Bn.addEventListener("mousemove",this.move=this.move.bind(this)),Bn.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=$n.shiftKey,this.multiple=Cn.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(Cn,$n),this.dragging=isInPrimarySelection(Cn,$n)&&getClickType($n)==1?null:!1}start(Cn){this.dragging===!1&&this.select(Cn)}move(Cn){if(Cn.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,Cn)<10)return;this.select(this.lastEvent=Cn);let $n=0,_n=0,Rn=0,Bn=0,Ln=this.view.win.innerWidth,Dn=this.view.win.innerHeight;this.scrollParents.x&&({left:Rn,right:Ln}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:Bn,bottom:Dn}=this.scrollParents.y.getBoundingClientRect());let Nn=getScrollMargins(this.view);Cn.clientX-Nn.left<=Rn+dragScrollMargin?$n=-dragScrollSpeed(Rn-Cn.clientX):Cn.clientX+Nn.right>=Ln-dragScrollMargin&&($n=dragScrollSpeed(Cn.clientX-Ln)),Cn.clientY-Nn.top<=Bn+dragScrollMargin?_n=-dragScrollSpeed(Bn-Cn.clientY):Cn.clientY+Nn.bottom>=Dn-dragScrollMargin&&(_n=dragScrollSpeed(Cn.clientY-Dn)),this.setScrollSpeed($n,_n)}up(Cn){this.dragging==null&&this.select(this.lastEvent),this.dragging||Cn.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let Cn=this.view.contentDOM.ownerDocument;Cn.removeEventListener("mousemove",this.move),Cn.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Cn,$n){this.scrollSpeed={x:Cn,y:$n},Cn||$n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:Cn,y:$n}=this.scrollSpeed;Cn&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=Cn,Cn=0),$n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=$n,$n=0),(Cn||$n)&&this.view.win.scrollBy(Cn,$n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(Cn){let $n=null;for(let _n=0;_n<Cn.ranges.length;_n++){let Rn=Cn.ranges[_n],Bn=null;if(Rn.empty){let Ln=skipAtomicRanges(this.atoms,Rn.from,0);Ln!=Rn.from&&(Bn=EditorSelection.cursor(Ln,-1))}else{let Ln=skipAtomicRanges(this.atoms,Rn.from,-1),Dn=skipAtomicRanges(this.atoms,Rn.to,1);(Ln!=Rn.from||Dn!=Rn.to)&&(Bn=EditorSelection.range(Rn.from==Rn.anchor?Ln:Dn,Rn.from==Rn.head?Ln:Dn))}Bn&&($n||($n=Cn.ranges.slice()),$n[_n]=Bn)}return $n?EditorSelection.create($n,Cn.mainIndex):Cn}select(Cn){let{view:$n}=this,_n=this.skipAtoms(this.style.get(Cn,this.extend,this.multiple));(this.mustSelect||!_n.eq($n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:_n,userEvent:"select.pointer"}),this.mustSelect=!1}update(Cn){Cn.transactions.some($n=>$n.isUserEvent("input.type"))?this.destroy():this.style.update(Cn)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(Pn,Cn){let $n=Pn.state.facet(clickAddsSelectionRange);return $n.length?$n[0](Cn):browser.mac?Cn.metaKey:Cn.ctrlKey}function dragMovesSelection(Pn,Cn){let $n=Pn.state.facet(dragMovesSelection$1);return $n.length?$n[0](Cn):browser.mac?!Cn.altKey:!Cn.ctrlKey}function isInPrimarySelection(Pn,Cn){let{main:$n}=Pn.state.selection;if($n.empty)return!1;let _n=getSelection(Pn.root);if(!_n||_n.rangeCount==0)return!0;let Rn=_n.getRangeAt(0).getClientRects();for(let Bn=0;Bn<Rn.length;Bn++){let Ln=Rn[Bn];if(Ln.left<=Cn.clientX&&Ln.right>=Cn.clientX&&Ln.top<=Cn.clientY&&Ln.bottom>=Cn.clientY)return!0}return!1}function eventBelongsToEditor(Pn,Cn){if(!Cn.bubbles)return!0;if(Cn.defaultPrevented)return!1;for(let $n=Cn.target,_n;$n!=Pn.contentDOM;$n=$n.parentNode)if(!$n||$n.nodeType==11||(_n=ContentView.get($n))&&_n.ignoreEvent(Cn))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(Pn){let Cn=Pn.dom.parentNode;if(!Cn)return;let $n=Cn.appendChild(document.createElement("textarea"));$n.style.cssText="position: fixed; left: -10000px; top: 10px",$n.focus(),setTimeout(()=>{Pn.focus(),$n.remove(),doPaste(Pn,$n.value)},50)}function textFilter(Pn,Cn,$n){for(let _n of Pn.facet(Cn))$n=_n($n,Pn);return $n}function doPaste(Pn,Cn){Cn=textFilter(Pn.state,clipboardInputFilter,Cn);let{state:$n}=Pn,_n,Rn=1,Bn=$n.toText(Cn),Ln=Bn.lines==$n.selection.ranges.length;if(lastLinewiseCopy!=null&&$n.selection.ranges.every(Nn=>Nn.empty)&&lastLinewiseCopy==Bn.toString()){let Nn=-1;_n=$n.changeByRange(Fn=>{let Wn=$n.doc.lineAt(Fn.from);if(Wn.from==Nn)return{range:Fn};Nn=Wn.from;let zn=$n.toText((Ln?Bn.line(Rn++).text:Cn)+$n.lineBreak);return{changes:{from:Wn.from,insert:zn},range:EditorSelection.cursor(Fn.from+zn.length)}})}else Ln?_n=$n.changeByRange(Nn=>{let Fn=Bn.line(Rn++);return{changes:{from:Nn.from,to:Nn.to,insert:Fn.text},range:EditorSelection.cursor(Nn.from+Fn.length)}}):_n=$n.replaceSelection(Bn);Pn.dispatch(_n,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=Pn=>{Pn.inputState.lastScrollTop=Pn.scrollDOM.scrollTop,Pn.inputState.lastScrollLeft=Pn.scrollDOM.scrollLeft};handlers.keydown=(Pn,Cn)=>(Pn.inputState.setSelectionOrigin("select"),Cn.keyCode==27&&Pn.inputState.tabFocusMode!=0&&(Pn.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(Pn,Cn)=>{Pn.inputState.lastTouchTime=Date.now(),Pn.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=Pn=>{Pn.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(Pn,Cn)=>{if(Pn.observer.flush(),Pn.inputState.lastTouchTime>Date.now()-2e3)return!1;let $n=null;for(let _n of Pn.state.facet(mouseSelectionStyle))if($n=_n(Pn,Cn),$n)break;if(!$n&&Cn.button==0&&($n=basicMouseSelection(Pn,Cn)),$n){let _n=!Pn.hasFocus;Pn.inputState.startMouseSelection(new MouseSelection(Pn,Cn,$n,_n)),_n&&Pn.observer.ignore(()=>{focusPreventScroll(Pn.contentDOM);let Bn=Pn.root.activeElement;Bn&&!Bn.contains(Pn.contentDOM)&&Bn.blur()});let Rn=Pn.inputState.mouseSelection;if(Rn)return Rn.start(Cn),Rn.dragging===!1}return!1};function rangeForClick(Pn,Cn,$n,_n){if(_n==1)return EditorSelection.cursor(Cn,$n);if(_n==2)return groupAt(Pn.state,Cn,$n);{let Rn=LineView.find(Pn.docView,Cn),Bn=Pn.state.doc.lineAt(Rn?Rn.posAtEnd:Cn),Ln=Rn?Rn.posAtStart:Bn.from,Dn=Rn?Rn.posAtEnd:Bn.to;return Dn<Pn.state.doc.length&&Dn==Bn.to&&Dn++,EditorSelection.range(Ln,Dn)}}let inside=(Pn,Cn,$n)=>Cn>=$n.top&&Cn<=$n.bottom&&Pn>=$n.left&&Pn<=$n.right;function findPositionSide(Pn,Cn,$n,_n){let Rn=LineView.find(Pn.docView,Cn);if(!Rn)return 1;let Bn=Cn-Rn.posAtStart;if(Bn==0)return 1;if(Bn==Rn.length)return-1;let Ln=Rn.coordsAt(Bn,-1);if(Ln&&inside($n,_n,Ln))return-1;let Dn=Rn.coordsAt(Bn,1);return Dn&&inside($n,_n,Dn)?1:Ln&&Ln.bottom>=_n?-1:1}function queryPos(Pn,Cn){let $n=Pn.posAtCoords({x:Cn.clientX,y:Cn.clientY},!1);return{pos:$n,bias:findPositionSide(Pn,$n,Cn.clientX,Cn.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(Pn){if(!BadMouseDetail)return Pn.detail;let Cn=lastMouseDown,$n=lastMouseDownTime;return lastMouseDown=Pn,lastMouseDownTime=Date.now(),lastMouseDownCount=!Cn||$n>Date.now()-400&&Math.abs(Cn.clientX-Pn.clientX)<2&&Math.abs(Cn.clientY-Pn.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(Pn,Cn){let $n=queryPos(Pn,Cn),_n=getClickType(Cn),Rn=Pn.state.selection;return{update(Bn){Bn.docChanged&&($n.pos=Bn.changes.mapPos($n.pos),Rn=Rn.map(Bn.changes))},get(Bn,Ln,Dn){let Nn=queryPos(Pn,Bn),Fn,Wn=rangeForClick(Pn,Nn.pos,Nn.bias,_n);if($n.pos!=Nn.pos&&!Ln){let zn=rangeForClick(Pn,$n.pos,$n.bias,_n),Yn=Math.min(zn.from,Wn.from),Gn=Math.max(zn.to,Wn.to);Wn=Yn<Wn.from?EditorSelection.range(Yn,Gn):EditorSelection.range(Gn,Yn)}return Ln?Rn.replaceRange(Rn.main.extend(Wn.from,Wn.to)):Dn&&_n==1&&Rn.ranges.length>1&&(Fn=removeRangeAround(Rn,Nn.pos))?Fn:Dn?Rn.addRange(Wn):EditorSelection.create([Wn])}}}function removeRangeAround(Pn,Cn){for(let $n=0;$n<Pn.ranges.length;$n++){let{from:_n,to:Rn}=Pn.ranges[$n];if(_n<=Cn&&Rn>=Cn)return EditorSelection.create(Pn.ranges.slice(0,$n).concat(Pn.ranges.slice($n+1)),Pn.mainIndex==$n?0:Pn.mainIndex-(Pn.mainIndex>$n?1:0))}return null}handlers.dragstart=(Pn,Cn)=>{let{selection:{main:$n}}=Pn.state;if(Cn.target.draggable){let Rn=Pn.docView.nearest(Cn.target);if(Rn&&Rn.isWidget){let Bn=Rn.posAtStart,Ln=Bn+Rn.length;(Bn>=$n.to||Ln<=$n.from)&&($n=EditorSelection.range(Bn,Ln))}}let{inputState:_n}=Pn;return _n.mouseSelection&&(_n.mouseSelection.dragging=!0),_n.draggedContent=$n,Cn.dataTransfer&&(Cn.dataTransfer.setData("Text",textFilter(Pn.state,clipboardOutputFilter,Pn.state.sliceDoc($n.from,$n.to))),Cn.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=Pn=>(Pn.inputState.draggedContent=null,!1);function dropText(Pn,Cn,$n,_n){if($n=textFilter(Pn.state,clipboardInputFilter,$n),!$n)return;let Rn=Pn.posAtCoords({x:Cn.clientX,y:Cn.clientY},!1),{draggedContent:Bn}=Pn.inputState,Ln=_n&&Bn&&dragMovesSelection(Pn,Cn)?{from:Bn.from,to:Bn.to}:null,Dn={from:Rn,insert:$n},Nn=Pn.state.changes(Ln?[Ln,Dn]:Dn);Pn.focus(),Pn.dispatch({changes:Nn,selection:{anchor:Nn.mapPos(Rn,-1),head:Nn.mapPos(Rn,1)},userEvent:Ln?"move.drop":"input.drop"}),Pn.inputState.draggedContent=null}handlers.drop=(Pn,Cn)=>{if(!Cn.dataTransfer)return!1;if(Pn.state.readOnly)return!0;let $n=Cn.dataTransfer.files;if($n&&$n.length){let _n=Array($n.length),Rn=0,Bn=()=>{++Rn==$n.length&&dropText(Pn,Cn,_n.filter(Ln=>Ln!=null).join(Pn.state.lineBreak),!1)};for(let Ln=0;Ln<$n.length;Ln++){let Dn=new FileReader;Dn.onerror=Bn,Dn.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(Dn.result)||(_n[Ln]=Dn.result),Bn()},Dn.readAsText($n[Ln])}return!0}else{let _n=Cn.dataTransfer.getData("Text");if(_n)return dropText(Pn,Cn,_n,!0),!0}return!1};handlers.paste=(Pn,Cn)=>{if(Pn.state.readOnly)return!0;Pn.observer.flush();let $n=brokenClipboardAPI?null:Cn.clipboardData;return $n?(doPaste(Pn,$n.getData("text/plain")||$n.getData("text/uri-list")),!0):(capturePaste(Pn),!1)};function captureCopy(Pn,Cn){let $n=Pn.dom.parentNode;if(!$n)return;let _n=$n.appendChild(document.createElement("textarea"));_n.style.cssText="position: fixed; left: -10000px; top: 10px",_n.value=Cn,_n.focus(),_n.selectionEnd=Cn.length,_n.selectionStart=0,setTimeout(()=>{_n.remove(),Pn.focus()},50)}function copiedRange(Pn){let Cn=[],$n=[],_n=!1;for(let Rn of Pn.selection.ranges)Rn.empty||(Cn.push(Pn.sliceDoc(Rn.from,Rn.to)),$n.push(Rn));if(!Cn.length){let Rn=-1;for(let{from:Bn}of Pn.selection.ranges){let Ln=Pn.doc.lineAt(Bn);Ln.number>Rn&&(Cn.push(Ln.text),$n.push({from:Ln.from,to:Math.min(Pn.doc.length,Ln.to+1)})),Rn=Ln.number}_n=!0}return{text:textFilter(Pn,clipboardOutputFilter,Cn.join(Pn.lineBreak)),ranges:$n,linewise:_n}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(Pn,Cn)=>{let{text:$n,ranges:_n,linewise:Rn}=copiedRange(Pn.state);if(!$n&&!Rn)return!1;lastLinewiseCopy=Rn?$n:null,Cn.type=="cut"&&!Pn.state.readOnly&&Pn.dispatch({changes:_n,scrollIntoView:!0,userEvent:"delete.cut"});let Bn=brokenClipboardAPI?null:Cn.clipboardData;return Bn?(Bn.clearData(),Bn.setData("text/plain",$n),!0):(captureCopy(Pn,$n),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(Pn,Cn){let $n=[];for(let _n of Pn.facet(focusChangeEffect)){let Rn=_n(Pn,Cn);Rn&&$n.push(Rn)}return $n.length?Pn.update({effects:$n,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(Pn){setTimeout(()=>{let Cn=Pn.hasFocus;if(Cn!=Pn.inputState.notifiedFocused){let $n=focusChangeTransaction(Pn.state,Cn);$n?Pn.dispatch($n):Pn.update([])}},10)}observers.focus=Pn=>{Pn.inputState.lastFocusTime=Date.now(),!Pn.scrollDOM.scrollTop&&(Pn.inputState.lastScrollTop||Pn.inputState.lastScrollLeft)&&(Pn.scrollDOM.scrollTop=Pn.inputState.lastScrollTop,Pn.scrollDOM.scrollLeft=Pn.inputState.lastScrollLeft),updateForFocusChange(Pn)};observers.blur=Pn=>{Pn.observer.clearSelectionRange(),updateForFocusChange(Pn)};observers.compositionstart=observers.compositionupdate=Pn=>{Pn.observer.editContext||(Pn.inputState.compositionFirstChange==null&&(Pn.inputState.compositionFirstChange=!0),Pn.inputState.composing<0&&(Pn.inputState.composing=0))};observers.compositionend=Pn=>{Pn.observer.editContext||(Pn.inputState.composing=-1,Pn.inputState.compositionEndedAt=Date.now(),Pn.inputState.compositionPendingKey=!0,Pn.inputState.compositionPendingChange=Pn.observer.pendingRecords().length>0,Pn.inputState.compositionFirstChange=null,browser.chrome&&browser.android?Pn.observer.flushSoon():Pn.inputState.compositionPendingChange?Promise.resolve().then(()=>Pn.observer.flush()):setTimeout(()=>{Pn.inputState.composing<0&&Pn.docView.hasComposition&&Pn.update([])},50))};observers.contextmenu=Pn=>{Pn.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(Pn,Cn)=>{var $n,_n;if(Cn.inputType=="insertReplacementText"&&Pn.observer.editContext){let Bn=($n=Cn.dataTransfer)===null||$n===void 0?void 0:$n.getData("text/plain"),Ln=Cn.getTargetRanges();if(Bn&&Ln.length){let Dn=Ln[0],Nn=Pn.posAtDOM(Dn.startContainer,Dn.startOffset),Fn=Pn.posAtDOM(Dn.endContainer,Dn.endOffset);return applyDOMChangeInner(Pn,{from:Nn,to:Fn,insert:Pn.state.toText(Bn)},null),!0}}let Rn;if(browser.chrome&&browser.android&&(Rn=PendingKeys.find(Bn=>Bn.inputType==Cn.inputType))&&(Pn.observer.delayAndroidKey(Rn.key,Rn.keyCode),Rn.key=="Backspace"||Rn.key=="Delete")){let Bn=((_n=window.visualViewport)===null||_n===void 0?void 0:_n.height)||0;setTimeout(()=>{var Ln;(((Ln=window.visualViewport)===null||Ln===void 0?void 0:Ln.height)||0)>Bn+10&&Pn.hasFocus&&(Pn.contentDOM.blur(),Pn.focus())},100)}return browser.ios&&Cn.inputType=="deleteContentForward"&&Pn.observer.flushSoon(),browser.safari&&Cn.inputType=="insertText"&&Pn.inputState.composing>=0&&setTimeout(()=>observers.compositionend(Pn,Cn),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(Pn){appliedFirefoxHack.has(Pn)||(appliedFirefoxHack.add(Pn),Pn.addEventListener("copy",()=>{}),Pn.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(Cn){this.lineWrapping=Cn,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(Cn,$n){let _n=this.doc.lineAt($n).number-this.doc.lineAt(Cn).number+1;return this.lineWrapping&&(_n+=Math.max(0,Math.ceil(($n-Cn-_n*this.lineLength*.5)/this.lineLength))),this.lineHeight*_n}heightForLine(Cn){return this.lineWrapping?(1+Math.max(0,Math.ceil((Cn-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(Cn){return this.doc=Cn,this}mustRefreshForWrapping(Cn){return wrappingWhiteSpace.indexOf(Cn)>-1!=this.lineWrapping}mustRefreshForHeights(Cn){let $n=!1;for(let _n=0;_n<Cn.length;_n++){let Rn=Cn[_n];Rn<0?_n++:this.heightSamples[Math.floor(Rn*10)]||($n=!0,this.heightSamples[Math.floor(Rn*10)]=!0)}return $n}refresh(Cn,$n,_n,Rn,Bn,Ln){let Dn=wrappingWhiteSpace.indexOf(Cn)>-1,Nn=Math.round($n)!=Math.round(this.lineHeight)||this.lineWrapping!=Dn;if(this.lineWrapping=Dn,this.lineHeight=$n,this.charWidth=_n,this.textHeight=Rn,this.lineLength=Bn,Nn){this.heightSamples={};for(let Fn=0;Fn<Ln.length;Fn++){let Wn=Ln[Fn];Wn<0?Fn++:this.heightSamples[Math.floor(Wn*10)]=!0}}return Nn}}class MeasuredHeights{constructor(Cn,$n){this.from=Cn,this.heights=$n,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(Cn,$n,_n,Rn,Bn){this.from=Cn,this.length=$n,this.top=_n,this.height=Rn,this._content=Bn}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Cn){let $n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Cn._content)?Cn._content:[Cn]);return new BlockInfo(this.from,this.length+Cn.length,this.top,this.height+Cn.height,$n)}}var QueryType$1=function(Pn){return Pn[Pn.ByPos=0]="ByPos",Pn[Pn.ByHeight=1]="ByHeight",Pn[Pn.ByPosNoHeight=2]="ByPosNoHeight",Pn}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(Cn,$n,_n=2){this.length=Cn,this.height=$n,this.flags=_n}get outdated(){return(this.flags&2)>0}set outdated(Cn){this.flags=(Cn?2:0)|this.flags&-3}setHeight(Cn){this.height!=Cn&&(Math.abs(this.height-Cn)>Epsilon&&(heightChangeFlag=!0),this.height=Cn)}replace(Cn,$n,_n){return HeightMap.of(_n)}decomposeLeft(Cn,$n){$n.push(this)}decomposeRight(Cn,$n){$n.push(this)}applyChanges(Cn,$n,_n,Rn){let Bn=this,Ln=_n.doc;for(let Dn=Rn.length-1;Dn>=0;Dn--){let{fromA:Nn,toA:Fn,fromB:Wn,toB:zn}=Rn[Dn],Yn=Bn.lineAt(Nn,QueryType$1.ByPosNoHeight,_n.setDoc($n),0,0),Gn=Yn.to>=Fn?Yn:Bn.lineAt(Fn,QueryType$1.ByPosNoHeight,_n,0,0);for(zn+=Gn.to-Fn,Fn=Gn.to;Dn>0&&Yn.from<=Rn[Dn-1].toA;)Nn=Rn[Dn-1].fromA,Wn=Rn[Dn-1].fromB,Dn--,Nn<Yn.from&&(Yn=Bn.lineAt(Nn,QueryType$1.ByPosNoHeight,_n,0,0));Wn+=Yn.from-Nn,Nn=Yn.from;let ei=NodeBuilder.build(_n.setDoc(Ln),Cn,Wn,zn);Bn=replace(Bn,Bn.replace(Nn,Fn,ei))}return Bn.updateHeight(_n,0)}static empty(){return new HeightMapText(0,0)}static of(Cn){if(Cn.length==1)return Cn[0];let $n=0,_n=Cn.length,Rn=0,Bn=0;for(;;)if($n==_n)if(Rn>Bn*2){let Dn=Cn[$n-1];Dn.break?Cn.splice(--$n,1,Dn.left,null,Dn.right):Cn.splice(--$n,1,Dn.left,Dn.right),_n+=1+Dn.break,Rn-=Dn.size}else if(Bn>Rn*2){let Dn=Cn[_n];Dn.break?Cn.splice(_n,1,Dn.left,null,Dn.right):Cn.splice(_n,1,Dn.left,Dn.right),_n+=2+Dn.break,Bn-=Dn.size}else break;else if(Rn<Bn){let Dn=Cn[$n++];Dn&&(Rn+=Dn.size)}else{let Dn=Cn[--_n];Dn&&(Bn+=Dn.size)}let Ln=0;return Cn[$n-1]==null?(Ln=1,$n--):Cn[$n]==null&&(Ln=1,_n++),new HeightMapBranch(HeightMap.of(Cn.slice(0,$n)),Ln,HeightMap.of(Cn.slice(_n)))}}function replace(Pn,Cn){return Pn==Cn?Pn:(Pn.constructor!=Cn.constructor&&(heightChangeFlag=!0),Cn)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(Cn,$n,_n){super(Cn,$n),this.deco=_n}blockAt(Cn,$n,_n,Rn){return new BlockInfo(Rn,this.length,_n,this.height,this.deco||0)}lineAt(Cn,$n,_n,Rn,Bn){return this.blockAt(0,_n,Rn,Bn)}forEachLine(Cn,$n,_n,Rn,Bn,Ln){Cn<=Bn+this.length&&$n>=Bn&&Ln(this.blockAt(0,_n,Rn,Bn))}updateHeight(Cn,$n=0,_n=!1,Rn){return Rn&&Rn.from<=$n&&Rn.more&&this.setHeight(Rn.heights[Rn.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(Cn,$n){super(Cn,$n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(Cn,$n,_n,Rn){return new BlockInfo(Rn,this.length,_n,this.height,this.breaks)}replace(Cn,$n,_n){let Rn=_n[0];return _n.length==1&&(Rn instanceof HeightMapText||Rn instanceof HeightMapGap&&Rn.flags&4)&&Math.abs(this.length-Rn.length)<10?(Rn instanceof HeightMapGap?Rn=new HeightMapText(Rn.length,this.height):Rn.height=this.height,this.outdated||(Rn.outdated=!1),Rn):HeightMap.of(_n)}updateHeight(Cn,$n=0,_n=!1,Rn){return Rn&&Rn.from<=$n&&Rn.more?this.setHeight(Rn.heights[Rn.index++]):(_n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,Cn.heightForLine(this.length-this.collapsed))+this.breaks*Cn.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(Cn){super(Cn,0)}heightMetrics(Cn,$n){let _n=Cn.doc.lineAt($n).number,Rn=Cn.doc.lineAt($n+this.length).number,Bn=Rn-_n+1,Ln,Dn=0;if(Cn.lineWrapping){let Nn=Math.min(this.height,Cn.lineHeight*Bn);Ln=Nn/Bn,this.length>Bn+1&&(Dn=(this.height-Nn)/(this.length-Bn-1))}else Ln=this.height/Bn;return{firstLine:_n,lastLine:Rn,perLine:Ln,perChar:Dn}}blockAt(Cn,$n,_n,Rn){let{firstLine:Bn,lastLine:Ln,perLine:Dn,perChar:Nn}=this.heightMetrics($n,Rn);if($n.lineWrapping){let Fn=Rn+(Cn<$n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Cn-_n)/this.height))*this.length)),Wn=$n.doc.lineAt(Fn),zn=Dn+Wn.length*Nn,Yn=Math.max(_n,Cn-zn/2);return new BlockInfo(Wn.from,Wn.length,Yn,zn,0)}else{let Fn=Math.max(0,Math.min(Ln-Bn,Math.floor((Cn-_n)/Dn))),{from:Wn,length:zn}=$n.doc.line(Bn+Fn);return new BlockInfo(Wn,zn,_n+Dn*Fn,Dn,0)}}lineAt(Cn,$n,_n,Rn,Bn){if($n==QueryType$1.ByHeight)return this.blockAt(Cn,_n,Rn,Bn);if($n==QueryType$1.ByPosNoHeight){let{from:Gn,to:ei}=_n.doc.lineAt(Cn);return new BlockInfo(Gn,ei-Gn,0,0,0)}let{firstLine:Ln,perLine:Dn,perChar:Nn}=this.heightMetrics(_n,Bn),Fn=_n.doc.lineAt(Cn),Wn=Dn+Fn.length*Nn,zn=Fn.number-Ln,Yn=Rn+Dn*zn+Nn*(Fn.from-Bn-zn);return new BlockInfo(Fn.from,Fn.length,Math.max(Rn,Math.min(Yn,Rn+this.height-Wn)),Wn,0)}forEachLine(Cn,$n,_n,Rn,Bn,Ln){Cn=Math.max(Cn,Bn),$n=Math.min($n,Bn+this.length);let{firstLine:Dn,perLine:Nn,perChar:Fn}=this.heightMetrics(_n,Bn);for(let Wn=Cn,zn=Rn;Wn<=$n;){let Yn=_n.doc.lineAt(Wn);if(Wn==Cn){let ei=Yn.number-Dn;zn+=Nn*ei+Fn*(Cn-Bn-ei)}let Gn=Nn+Fn*Yn.length;Ln(new BlockInfo(Yn.from,Yn.length,zn,Gn,0)),zn+=Gn,Wn=Yn.to+1}}replace(Cn,$n,_n){let Rn=this.length-$n;if(Rn>0){let Bn=_n[_n.length-1];Bn instanceof HeightMapGap?_n[_n.length-1]=new HeightMapGap(Bn.length+Rn):_n.push(null,new HeightMapGap(Rn-1))}if(Cn>0){let Bn=_n[0];Bn instanceof HeightMapGap?_n[0]=new HeightMapGap(Cn+Bn.length):_n.unshift(new HeightMapGap(Cn-1),null)}return HeightMap.of(_n)}decomposeLeft(Cn,$n){$n.push(new HeightMapGap(Cn-1),null)}decomposeRight(Cn,$n){$n.push(null,new HeightMapGap(this.length-Cn-1))}updateHeight(Cn,$n=0,_n=!1,Rn){let Bn=$n+this.length;if(Rn&&Rn.from<=$n+this.length&&Rn.more){let Ln=[],Dn=Math.max($n,Rn.from),Nn=-1;for(Rn.from>$n&&Ln.push(new HeightMapGap(Rn.from-$n-1).updateHeight(Cn,$n));Dn<=Bn&&Rn.more;){let Wn=Cn.doc.lineAt(Dn).length;Ln.length&&Ln.push(null);let zn=Rn.heights[Rn.index++];Nn==-1?Nn=zn:Math.abs(zn-Nn)>=Epsilon&&(Nn=-2);let Yn=new HeightMapText(Wn,zn);Yn.outdated=!1,Ln.push(Yn),Dn+=Wn+1}Dn<=Bn&&Ln.push(null,new HeightMapGap(Bn-Dn).updateHeight(Cn,Dn));let Fn=HeightMap.of(Ln);return(Nn<0||Math.abs(Fn.height-this.height)>=Epsilon||Math.abs(Nn-this.heightMetrics(Cn,$n).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,Fn)}else(_n||this.outdated)&&(this.setHeight(Cn.heightForGap($n,$n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(Cn,$n,_n){super(Cn.length+$n+_n.length,Cn.height+_n.height,$n|(Cn.outdated||_n.outdated?2:0)),this.left=Cn,this.right=_n,this.size=Cn.size+_n.size}get break(){return this.flags&1}blockAt(Cn,$n,_n,Rn){let Bn=_n+this.left.height;return Cn<Bn?this.left.blockAt(Cn,$n,_n,Rn):this.right.blockAt(Cn,$n,Bn,Rn+this.left.length+this.break)}lineAt(Cn,$n,_n,Rn,Bn){let Ln=Rn+this.left.height,Dn=Bn+this.left.length+this.break,Nn=$n==QueryType$1.ByHeight?Cn<Ln:Cn<Dn,Fn=Nn?this.left.lineAt(Cn,$n,_n,Rn,Bn):this.right.lineAt(Cn,$n,_n,Ln,Dn);if(this.break||(Nn?Fn.to<Dn:Fn.from>Dn))return Fn;let Wn=$n==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return Nn?Fn.join(this.right.lineAt(Dn,Wn,_n,Ln,Dn)):this.left.lineAt(Dn,Wn,_n,Rn,Bn).join(Fn)}forEachLine(Cn,$n,_n,Rn,Bn,Ln){let Dn=Rn+this.left.height,Nn=Bn+this.left.length+this.break;if(this.break)Cn<Nn&&this.left.forEachLine(Cn,$n,_n,Rn,Bn,Ln),$n>=Nn&&this.right.forEachLine(Cn,$n,_n,Dn,Nn,Ln);else{let Fn=this.lineAt(Nn,QueryType$1.ByPos,_n,Rn,Bn);Cn<Fn.from&&this.left.forEachLine(Cn,Fn.from-1,_n,Rn,Bn,Ln),Fn.to>=Cn&&Fn.from<=$n&&Ln(Fn),$n>Fn.to&&this.right.forEachLine(Fn.to+1,$n,_n,Dn,Nn,Ln)}}replace(Cn,$n,_n){let Rn=this.left.length+this.break;if($n<Rn)return this.balanced(this.left.replace(Cn,$n,_n),this.right);if(Cn>this.left.length)return this.balanced(this.left,this.right.replace(Cn-Rn,$n-Rn,_n));let Bn=[];Cn>0&&this.decomposeLeft(Cn,Bn);let Ln=Bn.length;for(let Dn of _n)Bn.push(Dn);if(Cn>0&&mergeGaps(Bn,Ln-1),$n<this.length){let Dn=Bn.length;this.decomposeRight($n,Bn),mergeGaps(Bn,Dn)}return HeightMap.of(Bn)}decomposeLeft(Cn,$n){let _n=this.left.length;if(Cn<=_n)return this.left.decomposeLeft(Cn,$n);$n.push(this.left),this.break&&(_n++,Cn>=_n&&$n.push(null)),Cn>_n&&this.right.decomposeLeft(Cn-_n,$n)}decomposeRight(Cn,$n){let _n=this.left.length,Rn=_n+this.break;if(Cn>=Rn)return this.right.decomposeRight(Cn-Rn,$n);Cn<_n&&this.left.decomposeRight(Cn,$n),this.break&&Cn<Rn&&$n.push(null),$n.push(this.right)}balanced(Cn,$n){return Cn.size>2*$n.size||$n.size>2*Cn.size?HeightMap.of(this.break?[Cn,null,$n]:[Cn,$n]):(this.left=replace(this.left,Cn),this.right=replace(this.right,$n),this.setHeight(Cn.height+$n.height),this.outdated=Cn.outdated||$n.outdated,this.size=Cn.size+$n.size,this.length=Cn.length+this.break+$n.length,this)}updateHeight(Cn,$n=0,_n=!1,Rn){let{left:Bn,right:Ln}=this,Dn=$n+Bn.length+this.break,Nn=null;return Rn&&Rn.from<=$n+Bn.length&&Rn.more?Nn=Bn=Bn.updateHeight(Cn,$n,_n,Rn):Bn.updateHeight(Cn,$n,_n),Rn&&Rn.from<=Dn+Ln.length&&Rn.more?Nn=Ln=Ln.updateHeight(Cn,Dn,_n,Rn):Ln.updateHeight(Cn,Dn,_n),Nn?this.balanced(Bn,Ln):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(Pn,Cn){let $n,_n;Pn[Cn]==null&&($n=Pn[Cn-1])instanceof HeightMapGap&&(_n=Pn[Cn+1])instanceof HeightMapGap&&Pn.splice(Cn-1,3,new HeightMapGap($n.length+1+_n.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(Cn,$n){this.pos=Cn,this.oracle=$n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Cn}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Cn,$n){if(this.lineStart>-1){let _n=Math.min($n,this.lineEnd),Rn=this.nodes[this.nodes.length-1];Rn instanceof HeightMapText?Rn.length+=_n-this.pos:(_n>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(_n-this.pos,-1)),this.writtenTo=_n,$n>_n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=$n}point(Cn,$n,_n){if(Cn<$n||_n.heightRelevant){let Rn=_n.widget?_n.widget.estimatedHeight:0,Bn=_n.widget?_n.widget.lineBreaks:0;Rn<0&&(Rn=this.oracle.lineHeight);let Ln=$n-Cn;_n.block?this.addBlock(new HeightMapBlock(Ln,Rn,_n)):(Ln||Bn||Rn>=relevantWidgetHeight)&&this.addLineDeco(Rn,Bn,Ln)}else $n>Cn&&this.span(Cn,$n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:Cn,to:$n}=this.oracle.doc.lineAt(this.pos);this.lineStart=Cn,this.lineEnd=$n,this.writtenTo<Cn&&((this.writtenTo<Cn-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,Cn-1)),this.nodes.push(null)),this.pos>Cn&&this.nodes.push(new HeightMapText(this.pos-Cn,-1)),this.writtenTo=this.pos}blankContent(Cn,$n){let _n=new HeightMapGap($n-Cn);return this.oracle.doc.lineAt(Cn).to==$n&&(_n.flags|=4),_n}ensureLine(){this.enterLine();let Cn=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Cn instanceof HeightMapText)return Cn;let $n=new HeightMapText(0,-1);return this.nodes.push($n),$n}addBlock(Cn){this.enterLine();let $n=Cn.deco;$n&&$n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(Cn),this.writtenTo=this.pos=this.pos+Cn.length,$n&&$n.endSide>0&&(this.covering=Cn)}addLineDeco(Cn,$n,_n){let Rn=this.ensureLine();Rn.length+=_n,Rn.collapsed+=_n,Rn.widgetHeight=Math.max(Rn.widgetHeight,Cn),Rn.breaks+=$n,this.writtenTo=this.pos=this.pos+_n}finish(Cn){let $n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!($n instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||$n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let _n=Cn;for(let Rn of this.nodes)Rn instanceof HeightMapText&&Rn.updateHeight(this.oracle,_n),_n+=Rn?Rn.length:1;return this.nodes}static build(Cn,$n,_n,Rn){let Bn=new NodeBuilder(_n,Cn);return RangeSet.spans($n,_n,Rn,Bn,0),Bn.finish(_n)}}function heightRelevantDecoChanges(Pn,Cn,$n){let _n=new DecorationComparator;return RangeSet.compare(Pn,Cn,$n,_n,0),_n.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(Cn,$n,_n,Rn){(Cn<$n||_n&&_n.heightRelevant||Rn&&Rn.heightRelevant)&&addRange(Cn,$n,this.changes,5)}}function visiblePixelRange(Pn,Cn){let $n=Pn.getBoundingClientRect(),_n=Pn.ownerDocument,Rn=_n.defaultView||window,Bn=Math.max(0,$n.left),Ln=Math.min(Rn.innerWidth,$n.right),Dn=Math.max(0,$n.top),Nn=Math.min(Rn.innerHeight,$n.bottom);for(let Fn=Pn.parentNode;Fn&&Fn!=_n.body;)if(Fn.nodeType==1){let Wn=Fn,zn=window.getComputedStyle(Wn);if((Wn.scrollHeight>Wn.clientHeight||Wn.scrollWidth>Wn.clientWidth)&&zn.overflow!="visible"){let Yn=Wn.getBoundingClientRect();Bn=Math.max(Bn,Yn.left),Ln=Math.min(Ln,Yn.right),Dn=Math.max(Dn,Yn.top),Nn=Math.min(Fn==Pn.parentNode?Rn.innerHeight:Nn,Yn.bottom)}Fn=zn.position=="absolute"||zn.position=="fixed"?Wn.offsetParent:Wn.parentNode}else if(Fn.nodeType==11)Fn=Fn.host;else break;return{left:Bn-$n.left,right:Math.max(Bn,Ln)-$n.left,top:Dn-($n.top+Cn),bottom:Math.max(Dn,Nn)-($n.top+Cn)}}function inWindow(Pn){let Cn=Pn.getBoundingClientRect(),$n=Pn.ownerDocument.defaultView||window;return Cn.left<$n.innerWidth&&Cn.right>0&&Cn.top<$n.innerHeight&&Cn.bottom>0}function fullPixelRange(Pn,Cn){let $n=Pn.getBoundingClientRect();return{left:0,right:$n.right-$n.left,top:Cn,bottom:$n.bottom-($n.top+Cn)}}class LineGap{constructor(Cn,$n,_n,Rn){this.from=Cn,this.to=$n,this.size=_n,this.displaySize=Rn}static same(Cn,$n){if(Cn.length!=$n.length)return!1;for(let _n=0;_n<Cn.length;_n++){let Rn=Cn[_n],Bn=$n[_n];if(Rn.from!=Bn.from||Rn.to!=Bn.to||Rn.size!=Bn.size)return!1}return!0}draw(Cn,$n){return Decoration.replace({widget:new LineGapWidget(this.displaySize*($n?Cn.scaleY:Cn.scaleX),$n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(Cn,$n){super(),this.size=Cn,this.vertical=$n}eq(Cn){return Cn.size==this.size&&Cn.vertical==this.vertical}toDOM(){let Cn=document.createElement("div");return this.vertical?Cn.style.height=this.size+"px":(Cn.style.width=this.size+"px",Cn.style.height="2px",Cn.style.display="inline-block"),Cn}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(Cn){this.state=Cn,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let $n=Cn.facet(contentAttributes).some(_n=>typeof _n!="function"&&_n.class=="cm-lineWrapping");this.heightOracle=new HeightOracle($n),this.stateDeco=Cn.facet(decorations).filter(_n=>typeof _n!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(Cn.doc),[new ChangedRange(0,0,0,Cn.doc.length)]);for(let _n=0;_n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());_n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(_n=>_n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Cn=[this.viewport],{main:$n}=this.state.selection;for(let _n=0;_n<=1;_n++){let Rn=_n?$n.head:$n.anchor;if(!Cn.some(({from:Bn,to:Ln})=>Rn>=Bn&&Rn<=Ln)){let{from:Bn,to:Ln}=this.lineBlockAt(Rn);Cn.push(new Viewport(Bn,Ln))}}return this.viewports=Cn.sort((_n,Rn)=>_n.from-Rn.from),this.updateScaler()}updateScaler(){let Cn=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),Cn.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,Cn=>{this.viewportLines.push(scaleBlock(Cn,this.scaler))})}update(Cn,$n=null){this.state=Cn.state;let _n=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(Wn=>typeof Wn!="function");let Rn=Cn.changedRanges,Bn=ChangedRange.extendWithRanges(Rn,heightRelevantDecoChanges(_n,this.stateDeco,Cn?Cn.changes:ChangeSet.empty(this.state.doc.length))),Ln=this.heightMap.height,Dn=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,Cn.startState.doc,this.heightOracle.setDoc(this.state.doc),Bn),(this.heightMap.height!=Ln||heightChangeFlag)&&(Cn.flags|=2),Dn?(this.scrollAnchorPos=Cn.changes.mapPos(Dn.from,-1),this.scrollAnchorHeight=Dn.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=Ln);let Nn=Bn.length?this.mapViewport(this.viewport,Cn.changes):this.viewport;($n&&($n.range.head<Nn.from||$n.range.head>Nn.to)||!this.viewportIsAppropriate(Nn))&&(Nn=this.getViewport(0,$n));let Fn=Nn.from!=this.viewport.from||Nn.to!=this.viewport.to;this.viewport=Nn,Cn.flags|=this.updateForViewport(),(Fn||!Cn.changes.empty||Cn.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Cn.changes))),Cn.flags|=this.computeVisibleRanges(Cn.changes),$n&&(this.scrollTarget=$n),!this.mustEnforceCursorAssoc&&Cn.selectionSet&&Cn.view.lineWrapping&&Cn.state.selection.main.empty&&Cn.state.selection.main.assoc&&!Cn.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(Cn){let $n=Cn.contentDOM,_n=window.getComputedStyle($n),Rn=this.heightOracle,Bn=_n.whiteSpace;this.defaultTextDirection=_n.direction=="rtl"?Direction.RTL:Direction.LTR;let Ln=this.heightOracle.mustRefreshForWrapping(Bn),Dn=$n.getBoundingClientRect(),Nn=Ln||this.mustMeasureContent||this.contentDOMHeight!=Dn.height;this.contentDOMHeight=Dn.height,this.mustMeasureContent=!1;let Fn=0,Wn=0;if(Dn.width&&Dn.height){let{scaleX:ui,scaleY:di}=getScale($n,Dn);(ui>.005&&Math.abs(this.scaleX-ui)>.005||di>.005&&Math.abs(this.scaleY-di)>.005)&&(this.scaleX=ui,this.scaleY=di,Fn|=16,Ln=Nn=!0)}let zn=(parseInt(_n.paddingTop)||0)*this.scaleY,Yn=(parseInt(_n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=zn||this.paddingBottom!=Yn)&&(this.paddingTop=zn,this.paddingBottom=Yn,Fn|=18),this.editorWidth!=Cn.scrollDOM.clientWidth&&(Rn.lineWrapping&&(Nn=!0),this.editorWidth=Cn.scrollDOM.clientWidth,Fn|=16);let Gn=Cn.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=Gn&&(this.scrollAnchorHeight=-1,this.scrollTop=Gn),this.scrolledToBottom=isScrolledToBottom(Cn.scrollDOM);let ei=(this.printing?fullPixelRange:visiblePixelRange)($n,this.paddingTop),ti=ei.top-this.pixelViewport.top,ii=ei.bottom-this.pixelViewport.bottom;this.pixelViewport=ei;let oi=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(oi!=this.inView&&(this.inView=oi,oi&&(Nn=!0)),!this.inView&&!this.scrollTarget&&!inWindow(Cn.dom))return 0;let ai=Dn.width;if((this.contentDOMWidth!=ai||this.editorHeight!=Cn.scrollDOM.clientHeight)&&(this.contentDOMWidth=Dn.width,this.editorHeight=Cn.scrollDOM.clientHeight,Fn|=16),Nn){let ui=Cn.docView.measureVisibleLineHeights(this.viewport);if(Rn.mustRefreshForHeights(ui)&&(Ln=!0),Ln||Rn.lineWrapping&&Math.abs(ai-this.contentDOMWidth)>Rn.charWidth){let{lineHeight:di,charWidth:yi,textHeight:mi}=Cn.docView.measureTextSize();Ln=di>0&&Rn.refresh(Bn,di,yi,mi,ai/yi,ui),Ln&&(Cn.docView.minWidth=0,Fn|=16)}ti>0&&ii>0?Wn=Math.max(ti,ii):ti<0&&ii<0&&(Wn=Math.min(ti,ii)),clearHeightChangeFlag();for(let di of this.viewports){let yi=di.from==this.viewport.from?ui:Cn.docView.measureVisibleLineHeights(di);this.heightMap=(Ln?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,Cn.state.doc.length)]):this.heightMap).updateHeight(Rn,0,Ln,new MeasuredHeights(di.from,yi))}heightChangeFlag&&(Fn|=2)}let fi=!this.viewportIsAppropriate(this.viewport,Wn)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return fi&&(Fn&2&&(Fn|=this.updateScaler()),this.viewport=this.getViewport(Wn,this.scrollTarget),Fn|=this.updateForViewport()),(Fn&2||fi)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(Ln?[]:this.lineGaps,Cn)),Fn|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,Cn.docView.enforceCursorAssoc()),Fn}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Cn,$n){let _n=.5-Math.max(-.5,Math.min(.5,Cn/1e3/2)),Rn=this.heightMap,Bn=this.heightOracle,{visibleTop:Ln,visibleBottom:Dn}=this,Nn=new Viewport(Rn.lineAt(Ln-_n*1e3,QueryType$1.ByHeight,Bn,0,0).from,Rn.lineAt(Dn+(1-_n)*1e3,QueryType$1.ByHeight,Bn,0,0).to);if($n){let{head:Fn}=$n.range;if(Fn<Nn.from||Fn>Nn.to){let Wn=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),zn=Rn.lineAt(Fn,QueryType$1.ByPos,Bn,0,0),Yn;$n.y=="center"?Yn=(zn.top+zn.bottom)/2-Wn/2:$n.y=="start"||$n.y=="nearest"&&Fn<Nn.from?Yn=zn.top:Yn=zn.bottom-Wn,Nn=new Viewport(Rn.lineAt(Yn-1e3/2,QueryType$1.ByHeight,Bn,0,0).from,Rn.lineAt(Yn+Wn+1e3/2,QueryType$1.ByHeight,Bn,0,0).to)}}return Nn}mapViewport(Cn,$n){let _n=$n.mapPos(Cn.from,-1),Rn=$n.mapPos(Cn.to,1);return new Viewport(this.heightMap.lineAt(_n,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(Rn,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Cn,to:$n},_n=0){if(!this.inView)return!0;let{top:Rn}=this.heightMap.lineAt(Cn,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:Bn}=this.heightMap.lineAt($n,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:Ln,visibleBottom:Dn}=this;return(Cn==0||Rn<=Ln-Math.max(10,Math.min(-_n,250)))&&($n==this.state.doc.length||Bn>=Dn+Math.max(10,Math.min(_n,250)))&&Rn>Ln-2*1e3&&Bn<Dn+2*1e3}mapLineGaps(Cn,$n){if(!Cn.length||$n.empty)return Cn;let _n=[];for(let Rn of Cn)$n.touchesRange(Rn.from,Rn.to)||_n.push(new LineGap($n.mapPos(Rn.from),$n.mapPos(Rn.to),Rn.size,Rn.displaySize));return _n}ensureLineGaps(Cn,$n){let _n=this.heightOracle.lineWrapping,Rn=_n?1e4:2e3,Bn=Rn>>1,Ln=Rn<<1;if(this.defaultTextDirection!=Direction.LTR&&!_n)return[];let Dn=[],Nn=(Wn,zn,Yn,Gn)=>{if(zn-Wn<Bn)return;let ei=this.state.selection.main,ti=[ei.from];ei.empty||ti.push(ei.to);for(let oi of ti)if(oi>Wn&&oi<zn){Nn(Wn,oi-10,Yn,Gn),Nn(oi+10,zn,Yn,Gn);return}let ii=find(Cn,oi=>oi.from>=Yn.from&&oi.to<=Yn.to&&Math.abs(oi.from-Wn)<Bn&&Math.abs(oi.to-zn)<Bn&&!ti.some(ai=>oi.from<ai&&oi.to>ai));if(!ii){if(zn<Yn.to&&$n&&_n&&$n.visibleRanges.some(fi=>fi.from<=zn&&fi.to>=zn)){let fi=$n.moveToLineBoundary(EditorSelection.cursor(zn),!1,!0).head;fi>Wn&&(zn=fi)}let oi=this.gapSize(Yn,Wn,zn,Gn),ai=_n||oi<2e6?oi:2e6;ii=new LineGap(Wn,zn,oi,ai)}Dn.push(ii)},Fn=Wn=>{if(Wn.length<Ln||Wn.type!=BlockType.Text)return;let zn=lineStructure(Wn.from,Wn.to,this.stateDeco);if(zn.total<Ln)return;let Yn=this.scrollTarget?this.scrollTarget.range.head:null,Gn,ei;if(_n){let ti=Rn/this.heightOracle.lineLength*this.heightOracle.lineHeight,ii,oi;if(Yn!=null){let ai=findFraction(zn,Yn),fi=((this.visibleBottom-this.visibleTop)/2+ti)/Wn.height;ii=ai-fi,oi=ai+fi}else ii=(this.visibleTop-Wn.top-ti)/Wn.height,oi=(this.visibleBottom-Wn.top+ti)/Wn.height;Gn=findPosition(zn,ii),ei=findPosition(zn,oi)}else{let ti=zn.total*this.heightOracle.charWidth,ii=Rn*this.heightOracle.charWidth,oi=0;if(ti>2e6)for(let yi of Cn)yi.from>=Wn.from&&yi.from<Wn.to&&yi.size!=yi.displaySize&&yi.from*this.heightOracle.charWidth+oi<this.pixelViewport.left&&(oi=yi.size-yi.displaySize);let ai=this.pixelViewport.left+oi,fi=this.pixelViewport.right+oi,ui,di;if(Yn!=null){let yi=findFraction(zn,Yn),mi=((fi-ai)/2+ii)/ti;ui=yi-mi,di=yi+mi}else ui=(ai-ii)/ti,di=(fi+ii)/ti;Gn=findPosition(zn,ui),ei=findPosition(zn,di)}Gn>Wn.from&&Nn(Wn.from,Gn,Wn,zn),ei<Wn.to&&Nn(ei,Wn.to,Wn,zn)};for(let Wn of this.viewportLines)Array.isArray(Wn.type)?Wn.type.forEach(Fn):Fn(Wn);return Dn}gapSize(Cn,$n,_n,Rn){let Bn=findFraction(Rn,_n)-findFraction(Rn,$n);return this.heightOracle.lineWrapping?Cn.height*Bn:Rn.total*this.heightOracle.charWidth*Bn}updateLineGaps(Cn){LineGap.same(Cn,this.lineGaps)||(this.lineGaps=Cn,this.lineGapDeco=Decoration.set(Cn.map($n=>$n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(Cn){let $n=this.stateDeco;this.lineGaps.length&&($n=$n.concat(this.lineGapDeco));let _n=[];RangeSet.spans($n,this.viewport.from,this.viewport.to,{span(Bn,Ln){_n.push({from:Bn,to:Ln})},point(){}},20);let Rn=0;if(_n.length!=this.visibleRanges.length)Rn=12;else for(let Bn=0;Bn<_n.length&&!(Rn&8);Bn++){let Ln=this.visibleRanges[Bn],Dn=_n[Bn];(Ln.from!=Dn.from||Ln.to!=Dn.to)&&(Rn|=4,Cn&&Cn.mapPos(Ln.from,-1)==Dn.from&&Cn.mapPos(Ln.to,1)==Dn.to||(Rn|=8))}return this.visibleRanges=_n,Rn}lineBlockAt(Cn){return Cn>=this.viewport.from&&Cn<=this.viewport.to&&this.viewportLines.find($n=>$n.from<=Cn&&$n.to>=Cn)||scaleBlock(this.heightMap.lineAt(Cn,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Cn){return Cn>=this.viewportLines[0].top&&Cn<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find($n=>$n.top<=Cn&&$n.bottom>=Cn)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(Cn),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Cn){let $n=this.lineBlockAtHeight(Cn+8);return $n.from>=this.viewport.from||this.viewportLines[0].top-Cn>200?$n:this.viewportLines[0]}elementAtHeight(Cn){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(Cn),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(Cn,$n){this.from=Cn,this.to=$n}}function lineStructure(Pn,Cn,$n){let _n=[],Rn=Pn,Bn=0;return RangeSet.spans($n,Pn,Cn,{span(){},point(Ln,Dn){Ln>Rn&&(_n.push({from:Rn,to:Ln}),Bn+=Ln-Rn),Rn=Dn}},20),Rn<Cn&&(_n.push({from:Rn,to:Cn}),Bn+=Cn-Rn),{total:Bn,ranges:_n}}function findPosition({total:Pn,ranges:Cn},$n){if($n<=0)return Cn[0].from;if($n>=1)return Cn[Cn.length-1].to;let _n=Math.floor(Pn*$n);for(let Rn=0;;Rn++){let{from:Bn,to:Ln}=Cn[Rn],Dn=Ln-Bn;if(_n<=Dn)return Bn+_n;_n-=Dn}}function findFraction(Pn,Cn){let $n=0;for(let{from:_n,to:Rn}of Pn.ranges){if(Cn<=Rn){$n+=Cn-_n;break}$n+=Rn-_n}return $n/Pn.total}function find(Pn,Cn){for(let $n of Pn)if(Cn($n))return $n}const IdScaler={toDOM(Pn){return Pn},fromDOM(Pn){return Pn},scale:1,eq(Pn){return Pn==this}};class BigScaler{constructor(Cn,$n,_n){let Rn=0,Bn=0,Ln=0;this.viewports=_n.map(({from:Dn,to:Nn})=>{let Fn=$n.lineAt(Dn,QueryType$1.ByPos,Cn,0,0).top,Wn=$n.lineAt(Nn,QueryType$1.ByPos,Cn,0,0).bottom;return Rn+=Wn-Fn,{from:Dn,to:Nn,top:Fn,bottom:Wn,domTop:0,domBottom:0}}),this.scale=(7e6-Rn)/($n.height-Rn);for(let Dn of this.viewports)Dn.domTop=Ln+(Dn.top-Bn)*this.scale,Ln=Dn.domBottom=Dn.domTop+(Dn.bottom-Dn.top),Bn=Dn.bottom}toDOM(Cn){for(let $n=0,_n=0,Rn=0;;$n++){let Bn=$n<this.viewports.length?this.viewports[$n]:null;if(!Bn||Cn<Bn.top)return Rn+(Cn-_n)*this.scale;if(Cn<=Bn.bottom)return Bn.domTop+(Cn-Bn.top);_n=Bn.bottom,Rn=Bn.domBottom}}fromDOM(Cn){for(let $n=0,_n=0,Rn=0;;$n++){let Bn=$n<this.viewports.length?this.viewports[$n]:null;if(!Bn||Cn<Bn.domTop)return _n+(Cn-Rn)/this.scale;if(Cn<=Bn.domBottom)return Bn.top+(Cn-Bn.domTop);_n=Bn.bottom,Rn=Bn.domBottom}}eq(Cn){return Cn instanceof BigScaler?this.scale==Cn.scale&&this.viewports.length==Cn.viewports.length&&this.viewports.every(($n,_n)=>$n.from==Cn.viewports[_n].from&&$n.to==Cn.viewports[_n].to):!1}}function scaleBlock(Pn,Cn){if(Cn.scale==1)return Pn;let $n=Cn.toDOM(Pn.top),_n=Cn.toDOM(Pn.bottom);return new BlockInfo(Pn.from,Pn.length,$n,_n-$n,Array.isArray(Pn._content)?Pn._content.map(Rn=>scaleBlock(Rn,Cn)):Pn._content)}const theme=Facet.define({combine:Pn=>Pn.join(" ")}),darkTheme=Facet.define({combine:Pn=>Pn.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(Pn,Cn,$n){return new StyleModule(Cn,{finish(_n){return/&/.test(_n)?_n.replace(/&\w*/,Rn=>{if(Rn=="&")return Pn;if(!$n||!$n[Rn])throw new RangeError(`Unsupported selector: ${Rn}`);return $n[Rn]}):Pn+" "+_n}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(Cn){this.view=Cn,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Cn.contentDOM,this.observer=new MutationObserver($n=>{for(let _n of $n)this.queue.push(_n);(browser.ie&&browser.ie_version<=11||browser.ios&&Cn.composing)&&$n.some(_n=>_n.type=="childList"&&_n.removedNodes.length||_n.type=="characterData"&&_n.oldValue.length>_n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Cn.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(Cn),Cn.state.facet(editable)&&(Cn.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=$n=>{this.queue.push({target:$n.target,type:"characterData",oldValue:$n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var $n;(($n=this.view.docView)===null||$n===void 0?void 0:$n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(Cn.scrollDOM)),this.addWindowListeners(this.win=Cn.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver($n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),$n.length>0&&$n[$n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver($n=>{$n.length>0&&$n[$n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Cn){this.view.inputState.runHandlers("scroll",Cn),this.intersecting&&this.view.measure()}onScroll(Cn){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(Cn)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(Cn){(Cn.type=="change"||!Cn.type)&&!Cn.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(Cn){if(this.gapIntersection&&(Cn.length!=this.gaps.length||this.gaps.some(($n,_n)=>$n!=Cn[_n]))){this.gapIntersection.disconnect();for(let $n of Cn)this.gapIntersection.observe($n);this.gaps=Cn}}onSelectionChange(Cn){let $n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:_n}=this,Rn=this.selectionRange;if(_n.state.facet(editable)?_n.root.activeElement!=this.dom:!hasSelection(this.dom,Rn))return;let Bn=Rn.anchorNode&&_n.docView.nearest(Rn.anchorNode);if(Bn&&Bn.ignoreEvent(Cn)){$n||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!_n.state.selection.main.empty&&Rn.focusNode&&isEquivalentPosition(Rn.focusNode,Rn.focusOffset,Rn.anchorNode,Rn.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:Cn}=this,$n=getSelection(Cn.root);if(!$n)return!1;let _n=browser.safari&&Cn.root.nodeType==11&&Cn.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,$n)||$n;if(!_n||this.selectionRange.eq(_n))return!1;let Rn=hasSelection(this.dom,_n);return Rn&&!this.selectionChanged&&Cn.inputState.lastFocusTime>Date.now()-200&&Cn.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,_n)?(this.view.inputState.lastFocusTime=0,Cn.docView.updateSelection(),!1):(this.selectionRange.setRange(_n),Rn&&(this.selectionChanged=!0),!0)}setSelectionRange(Cn,$n){this.selectionRange.set(Cn.node,Cn.offset,$n.node,$n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Cn=0,$n=null;for(let _n=this.dom;_n;)if(_n.nodeType==1)!$n&&Cn<this.scrollTargets.length&&this.scrollTargets[Cn]==_n?Cn++:$n||($n=this.scrollTargets.slice(0,Cn)),$n&&$n.push(_n),_n=_n.assignedSlot||_n.parentNode;else if(_n.nodeType==11)_n=_n.host;else break;if(Cn<this.scrollTargets.length&&!$n&&($n=this.scrollTargets.slice(0,Cn)),$n){for(let _n of this.scrollTargets)_n.removeEventListener("scroll",this.onScroll);for(let _n of this.scrollTargets=$n)_n.addEventListener("scroll",this.onScroll)}}ignore(Cn){if(!this.active)return Cn();try{return this.stop(),Cn()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Cn,$n){var _n;if(!this.delayedAndroidKey){let Rn=()=>{let Bn=this.delayedAndroidKey;Bn&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=Bn.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&Bn.force&&dispatchKey(this.dom,Bn.key,Bn.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(Rn)}(!this.delayedAndroidKey||Cn=="Enter")&&(this.delayedAndroidKey={key:Cn,keyCode:$n,force:this.lastChange<Date.now()-50||!!(!((_n=this.delayedAndroidKey)===null||_n===void 0)&&_n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let Cn of this.observer.takeRecords())this.queue.push(Cn);return this.queue}processRecords(){let Cn=this.pendingRecords();Cn.length&&(this.queue=[]);let $n=-1,_n=-1,Rn=!1;for(let Bn of Cn){let Ln=this.readMutation(Bn);Ln&&(Ln.typeOver&&(Rn=!0),$n==-1?{from:$n,to:_n}=Ln:($n=Math.min(Ln.from,$n),_n=Math.max(Ln.to,_n)))}return{from:$n,to:_n,typeOver:Rn}}readChange(){let{from:Cn,to:$n,typeOver:_n}=this.processRecords(),Rn=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(Cn<0&&!Rn)return null;Cn>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let Bn=new DOMChange(this.view,Cn,$n,_n);return this.view.docView.domChanged={newSel:Bn.newSel?Bn.newSel.main:null},Bn}flush(Cn=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;Cn&&this.readSelectionRange();let $n=this.readChange();if(!$n)return this.view.requestMeasure(),!1;let _n=this.view.state,Rn=applyDOMChange(this.view,$n);return this.view.state==_n&&($n.domChanged||$n.newSel&&!$n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),Rn}readMutation(Cn){let $n=this.view.docView.nearest(Cn.target);if(!$n||$n.ignoreMutation(Cn))return null;if($n.markDirty(Cn.type=="attributes"),Cn.type=="attributes"&&($n.flags|=4),Cn.type=="childList"){let _n=findChild($n,Cn.previousSibling||Cn.target.previousSibling,-1),Rn=findChild($n,Cn.nextSibling||Cn.target.nextSibling,1);return{from:_n?$n.posAfter(_n):$n.posAtStart,to:Rn?$n.posBefore(Rn):$n.posAtEnd,typeOver:!1}}else return Cn.type=="characterData"?{from:$n.posAtStart,to:$n.posAtEnd,typeOver:Cn.target.nodeValue==Cn.oldValue}:null}setWindow(Cn){Cn!=this.win&&(this.removeWindowListeners(this.win),this.win=Cn,this.addWindowListeners(this.win))}addWindowListeners(Cn){Cn.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):Cn.addEventListener("beforeprint",this.onPrint),Cn.addEventListener("scroll",this.onScroll),Cn.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Cn){Cn.removeEventListener("scroll",this.onScroll),Cn.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):Cn.removeEventListener("beforeprint",this.onPrint),Cn.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Cn){this.editContext&&(this.editContext.update(Cn),Cn.startState.facet(editable)!=Cn.state.facet(editable)&&(Cn.view.contentDOM.editContext=Cn.state.facet(editable)?this.editContext.editContext:null))}destroy(){var Cn,$n,_n;this.stop(),(Cn=this.intersection)===null||Cn===void 0||Cn.disconnect(),($n=this.gapIntersection)===null||$n===void 0||$n.disconnect(),(_n=this.resizeScroll)===null||_n===void 0||_n.disconnect();for(let Rn of this.scrollTargets)Rn.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(Pn,Cn,$n){for(;Cn;){let _n=ContentView.get(Cn);if(_n&&_n.parent==Pn)return _n;let Rn=Cn.parentNode;Cn=Rn!=Pn.dom?Rn:$n>0?Cn.nextSibling:Cn.previousSibling}return null}function buildSelectionRangeFromRange(Pn,Cn){let $n=Cn.startContainer,_n=Cn.startOffset,Rn=Cn.endContainer,Bn=Cn.endOffset,Ln=Pn.docView.domAtPos(Pn.state.selection.main.anchor);return isEquivalentPosition(Ln.node,Ln.offset,Rn,Bn)&&([$n,_n,Rn,Bn]=[Rn,Bn,$n,_n]),{anchorNode:$n,anchorOffset:_n,focusNode:Rn,focusOffset:Bn}}function safariSelectionRangeHack(Pn,Cn){if(Cn.getComposedRanges){let Rn=Cn.getComposedRanges(Pn.root)[0];if(Rn)return buildSelectionRangeFromRange(Pn,Rn)}let $n=null;function _n(Rn){Rn.preventDefault(),Rn.stopImmediatePropagation(),$n=Rn.getTargetRanges()[0]}return Pn.contentDOM.addEventListener("beforeinput",_n,!0),Pn.dom.ownerDocument.execCommand("indent"),Pn.contentDOM.removeEventListener("beforeinput",_n,!0),$n?buildSelectionRangeFromRange(Pn,$n):null}class EditContextManager{constructor(Cn){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(Cn.state);let $n=this.editContext=new window.EditContext({text:Cn.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Cn.state.selection.main.anchor))),selectionEnd:this.toContextPos(Cn.state.selection.main.head)});this.handlers.textupdate=_n=>{let Rn=Cn.state.selection.main,{anchor:Bn,head:Ln}=Rn,Dn=this.toEditorPos(_n.updateRangeStart),Nn=this.toEditorPos(_n.updateRangeEnd);Cn.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:_n.updateRangeStart,editorBase:Dn,drifted:!1});let Fn={from:Dn,to:Nn,insert:Text.of(_n.text.split(`
`))};if(Fn.from==this.from&&Bn<this.from?Fn.from=Bn:Fn.to==this.to&&Bn>this.to&&(Fn.to=Bn),Fn.from==Fn.to&&!Fn.insert.length){let Wn=EditorSelection.single(this.toEditorPos(_n.selectionStart),this.toEditorPos(_n.selectionEnd));Wn.main.eq(Rn)||Cn.dispatch({selection:Wn,userEvent:"select"});return}if((browser.mac||browser.android)&&Fn.from==Ln-1&&/^\. ?$/.test(_n.text)&&Cn.contentDOM.getAttribute("autocorrect")=="off"&&(Fn={from:Dn,to:Nn,insert:Text.of([_n.text.replace("."," ")])}),this.pendingContextChange=Fn,!Cn.state.readOnly){let Wn=this.to-this.from+(Fn.to-Fn.from+Fn.insert.length);applyDOMChangeInner(Cn,Fn,EditorSelection.single(this.toEditorPos(_n.selectionStart,Wn),this.toEditorPos(_n.selectionEnd,Wn)))}this.pendingContextChange&&(this.revertPending(Cn.state),this.setSelection(Cn.state))},this.handlers.characterboundsupdate=_n=>{let Rn=[],Bn=null;for(let Ln=this.toEditorPos(_n.rangeStart),Dn=this.toEditorPos(_n.rangeEnd);Ln<Dn;Ln++){let Nn=Cn.coordsForChar(Ln);Bn=Nn&&new DOMRect(Nn.left,Nn.top,Nn.right-Nn.left,Nn.bottom-Nn.top)||Bn||new DOMRect,Rn.push(Bn)}$n.updateCharacterBounds(_n.rangeStart,Rn)},this.handlers.textformatupdate=_n=>{let Rn=[];for(let Bn of _n.getTextFormats()){let Ln=Bn.underlineStyle,Dn=Bn.underlineThickness;if(Ln!="None"&&Dn!="None"){let Nn=this.toEditorPos(Bn.rangeStart),Fn=this.toEditorPos(Bn.rangeEnd);if(Nn<Fn){let Wn=`text-decoration: underline ${Ln=="Dashed"?"dashed ":Ln=="Squiggle"?"wavy ":""}${Dn=="Thin"?1:2}px`;Rn.push(Decoration.mark({attributes:{style:Wn}}).range(Nn,Fn))}}}Cn.dispatch({effects:setEditContextFormatting.of(Decoration.set(Rn))})},this.handlers.compositionstart=()=>{Cn.inputState.composing<0&&(Cn.inputState.composing=0,Cn.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(Cn.inputState.composing=-1,Cn.inputState.compositionFirstChange=null,this.composing){let{drifted:_n}=this.composing;this.composing=null,_n&&this.reset(Cn.state)}};for(let _n in this.handlers)$n.addEventListener(_n,this.handlers[_n]);this.measureReq={read:_n=>{this.editContext.updateControlBounds(_n.contentDOM.getBoundingClientRect());let Rn=getSelection(_n.root);Rn&&Rn.rangeCount&&this.editContext.updateSelectionBounds(Rn.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Cn){let $n=0,_n=!1,Rn=this.pendingContextChange;return Cn.changes.iterChanges((Bn,Ln,Dn,Nn,Fn)=>{if(_n)return;let Wn=Fn.length-(Ln-Bn);if(Rn&&Ln>=Rn.to)if(Rn.from==Bn&&Rn.to==Ln&&Rn.insert.eq(Fn)){Rn=this.pendingContextChange=null,$n+=Wn,this.to+=Wn;return}else Rn=null,this.revertPending(Cn.state);if(Bn+=$n,Ln+=$n,Ln<=this.from)this.from+=Wn,this.to+=Wn;else if(Bn<this.to){if(Bn<this.from||Ln>this.to||this.to-this.from+Fn.length>3e4){_n=!0;return}this.editContext.updateText(this.toContextPos(Bn),this.toContextPos(Ln),Fn.toString()),this.to+=Wn}$n+=Wn}),Rn&&!_n&&this.revertPending(Cn.state),!_n}update(Cn){let $n=this.pendingContextChange,_n=Cn.startState.selection.main;this.composing&&(this.composing.drifted||!Cn.changes.touchesRange(_n.from,_n.to)&&Cn.transactions.some(Rn=>!Rn.isUserEvent("input.type")&&Rn.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=Cn.changes.mapPos(this.composing.editorBase)):!this.applyEdits(Cn)||!this.rangeIsValid(Cn.state)?(this.pendingContextChange=null,this.reset(Cn.state)):(Cn.docChanged||Cn.selectionSet||$n)&&this.setSelection(Cn.state),(Cn.geometryChanged||Cn.docChanged||Cn.selectionSet)&&Cn.view.requestMeasure(this.measureReq)}resetRange(Cn){let{head:$n}=Cn.selection.main;this.from=Math.max(0,$n-1e4),this.to=Math.min(Cn.doc.length,$n+1e4)}reset(Cn){this.resetRange(Cn),this.editContext.updateText(0,this.editContext.text.length,Cn.doc.sliceString(this.from,this.to)),this.setSelection(Cn)}revertPending(Cn){let $n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos($n.from),this.toContextPos($n.from+$n.insert.length),Cn.doc.sliceString($n.from,$n.to))}setSelection(Cn){let{main:$n}=Cn.selection,_n=this.toContextPos(Math.max(this.from,Math.min(this.to,$n.anchor))),Rn=this.toContextPos($n.head);(this.editContext.selectionStart!=_n||this.editContext.selectionEnd!=Rn)&&this.editContext.updateSelection(_n,Rn)}rangeIsValid(Cn){let{head:$n}=Cn.selection.main;return!(this.from>0&&$n-this.from<500||this.to<Cn.doc.length&&this.to-$n<500||this.to-this.from>1e4*3)}toEditorPos(Cn,$n=this.to-this.from){Cn=Math.min(Cn,$n);let _n=this.composing;return _n&&_n.drifted?_n.editorBase+(Cn-_n.contextBase):Cn+this.from}toContextPos(Cn){let $n=this.composing;return $n&&$n.drifted?$n.contextBase+(Cn-$n.editorBase):Cn-this.from}destroy(){for(let Cn in this.handlers)this.editContext.removeEventListener(Cn,this.handlers[Cn])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Cn={}){var $n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Cn.parent&&Cn.parent.appendChild(this.dom);let{dispatch:_n}=Cn;this.dispatchTransactions=Cn.dispatchTransactions||_n&&(Rn=>Rn.forEach(Bn=>_n(Bn,this)))||(Rn=>this.update(Rn)),this.dispatch=this.dispatch.bind(this),this._root=Cn.root||getRoot(Cn.parent)||document,this.viewState=new ViewState(Cn.state||EditorState.create(Cn)),Cn.scrollTo&&Cn.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=Cn.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(Rn=>new PluginInstance(Rn));for(let Rn of this.plugins)Rn.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!(($n=document.fonts)===null||$n===void 0)&&$n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...Cn){let $n=Cn.length==1&&Cn[0]instanceof Transaction?Cn:Cn.length==1&&Array.isArray(Cn[0])?Cn[0]:[this.state.update(...Cn)];this.dispatchTransactions($n,this)}update(Cn){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let $n=!1,_n=!1,Rn,Bn=this.state;for(let Yn of Cn){if(Yn.startState!=Bn)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");Bn=Yn.state}if(this.destroyed){this.viewState.state=Bn;return}let Ln=this.hasFocus,Dn=0,Nn=null;Cn.some(Yn=>Yn.annotation(isFocusChange))?(this.inputState.notifiedFocused=Ln,Dn=1):Ln!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=Ln,Nn=focusChangeTransaction(Bn,Ln),Nn||(Dn=1));let Fn=this.observer.delayedAndroidKey,Wn=null;if(Fn?(this.observer.clearDelayedAndroidKey(),Wn=this.observer.readChange(),(Wn&&!this.state.doc.eq(Bn.doc)||!this.state.selection.eq(Bn.selection))&&(Wn=null)):this.observer.clear(),Bn.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(Bn);Rn=ViewUpdate.create(this,Bn,Cn),Rn.flags|=Dn;let zn=this.viewState.scrollTarget;try{this.updateState=2;for(let Yn of Cn){if(zn&&(zn=zn.map(Yn.changes)),Yn.scrollIntoView){let{main:Gn}=Yn.state.selection;zn=new ScrollTarget(Gn.empty?Gn:EditorSelection.cursor(Gn.head,Gn.head>Gn.anchor?-1:1))}for(let Gn of Yn.effects)Gn.is(scrollIntoView$1)&&(zn=Gn.value.clip(this.state))}this.viewState.update(Rn,zn),this.bidiCache=CachedOrder.update(this.bidiCache,Rn.changes),Rn.empty||(this.updatePlugins(Rn),this.inputState.update(Rn)),$n=this.docView.update(Rn),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),_n=this.updateAttrs(),this.showAnnouncements(Cn),this.docView.updateSelection($n,Cn.some(Yn=>Yn.isUserEvent("select.pointer")))}finally{this.updateState=0}if(Rn.startState.facet(theme)!=Rn.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),($n||_n||zn||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),$n&&this.docViewUpdate(),!Rn.empty)for(let Yn of this.state.facet(updateListener))try{Yn(Rn)}catch(Gn){logException(this.state,Gn,"update listener")}(Nn||Wn)&&Promise.resolve().then(()=>{Nn&&this.state==Nn.startState&&this.dispatch(Nn),Wn&&!applyDOMChange(this,Wn)&&Fn.force&&dispatchKey(this.contentDOM,Fn.key,Fn.keyCode)})}setState(Cn){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Cn;return}this.updateState=2;let $n=this.hasFocus;try{for(let _n of this.plugins)_n.destroy(this);this.viewState=new ViewState(Cn),this.plugins=Cn.facet(viewPlugin).map(_n=>new PluginInstance(_n)),this.pluginMap.clear();for(let _n of this.plugins)_n.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}$n&&this.focus(),this.requestMeasure()}updatePlugins(Cn){let $n=Cn.startState.facet(viewPlugin),_n=Cn.state.facet(viewPlugin);if($n!=_n){let Rn=[];for(let Bn of _n){let Ln=$n.indexOf(Bn);if(Ln<0)Rn.push(new PluginInstance(Bn));else{let Dn=this.plugins[Ln];Dn.mustUpdate=Cn,Rn.push(Dn)}}for(let Bn of this.plugins)Bn.mustUpdate!=Cn&&Bn.destroy(this);this.plugins=Rn,this.pluginMap.clear()}else for(let Rn of this.plugins)Rn.mustUpdate=Cn;for(let Rn=0;Rn<this.plugins.length;Rn++)this.plugins[Rn].update(this);$n!=_n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Cn of this.plugins){let $n=Cn.value;if($n&&$n.docViewUpdate)try{$n.docViewUpdate(this)}catch(_n){logException(this.state,_n,"doc view update listener")}}}measure(Cn=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,Cn&&this.observer.forceFlush();let $n=null,_n=this.scrollDOM,Rn=_n.scrollTop*this.scaleY,{scrollAnchorPos:Bn,scrollAnchorHeight:Ln}=this.viewState;Math.abs(Rn-this.viewState.scrollTop)>1&&(Ln=-1),this.viewState.scrollAnchorHeight=-1;try{for(let Dn=0;;Dn++){if(Ln<0)if(isScrolledToBottom(_n))Bn=-1,Ln=this.viewState.heightMap.height;else{let Gn=this.viewState.scrollAnchorAt(Rn);Bn=Gn.from,Ln=Gn.top}this.updateState=1;let Nn=this.viewState.measure(this);if(!Nn&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Dn>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let Fn=[];Nn&4||([this.measureRequests,Fn]=[Fn,this.measureRequests]);let Wn=Fn.map(Gn=>{try{return Gn.read(this)}catch(ei){return logException(this.state,ei),BadMeasure}}),zn=ViewUpdate.create(this,this.state,[]),Yn=!1;zn.flags|=Nn,$n?$n.flags|=Nn:$n=zn,this.updateState=2,zn.empty||(this.updatePlugins(zn),this.inputState.update(zn),this.updateAttrs(),Yn=this.docView.update(zn),Yn&&this.docViewUpdate());for(let Gn=0;Gn<Fn.length;Gn++)if(Wn[Gn]!=BadMeasure)try{let ei=Fn[Gn];ei.write&&ei.write(Wn[Gn],this)}catch(ei){logException(this.state,ei)}if(Yn&&this.docView.updateSelection(!0),!zn.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Ln=-1;continue}else{let ei=(Bn<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(Bn).top)-Ln;if(ei>1||ei<-1){Rn=Rn+ei,_n.scrollTop=Rn/this.scaleY,Ln=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if($n&&!$n.empty)for(let Dn of this.state.facet(updateListener))Dn($n)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let Cn=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),$n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&($n["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,$n);let _n=this.observer.ignore(()=>{let Rn=updateAttrs(this.contentDOM,this.contentAttrs,$n),Bn=updateAttrs(this.dom,this.editorAttrs,Cn);return Rn||Bn});return this.editorAttrs=Cn,this.contentAttrs=$n,_n}showAnnouncements(Cn){let $n=!0;for(let _n of Cn)for(let Rn of _n.effects)if(Rn.is(EditorView.announce)){$n&&(this.announceDOM.textContent=""),$n=!1;let Bn=this.announceDOM.appendChild(document.createElement("div"));Bn.textContent=Rn.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let Cn=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),Cn?{nonce:Cn}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(Cn){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),Cn){if(this.measureRequests.indexOf(Cn)>-1)return;if(Cn.key!=null){for(let $n=0;$n<this.measureRequests.length;$n++)if(this.measureRequests[$n].key===Cn.key){this.measureRequests[$n]=Cn;return}}this.measureRequests.push(Cn)}}plugin(Cn){let $n=this.pluginMap.get(Cn);return($n===void 0||$n&&$n.spec!=Cn)&&this.pluginMap.set(Cn,$n=this.plugins.find(_n=>_n.spec==Cn)||null),$n&&$n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Cn){return this.readMeasured(),this.viewState.elementAtHeight(Cn)}lineBlockAtHeight(Cn){return this.readMeasured(),this.viewState.lineBlockAtHeight(Cn)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Cn){return this.viewState.lineBlockAt(Cn)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Cn,$n,_n){return skipAtoms(this,Cn,moveByChar(this,Cn,$n,_n))}moveByGroup(Cn,$n){return skipAtoms(this,Cn,moveByChar(this,Cn,$n,_n=>byGroup(this,Cn.head,_n)))}visualLineSide(Cn,$n){let _n=this.bidiSpans(Cn),Rn=this.textDirectionAt(Cn.from),Bn=_n[$n?_n.length-1:0];return EditorSelection.cursor(Bn.side($n,Rn)+Cn.from,Bn.forward(!$n,Rn)?1:-1)}moveToLineBoundary(Cn,$n,_n=!0){return moveToLineBoundary(this,Cn,$n,_n)}moveVertically(Cn,$n,_n){return skipAtoms(this,Cn,moveVertically(this,Cn,$n,_n))}domAtPos(Cn){return this.docView.domAtPos(Cn)}posAtDOM(Cn,$n=0){return this.docView.posFromDOM(Cn,$n)}posAtCoords(Cn,$n=!0){return this.readMeasured(),posAtCoords(this,Cn,$n)}coordsAtPos(Cn,$n=1){this.readMeasured();let _n=this.docView.coordsAt(Cn,$n);if(!_n||_n.left==_n.right)return _n;let Rn=this.state.doc.lineAt(Cn),Bn=this.bidiSpans(Rn),Ln=Bn[BidiSpan.find(Bn,Cn-Rn.from,-1,$n)];return flattenRect(_n,Ln.dir==Direction.LTR==$n>0)}coordsForChar(Cn){return this.readMeasured(),this.docView.coordsForChar(Cn)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Cn){return!this.state.facet(perLineTextDirection)||Cn<this.viewport.from||Cn>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(Cn))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Cn){if(Cn.length>MaxBidiLine)return trivialOrder(Cn.length);let $n=this.textDirectionAt(Cn.from),_n;for(let Bn of this.bidiCache)if(Bn.from==Cn.from&&Bn.dir==$n&&(Bn.fresh||isolatesEq(Bn.isolates,_n=getIsolatedRanges(this,Cn))))return Bn.order;_n||(_n=getIsolatedRanges(this,Cn));let Rn=computeOrder(Cn.text,$n,_n);return this.bidiCache.push(new CachedOrder(Cn.from,Cn.to,$n,_n,!0,Rn)),Rn}get hasFocus(){var Cn;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((Cn=this.inputState)===null||Cn===void 0?void 0:Cn.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(Cn){this._root!=Cn&&(this._root=Cn,this.observer.setWindow((Cn.nodeType==9?Cn:Cn.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let Cn of this.plugins)Cn.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(Cn,$n={}){return scrollIntoView$1.of(new ScrollTarget(typeof Cn=="number"?EditorSelection.cursor(Cn):Cn,$n.y,$n.x,$n.yMargin,$n.xMargin))}scrollSnapshot(){let{scrollTop:Cn,scrollLeft:$n}=this.scrollDOM,_n=this.viewState.scrollAnchorAt(Cn);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(_n.from),"start","start",_n.top-Cn,$n,!0))}setTabFocusMode(Cn){Cn==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof Cn=="boolean"?this.inputState.tabFocusMode=Cn?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+Cn)}static domEventHandlers(Cn){return ViewPlugin.define(()=>({}),{eventHandlers:Cn})}static domEventObservers(Cn){return ViewPlugin.define(()=>({}),{eventObservers:Cn})}static theme(Cn,$n){let _n=StyleModule.newName(),Rn=[theme.of(_n),styleModule.of(buildTheme(`.${_n}`,Cn))];return $n&&$n.dark&&Rn.push(darkTheme.of(!0)),Rn}static baseTheme(Cn){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,Cn,lightDarkIDs)))}static findFromDOM(Cn){var $n;let _n=Cn.querySelector(".cm-content"),Rn=_n&&ContentView.get(_n)||ContentView.get(Cn);return(($n=Rn==null?void 0:Rn.rootView)===null||$n===void 0?void 0:$n.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:Pn=>Pn.length?Pn[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(Cn,$n,_n,Rn,Bn,Ln){this.from=Cn,this.to=$n,this.dir=_n,this.isolates=Rn,this.fresh=Bn,this.order=Ln}static update(Cn,$n){if($n.empty&&!Cn.some(Bn=>Bn.fresh))return Cn;let _n=[],Rn=Cn.length?Cn[Cn.length-1].dir:Direction.LTR;for(let Bn=Math.max(0,Cn.length-10);Bn<Cn.length;Bn++){let Ln=Cn[Bn];Ln.dir==Rn&&!$n.touchesRange(Ln.from,Ln.to)&&_n.push(new CachedOrder($n.mapPos(Ln.from,1),$n.mapPos(Ln.to,-1),Ln.dir,Ln.isolates,!1,Ln.order))}return _n}}function attrsFromFacet(Pn,Cn,$n){for(let _n=Pn.state.facet(Cn),Rn=_n.length-1;Rn>=0;Rn--){let Bn=_n[Rn],Ln=typeof Bn=="function"?Bn(Pn):Bn;Ln&&combineAttrs(Ln,$n)}return $n}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(Pn,Cn){const $n=Pn.split(/-(?!$)/);let _n=$n[$n.length-1];_n=="Space"&&(_n=" ");let Rn,Bn,Ln,Dn;for(let Nn=0;Nn<$n.length-1;++Nn){const Fn=$n[Nn];if(/^(cmd|meta|m)$/i.test(Fn))Dn=!0;else if(/^a(lt)?$/i.test(Fn))Rn=!0;else if(/^(c|ctrl|control)$/i.test(Fn))Bn=!0;else if(/^s(hift)?$/i.test(Fn))Ln=!0;else if(/^mod$/i.test(Fn))Cn=="mac"?Dn=!0:Bn=!0;else throw new Error("Unrecognized modifier name: "+Fn)}return Rn&&(_n="Alt-"+_n),Bn&&(_n="Ctrl-"+_n),Dn&&(_n="Meta-"+_n),Ln&&(_n="Shift-"+_n),_n}function modifiers(Pn,Cn,$n){return Cn.altKey&&(Pn="Alt-"+Pn),Cn.ctrlKey&&(Pn="Ctrl-"+Pn),Cn.metaKey&&(Pn="Meta-"+Pn),$n!==!1&&Cn.shiftKey&&(Pn="Shift-"+Pn),Pn}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(Pn,Cn){return runHandlers(getKeymap(Cn.state),Pn,Cn,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(Pn){let Cn=Pn.facet(keymap),$n=Keymaps.get(Cn);return $n||Keymaps.set(Cn,$n=buildKeymap(Cn.reduce((_n,Rn)=>_n.concat(Rn),[]))),$n}function runScopeHandlers(Pn,Cn,$n){return runHandlers(getKeymap(Pn.state),Cn,Pn,$n)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(Pn,Cn=currentPlatform){let $n=Object.create(null),_n=Object.create(null),Rn=(Ln,Dn)=>{let Nn=_n[Ln];if(Nn==null)_n[Ln]=Dn;else if(Nn!=Dn)throw new Error("Key binding "+Ln+" is used both as a regular binding and as a multi-stroke prefix")},Bn=(Ln,Dn,Nn,Fn,Wn)=>{var zn,Yn;let Gn=$n[Ln]||($n[Ln]=Object.create(null)),ei=Dn.split(/ (?!$)/).map(oi=>normalizeKeyName(oi,Cn));for(let oi=1;oi<ei.length;oi++){let ai=ei.slice(0,oi).join(" ");Rn(ai,!0),Gn[ai]||(Gn[ai]={preventDefault:!0,stopPropagation:!1,run:[fi=>{let ui=storedPrefix={view:fi,prefix:ai,scope:Ln};return setTimeout(()=>{storedPrefix==ui&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ti=ei.join(" ");Rn(ti,!1);let ii=Gn[ti]||(Gn[ti]={preventDefault:!1,stopPropagation:!1,run:((Yn=(zn=Gn._any)===null||zn===void 0?void 0:zn.run)===null||Yn===void 0?void 0:Yn.slice())||[]});Nn&&ii.run.push(Nn),Fn&&(ii.preventDefault=!0),Wn&&(ii.stopPropagation=!0)};for(let Ln of Pn){let Dn=Ln.scope?Ln.scope.split(" "):["editor"];if(Ln.any)for(let Fn of Dn){let Wn=$n[Fn]||($n[Fn]=Object.create(null));Wn._any||(Wn._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:zn}=Ln;for(let Yn in Wn)Wn[Yn].run.push(Gn=>zn(Gn,currentKeyEvent))}let Nn=Ln[Cn]||Ln.key;if(Nn)for(let Fn of Dn)Bn(Fn,Nn,Ln.run,Ln.preventDefault,Ln.stopPropagation),Ln.shift&&Bn(Fn,"Shift-"+Nn,Ln.shift,Ln.preventDefault,Ln.stopPropagation)}return $n}let currentKeyEvent=null;function runHandlers(Pn,Cn,$n,_n){currentKeyEvent=Cn;let Rn=keyName(Cn),Bn=codePointAt(Rn,0),Ln=codePointSize(Bn)==Rn.length&&Rn!=" ",Dn="",Nn=!1,Fn=!1,Wn=!1;storedPrefix&&storedPrefix.view==$n&&storedPrefix.scope==_n&&(Dn=storedPrefix.prefix+" ",modifierCodes.indexOf(Cn.keyCode)<0&&(Fn=!0,storedPrefix=null));let zn=new Set,Yn=ii=>{if(ii){for(let oi of ii.run)if(!zn.has(oi)&&(zn.add(oi),oi($n)))return ii.stopPropagation&&(Wn=!0),!0;ii.preventDefault&&(ii.stopPropagation&&(Wn=!0),Fn=!0)}return!1},Gn=Pn[_n],ei,ti;return Gn&&(Yn(Gn[Dn+modifiers(Rn,Cn,!Ln)])?Nn=!0:Ln&&(Cn.altKey||Cn.metaKey||Cn.ctrlKey)&&!(browser.windows&&Cn.ctrlKey&&Cn.altKey)&&(ei=base[Cn.keyCode])&&ei!=Rn?(Yn(Gn[Dn+modifiers(ei,Cn,!0)])||Cn.shiftKey&&(ti=shift[Cn.keyCode])!=Rn&&ti!=ei&&Yn(Gn[Dn+modifiers(ti,Cn,!1)]))&&(Nn=!0):Ln&&Cn.shiftKey&&Yn(Gn[Dn+modifiers(Rn,Cn,!0)])&&(Nn=!0),!Nn&&Yn(Gn._any)&&(Nn=!0)),Fn&&(Nn=!0),Nn&&Wn&&Cn.stopPropagation(),currentKeyEvent=null,Nn}class RectangleMarker{constructor(Cn,$n,_n,Rn,Bn){this.className=Cn,this.left=$n,this.top=_n,this.width=Rn,this.height=Bn}draw(){let Cn=document.createElement("div");return Cn.className=this.className,this.adjust(Cn),Cn}update(Cn,$n){return $n.className!=this.className?!1:(this.adjust(Cn),!0)}adjust(Cn){Cn.style.left=this.left+"px",Cn.style.top=this.top+"px",this.width!=null&&(Cn.style.width=this.width+"px"),Cn.style.height=this.height+"px"}eq(Cn){return this.left==Cn.left&&this.top==Cn.top&&this.width==Cn.width&&this.height==Cn.height&&this.className==Cn.className}static forRange(Cn,$n,_n){if(_n.empty){let Rn=Cn.coordsAtPos(_n.head,_n.assoc||1);if(!Rn)return[];let Bn=getBase(Cn);return[new RectangleMarker($n,Rn.left-Bn.left,Rn.top-Bn.top,null,Rn.bottom-Rn.top)]}else return rectanglesForRange(Cn,$n,_n)}}function getBase(Pn){let Cn=Pn.scrollDOM.getBoundingClientRect();return{left:(Pn.textDirection==Direction.LTR?Cn.left:Cn.right-Pn.scrollDOM.clientWidth*Pn.scaleX)-Pn.scrollDOM.scrollLeft*Pn.scaleX,top:Cn.top-Pn.scrollDOM.scrollTop*Pn.scaleY}}function wrappedLine(Pn,Cn,$n,_n){let Rn=Pn.coordsAtPos(Cn,$n*2);if(!Rn)return _n;let Bn=Pn.dom.getBoundingClientRect(),Ln=(Rn.top+Rn.bottom)/2,Dn=Pn.posAtCoords({x:Bn.left+1,y:Ln}),Nn=Pn.posAtCoords({x:Bn.right-1,y:Ln});return Dn==null||Nn==null?_n:{from:Math.max(_n.from,Math.min(Dn,Nn)),to:Math.min(_n.to,Math.max(Dn,Nn))}}function rectanglesForRange(Pn,Cn,$n){if($n.to<=Pn.viewport.from||$n.from>=Pn.viewport.to)return[];let _n=Math.max($n.from,Pn.viewport.from),Rn=Math.min($n.to,Pn.viewport.to),Bn=Pn.textDirection==Direction.LTR,Ln=Pn.contentDOM,Dn=Ln.getBoundingClientRect(),Nn=getBase(Pn),Fn=Ln.querySelector(".cm-line"),Wn=Fn&&window.getComputedStyle(Fn),zn=Dn.left+(Wn?parseInt(Wn.paddingLeft)+Math.min(0,parseInt(Wn.textIndent)):0),Yn=Dn.right-(Wn?parseInt(Wn.paddingRight):0),Gn=blockAt(Pn,_n,1),ei=blockAt(Pn,Rn,-1),ti=Gn.type==BlockType.Text?Gn:null,ii=ei.type==BlockType.Text?ei:null;if(ti&&(Pn.lineWrapping||Gn.widgetLineBreaks)&&(ti=wrappedLine(Pn,_n,1,ti)),ii&&(Pn.lineWrapping||ei.widgetLineBreaks)&&(ii=wrappedLine(Pn,Rn,-1,ii)),ti&&ii&&ti.from==ii.from&&ti.to==ii.to)return ai(fi($n.from,$n.to,ti));{let di=ti?fi($n.from,null,ti):ui(Gn,!1),yi=ii?fi(null,$n.to,ii):ui(ei,!0),mi=[];return(ti||Gn).to<(ii||ei).from-(ti&&ii?1:0)||Gn.widgetLineBreaks>1&&di.bottom+Pn.defaultLineHeight/2<yi.top?mi.push(oi(zn,di.bottom,Yn,yi.top)):di.bottom<yi.top&&Pn.elementAtHeight((di.bottom+yi.top)/2).type==BlockType.Text&&(di.bottom=yi.top=(di.bottom+yi.top)/2),ai(di).concat(mi).concat(ai(yi))}function oi(di,yi,mi,ki){return new RectangleMarker(Cn,di-Nn.left,yi-Nn.top,mi-di,ki-yi)}function ai({top:di,bottom:yi,horizontal:mi}){let ki=[];for(let _i=0;_i<mi.length;_i+=2)ki.push(oi(mi[_i],di,mi[_i+1],yi));return ki}function fi(di,yi,mi){let ki=1e9,_i=-1e9,Pi=[];function Oi(Xi,qi,Gi,ji,Ji){let ns=Pn.coordsAtPos(Xi,Xi==mi.to?-2:2),Zo=Pn.coordsAtPos(Gi,Gi==mi.from?2:-2);!ns||!Zo||(ki=Math.min(ns.top,Zo.top,ki),_i=Math.max(ns.bottom,Zo.bottom,_i),Ji==Direction.LTR?Pi.push(Bn&&qi?zn:ns.left,Bn&&ji?Yn:Zo.right):Pi.push(!Bn&&ji?zn:Zo.left,!Bn&&qi?Yn:ns.right))}let wi=di??mi.from,Li=yi??mi.to;for(let Xi of Pn.visibleRanges)if(Xi.to>wi&&Xi.from<Li)for(let qi=Math.max(Xi.from,wi),Gi=Math.min(Xi.to,Li);;){let ji=Pn.state.doc.lineAt(qi);for(let Ji of Pn.bidiSpans(ji)){let ns=Ji.from+ji.from,Zo=Ji.to+ji.from;if(ns>=Gi)break;Zo>qi&&Oi(Math.max(ns,qi),di==null&&ns<=wi,Math.min(Zo,Gi),yi==null&&Zo>=Li,Ji.dir)}if(qi=ji.to+1,qi>=Gi)break}return Pi.length==0&&Oi(wi,di==null,Li,yi==null,Pn.textDirection),{top:ki,bottom:_i,horizontal:Pi}}function ui(di,yi){let mi=Dn.top+(yi?di.top:di.bottom);return{top:mi,bottom:mi,horizontal:[]}}}function sameMarker(Pn,Cn){return Pn.constructor==Cn.constructor&&Pn.eq(Cn)}class LayerView{constructor(Cn,$n){this.view=Cn,this.layer=$n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=Cn.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),$n.above&&this.dom.classList.add("cm-layer-above"),$n.class&&this.dom.classList.add($n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(Cn.state),Cn.requestMeasure(this.measureReq),$n.mount&&$n.mount(this.dom,Cn)}update(Cn){Cn.startState.facet(layerOrder)!=Cn.state.facet(layerOrder)&&this.setOrder(Cn.state),(this.layer.update(Cn,this.dom)||Cn.geometryChanged)&&(this.scale(),Cn.view.requestMeasure(this.measureReq))}docViewUpdate(Cn){this.layer.updateOnDocViewUpdate!==!1&&Cn.requestMeasure(this.measureReq)}setOrder(Cn){let $n=0,_n=Cn.facet(layerOrder);for(;$n<_n.length&&_n[$n]!=this.layer;)$n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-$n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:Cn,scaleY:$n}=this.view;(Cn!=this.scaleX||$n!=this.scaleY)&&(this.scaleX=Cn,this.scaleY=$n,this.dom.style.transform=`scale(${1/Cn}, ${1/$n})`)}draw(Cn){if(Cn.length!=this.drawn.length||Cn.some(($n,_n)=>!sameMarker($n,this.drawn[_n]))){let $n=this.dom.firstChild,_n=0;for(let Rn of Cn)Rn.update&&$n&&Rn.constructor&&this.drawn[_n].constructor&&Rn.update($n,this.drawn[_n])?($n=$n.nextSibling,_n++):this.dom.insertBefore(Rn.draw(),$n);for(;$n;){let Rn=$n.nextSibling;$n.remove(),$n=Rn}this.drawn=Cn}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(Pn){return[ViewPlugin.define(Cn=>new LayerView(Cn,Pn)),layerOrder.of(Pn)]}const selectionConfig=Facet.define({combine(Pn){return combineConfig(Pn,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(Cn,$n)=>Math.min(Cn,$n),drawRangeCursor:(Cn,$n)=>Cn||$n})}});function drawSelection(Pn={}){return[selectionConfig.of(Pn),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(Pn){return Pn.startState.facet(selectionConfig)!=Pn.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(Pn){let{state:Cn}=Pn,$n=Cn.facet(selectionConfig),_n=[];for(let Rn of Cn.selection.ranges){let Bn=Rn==Cn.selection.main;if(Rn.empty||$n.drawRangeCursor){let Ln=Bn?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",Dn=Rn.empty?Rn:EditorSelection.cursor(Rn.head,Rn.head>Rn.anchor?-1:1);for(let Nn of RectangleMarker.forRange(Pn,Ln,Dn))_n.push(Nn)}}return _n},update(Pn,Cn){Pn.transactions.some(_n=>_n.selection)&&(Cn.style.animationName=Cn.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let $n=configChanged(Pn);return $n&&setBlinkRate(Pn.state,Cn),Pn.docChanged||Pn.selectionSet||$n},mount(Pn,Cn){setBlinkRate(Cn.state,Pn)},class:"cm-cursorLayer"});function setBlinkRate(Pn,Cn){Cn.style.animationDuration=Pn.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(Pn){return Pn.state.selection.ranges.map(Cn=>Cn.empty?[]:RectangleMarker.forRange(Pn,"cm-selectionBackground",Cn)).reduce((Cn,$n)=>Cn.concat($n))},update(Pn,Cn){return Pn.docChanged||Pn.selectionSet||Pn.viewportChanged||configChanged(Pn)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(Pn,Cn){return Pn==null?null:Cn.mapPos(Pn)}}),dropCursorPos=StateField.define({create(){return null},update(Pn,Cn){return Pn!=null&&(Pn=Cn.changes.mapPos(Pn)),Cn.effects.reduce(($n,_n)=>_n.is(setDropCursorPos)?_n.value:$n,Pn)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(Pn){var Cn;let $n=Pn.state.field(dropCursorPos);$n==null?this.cursor!=null&&((Cn=this.cursor)===null||Cn===void 0||Cn.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(Pn.startState.field(dropCursorPos)!=$n||Pn.docChanged||Pn.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:Pn}=this,Cn=Pn.state.field(dropCursorPos),$n=Cn!=null&&Pn.coordsAtPos(Cn);if(!$n)return null;let _n=Pn.scrollDOM.getBoundingClientRect();return{left:$n.left-_n.left+Pn.scrollDOM.scrollLeft*Pn.scaleX,top:$n.top-_n.top+Pn.scrollDOM.scrollTop*Pn.scaleY,height:$n.bottom-$n.top}}drawCursor(Pn){if(this.cursor){let{scaleX:Cn,scaleY:$n}=this.view;Pn?(this.cursor.style.left=Pn.left/Cn+"px",this.cursor.style.top=Pn.top/$n+"px",this.cursor.style.height=Pn.height/$n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(Pn){this.view.state.field(dropCursorPos)!=Pn&&this.view.dispatch({effects:setDropCursorPos.of(Pn)})}},{eventObservers:{dragover(Pn){this.setDropPos(this.view.posAtCoords({x:Pn.clientX,y:Pn.clientY}))},dragleave(Pn){(Pn.target==this.view.contentDOM||!this.view.contentDOM.contains(Pn.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(Pn,Cn,$n,_n,Rn){Cn.lastIndex=0;for(let Bn=Pn.iterRange($n,_n),Ln=$n,Dn;!Bn.next().done;Ln+=Bn.value.length)if(!Bn.lineBreak)for(;Dn=Cn.exec(Bn.value);)Rn(Ln+Dn.index,Dn)}function matchRanges(Pn,Cn){let $n=Pn.visibleRanges;if($n.length==1&&$n[0].from==Pn.viewport.from&&$n[0].to==Pn.viewport.to)return $n;let _n=[];for(let{from:Rn,to:Bn}of $n)Rn=Math.max(Pn.state.doc.lineAt(Rn).from,Rn-Cn),Bn=Math.min(Pn.state.doc.lineAt(Bn).to,Bn+Cn),_n.length&&_n[_n.length-1].to>=Rn?_n[_n.length-1].to=Bn:_n.push({from:Rn,to:Bn});return _n}class MatchDecorator{constructor(Cn){const{regexp:$n,decoration:_n,decorate:Rn,boundary:Bn,maxLength:Ln=1e3}=Cn;if(!$n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=$n,Rn)this.addMatch=(Dn,Nn,Fn,Wn)=>Rn(Wn,Fn,Fn+Dn[0].length,Dn,Nn);else if(typeof _n=="function")this.addMatch=(Dn,Nn,Fn,Wn)=>{let zn=_n(Dn,Nn,Fn);zn&&Wn(Fn,Fn+Dn[0].length,zn)};else if(_n)this.addMatch=(Dn,Nn,Fn,Wn)=>Wn(Fn,Fn+Dn[0].length,_n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=Bn,this.maxLength=Ln}createDeco(Cn){let $n=new RangeSetBuilder,_n=$n.add.bind($n);for(let{from:Rn,to:Bn}of matchRanges(Cn,this.maxLength))iterMatches(Cn.state.doc,this.regexp,Rn,Bn,(Ln,Dn)=>this.addMatch(Dn,Cn,Ln,_n));return $n.finish()}updateDeco(Cn,$n){let _n=1e9,Rn=-1;return Cn.docChanged&&Cn.changes.iterChanges((Bn,Ln,Dn,Nn)=>{Nn>=Cn.view.viewport.from&&Dn<=Cn.view.viewport.to&&(_n=Math.min(Dn,_n),Rn=Math.max(Nn,Rn))}),Cn.viewportMoved||Rn-_n>1e3?this.createDeco(Cn.view):Rn>-1?this.updateRange(Cn.view,$n.map(Cn.changes),_n,Rn):$n}updateRange(Cn,$n,_n,Rn){for(let Bn of Cn.visibleRanges){let Ln=Math.max(Bn.from,_n),Dn=Math.min(Bn.to,Rn);if(Dn>Ln){let Nn=Cn.state.doc.lineAt(Ln),Fn=Nn.to<Dn?Cn.state.doc.lineAt(Dn):Nn,Wn=Math.max(Bn.from,Nn.from),zn=Math.min(Bn.to,Fn.to);if(this.boundary){for(;Ln>Nn.from;Ln--)if(this.boundary.test(Nn.text[Ln-1-Nn.from])){Wn=Ln;break}for(;Dn<Fn.to;Dn++)if(this.boundary.test(Fn.text[Dn-Fn.from])){zn=Dn;break}}let Yn=[],Gn,ei=(ti,ii,oi)=>Yn.push(oi.range(ti,ii));if(Nn==Fn)for(this.regexp.lastIndex=Wn-Nn.from;(Gn=this.regexp.exec(Nn.text))&&Gn.index<zn-Nn.from;)this.addMatch(Gn,Cn,Gn.index+Nn.from,ei);else iterMatches(Cn.state.doc,this.regexp,Wn,zn,(ti,ii)=>this.addMatch(ii,Cn,ti,ei));$n=$n.update({filterFrom:Wn,filterTo:zn,filter:(ti,ii)=>ti<Wn||ii>zn,add:Yn})}}return $n}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var Pn;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let Cn=document.body.style;_supportsTabSize=((Pn=Cn.tabSize)!==null&&Pn!==void 0?Pn:Cn.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(Pn){let Cn=combineConfig(Pn,{render:null,specialChars:Specials,addSpecialChars:null});return(Cn.replaceTabs=!supportsTabSize())&&(Cn.specialChars=new RegExp("	|"+Cn.specialChars.source,UnicodeRegexpSupport)),Cn.addSpecialChars&&(Cn.specialChars=new RegExp(Cn.specialChars.source+"|"+Cn.addSpecialChars.source,UnicodeRegexpSupport)),Cn}});function highlightSpecialChars(Pn={}){return[specialCharConfig.of(Pn),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(Pn.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(Pn)}makeDecorator(Pn){return new MatchDecorator({regexp:Pn.specialChars,decoration:(Cn,$n,_n)=>{let{doc:Rn}=$n.state,Bn=codePointAt(Cn[0],0);if(Bn==9){let Ln=Rn.lineAt(_n),Dn=$n.state.tabSize,Nn=countColumn(Ln.text,Dn,_n-Ln.from);return Decoration.replace({widget:new TabWidget((Dn-Nn%Dn)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[Bn]||(this.decorationCache[Bn]=Decoration.replace({widget:new SpecialCharWidget(Pn,Bn)}))},boundary:Pn.replaceTabs?void 0:/[^]/})}update(Pn){let Cn=Pn.state.facet(specialCharConfig);Pn.startState.facet(specialCharConfig)!=Cn?(this.decorator=this.makeDecorator(Cn),this.decorations=this.decorator.createDeco(Pn.view)):this.decorations=this.decorator.updateDeco(Pn,this.decorations)}},{decorations:Pn=>Pn.decorations}))}const DefaultPlaceholder="";function placeholder$1(Pn){return Pn>=32?DefaultPlaceholder:Pn==10?"":String.fromCharCode(9216+Pn)}class SpecialCharWidget extends WidgetType{constructor(Cn,$n){super(),this.options=Cn,this.code=$n}eq(Cn){return Cn.code==this.code}toDOM(Cn){let $n=placeholder$1(this.code),_n=Cn.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),Rn=this.options.render&&this.options.render(this.code,_n,$n);if(Rn)return Rn;let Bn=document.createElement("span");return Bn.textContent=$n,Bn.title=_n,Bn.setAttribute("aria-label",_n),Bn.className="cm-specialChar",Bn}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(Cn){super(),this.width=Cn}eq(Cn){return Cn.width==this.width}toDOM(){let Cn=document.createElement("span");return Cn.textContent="	",Cn.className="cm-tab",Cn.style.width=this.width+"px",Cn}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(Pn){this.decorations=this.getDeco(Pn)}update(Pn){(Pn.docChanged||Pn.selectionSet)&&(this.decorations=this.getDeco(Pn.view))}getDeco(Pn){let Cn=-1,$n=[];for(let _n of Pn.state.selection.ranges){let Rn=Pn.lineBlockAt(_n.head);Rn.from>Cn&&($n.push(lineDeco.range(Rn.from)),Cn=Rn.from)}return Decoration.set($n)}},{decorations:Pn=>Pn.decorations});class Placeholder extends WidgetType{constructor(Cn){super(),this.content=Cn}toDOM(Cn){let $n=document.createElement("span");return $n.className="cm-placeholder",$n.style.pointerEvents="none",$n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(Cn):this.content.cloneNode(!0)),typeof this.content=="string"?$n.setAttribute("aria-label","placeholder "+this.content):$n.setAttribute("aria-hidden","true"),$n}coordsAt(Cn){let $n=Cn.firstChild?clientRectsFor(Cn.firstChild):[];if(!$n.length)return null;let _n=window.getComputedStyle(Cn.parentNode),Rn=flattenRect($n[0],_n.direction!="rtl"),Bn=parseInt(_n.lineHeight);return Rn.bottom-Rn.top>Bn*1.5?{left:Rn.left,right:Rn.right,top:Rn.top,bottom:Rn.top+Bn}:Rn}ignoreEvent(){return!1}}function placeholder(Pn){return ViewPlugin.fromClass(class{constructor(Cn){this.view=Cn,this.placeholder=Pn?Decoration.set([Decoration.widget({widget:new Placeholder(Pn),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:Cn=>Cn.decorations})}const MaxOff=2e3;function rectangleFor(Pn,Cn,$n){let _n=Math.min(Cn.line,$n.line),Rn=Math.max(Cn.line,$n.line),Bn=[];if(Cn.off>MaxOff||$n.off>MaxOff||Cn.col<0||$n.col<0){let Ln=Math.min(Cn.off,$n.off),Dn=Math.max(Cn.off,$n.off);for(let Nn=_n;Nn<=Rn;Nn++){let Fn=Pn.doc.line(Nn);Fn.length<=Dn&&Bn.push(EditorSelection.range(Fn.from+Ln,Fn.to+Dn))}}else{let Ln=Math.min(Cn.col,$n.col),Dn=Math.max(Cn.col,$n.col);for(let Nn=_n;Nn<=Rn;Nn++){let Fn=Pn.doc.line(Nn),Wn=findColumn(Fn.text,Ln,Pn.tabSize,!0);if(Wn<0)Bn.push(EditorSelection.cursor(Fn.to));else{let zn=findColumn(Fn.text,Dn,Pn.tabSize);Bn.push(EditorSelection.range(Fn.from+Wn,Fn.from+zn))}}}return Bn}function absoluteColumn(Pn,Cn){let $n=Pn.coordsAtPos(Pn.viewport.from);return $n?Math.round(Math.abs(($n.left-Cn)/Pn.defaultCharacterWidth)):-1}function getPos(Pn,Cn){let $n=Pn.posAtCoords({x:Cn.clientX,y:Cn.clientY},!1),_n=Pn.state.doc.lineAt($n),Rn=$n-_n.from,Bn=Rn>MaxOff?-1:Rn==_n.length?absoluteColumn(Pn,Cn.clientX):countColumn(_n.text,Pn.state.tabSize,$n-_n.from);return{line:_n.number,col:Bn,off:Rn}}function rectangleSelectionStyle(Pn,Cn){let $n=getPos(Pn,Cn),_n=Pn.state.selection;return $n?{update(Rn){if(Rn.docChanged){let Bn=Rn.changes.mapPos(Rn.startState.doc.line($n.line).from),Ln=Rn.state.doc.lineAt(Bn);$n={line:Ln.number,col:$n.col,off:Math.min($n.off,Ln.length)},_n=_n.map(Rn.changes)}},get(Rn,Bn,Ln){let Dn=getPos(Pn,Rn);if(!Dn)return _n;let Nn=rectangleFor(Pn.state,$n,Dn);return Nn.length?Ln?EditorSelection.create(Nn.concat(_n.ranges)):EditorSelection.create(Nn):_n}}:null}function rectangularSelection(Pn){let Cn=$n=>$n.altKey&&$n.button==0;return EditorView.mouseSelectionStyle.of(($n,_n)=>Cn(_n)?rectangleSelectionStyle($n,_n):null)}const keys={Alt:[18,Pn=>!!Pn.altKey],Control:[17,Pn=>!!Pn.ctrlKey],Shift:[16,Pn=>!!Pn.shiftKey],Meta:[91,Pn=>!!Pn.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(Pn={}){let[Cn,$n]=keys[Pn.key||"Alt"],_n=ViewPlugin.fromClass(class{constructor(Rn){this.view=Rn,this.isDown=!1}set(Rn){this.isDown!=Rn&&(this.isDown=Rn,this.view.update([]))}},{eventObservers:{keydown(Rn){this.set(Rn.keyCode==Cn||$n(Rn))},keyup(Rn){(Rn.keyCode==Cn||!$n(Rn))&&this.set(!1)},mousemove(Rn){this.set($n(Rn))}}});return[_n,EditorView.contentAttributes.of(Rn=>{var Bn;return!((Bn=Rn.plugin(_n))===null||Bn===void 0)&&Bn.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(Cn,$n,_n,Rn){this.facet=$n,this.createTooltipView=_n,this.removeTooltipView=Rn,this.input=Cn.state.facet($n),this.tooltips=this.input.filter(Ln=>Ln);let Bn=null;this.tooltipViews=this.tooltips.map(Ln=>Bn=_n(Ln,Bn))}update(Cn,$n){var _n;let Rn=Cn.state.facet(this.facet),Bn=Rn.filter(Nn=>Nn);if(Rn===this.input){for(let Nn of this.tooltipViews)Nn.update&&Nn.update(Cn);return!1}let Ln=[],Dn=$n?[]:null;for(let Nn=0;Nn<Bn.length;Nn++){let Fn=Bn[Nn],Wn=-1;if(Fn){for(let zn=0;zn<this.tooltips.length;zn++){let Yn=this.tooltips[zn];Yn&&Yn.create==Fn.create&&(Wn=zn)}if(Wn<0)Ln[Nn]=this.createTooltipView(Fn,Nn?Ln[Nn-1]:null),Dn&&(Dn[Nn]=!!Fn.above);else{let zn=Ln[Nn]=this.tooltipViews[Wn];Dn&&(Dn[Nn]=$n[Wn]),zn.update&&zn.update(Cn)}}}for(let Nn of this.tooltipViews)Ln.indexOf(Nn)<0&&(this.removeTooltipView(Nn),(_n=Nn.destroy)===null||_n===void 0||_n.call(Nn));return $n&&(Dn.forEach((Nn,Fn)=>$n[Fn]=Nn),$n.length=Dn.length),this.input=Rn,this.tooltips=Bn,this.tooltipViews=Ln,!0}}function windowSpace(Pn){let Cn=Pn.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:Cn.clientHeight,right:Cn.clientWidth}}const tooltipConfig=Facet.define({combine:Pn=>{var Cn,$n,_n;return{position:browser.ios?"absolute":((Cn=Pn.find(Rn=>Rn.position))===null||Cn===void 0?void 0:Cn.position)||"fixed",parent:(($n=Pn.find(Rn=>Rn.parent))===null||$n===void 0?void 0:$n.parent)||null,tooltipSpace:((_n=Pn.find(Rn=>Rn.tooltipSpace))===null||_n===void 0?void 0:_n.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let Cn=Pn.state.facet(tooltipConfig);this.position=Cn.position,this.parent=Cn.parent,this.classes=Pn.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(Pn,showTooltip,($n,_n)=>this.createTooltip($n,_n),$n=>{this.resizeObserver&&this.resizeObserver.unobserve($n.dom),$n.dom.remove()}),this.above=this.manager.tooltips.map($n=>!!$n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver($n=>{Date.now()>this.lastTransaction-50&&$n.length>0&&$n[$n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),Pn.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let Pn of this.manager.tooltipViews)this.intersectionObserver.observe(Pn.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(Pn){Pn.transactions.length&&(this.lastTransaction=Date.now());let Cn=this.manager.update(Pn,this.above);Cn&&this.observeIntersection();let $n=Cn||Pn.geometryChanged,_n=Pn.state.facet(tooltipConfig);if(_n.position!=this.position&&!this.madeAbsolute){this.position=_n.position;for(let Rn of this.manager.tooltipViews)Rn.dom.style.position=this.position;$n=!0}if(_n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=_n.parent,this.createContainer();for(let Rn of this.manager.tooltipViews)this.container.appendChild(Rn.dom);$n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);$n&&this.maybeMeasure()}createTooltip(Pn,Cn){let $n=Pn.create(this.view),_n=Cn?Cn.dom:null;if($n.dom.classList.add("cm-tooltip"),Pn.arrow&&!$n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let Rn=document.createElement("div");Rn.className="cm-tooltip-arrow",$n.dom.appendChild(Rn)}return $n.dom.style.position=this.position,$n.dom.style.top=Outside,$n.dom.style.left="0px",this.container.insertBefore($n.dom,_n),$n.mount&&$n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe($n.dom),$n}destroy(){var Pn,Cn,$n;this.view.win.removeEventListener("resize",this.measureSoon);for(let _n of this.manager.tooltipViews)_n.dom.remove(),(Pn=_n.destroy)===null||Pn===void 0||Pn.call(_n);this.parent&&this.container.remove(),(Cn=this.resizeObserver)===null||Cn===void 0||Cn.disconnect(),($n=this.intersectionObserver)===null||$n===void 0||$n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let Pn=1,Cn=1,$n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:Bn}=this.manager.tooltipViews[0];if(browser.gecko)$n=Bn.offsetParent!=this.container.ownerDocument.body;else if(Bn.style.top==Outside&&Bn.style.left=="0px"){let Ln=Bn.getBoundingClientRect();$n=Math.abs(Ln.top+1e4)>1||Math.abs(Ln.left)>1}}if($n||this.position=="absolute")if(this.parent){let Bn=this.parent.getBoundingClientRect();Bn.width&&Bn.height&&(Pn=Bn.width/this.parent.offsetWidth,Cn=Bn.height/this.parent.offsetHeight)}else({scaleX:Pn,scaleY:Cn}=this.view.viewState);let _n=this.view.scrollDOM.getBoundingClientRect(),Rn=getScrollMargins(this.view);return{visible:{left:_n.left+Rn.left,top:_n.top+Rn.top,right:_n.right-Rn.right,bottom:_n.bottom-Rn.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((Bn,Ln)=>{let Dn=this.manager.tooltipViews[Ln];return Dn.getCoords?Dn.getCoords(Bn.pos):this.view.coordsAtPos(Bn.pos)}),size:this.manager.tooltipViews.map(({dom:Bn})=>Bn.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:Pn,scaleY:Cn,makeAbsolute:$n}}writeMeasure(Pn){var Cn;if(Pn.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let Dn of this.manager.tooltipViews)Dn.dom.style.position="absolute"}let{visible:$n,space:_n,scaleX:Rn,scaleY:Bn}=Pn,Ln=[];for(let Dn=0;Dn<this.manager.tooltips.length;Dn++){let Nn=this.manager.tooltips[Dn],Fn=this.manager.tooltipViews[Dn],{dom:Wn}=Fn,zn=Pn.pos[Dn],Yn=Pn.size[Dn];if(!zn||Nn.clip!==!1&&(zn.bottom<=Math.max($n.top,_n.top)||zn.top>=Math.min($n.bottom,_n.bottom)||zn.right<Math.max($n.left,_n.left)-.1||zn.left>Math.min($n.right,_n.right)+.1)){Wn.style.top=Outside;continue}let Gn=Nn.arrow?Fn.dom.querySelector(".cm-tooltip-arrow"):null,ei=Gn?7:0,ti=Yn.right-Yn.left,ii=(Cn=knownHeight.get(Fn))!==null&&Cn!==void 0?Cn:Yn.bottom-Yn.top,oi=Fn.offset||noOffset,ai=this.view.textDirection==Direction.LTR,fi=Yn.width>_n.right-_n.left?ai?_n.left:_n.right-Yn.width:ai?Math.max(_n.left,Math.min(zn.left-(Gn?14:0)+oi.x,_n.right-ti)):Math.min(Math.max(_n.left,zn.left-ti+(Gn?14:0)-oi.x),_n.right-ti),ui=this.above[Dn];!Nn.strictSide&&(ui?zn.top-ii-ei-oi.y<_n.top:zn.bottom+ii+ei+oi.y>_n.bottom)&&ui==_n.bottom-zn.bottom>zn.top-_n.top&&(ui=this.above[Dn]=!ui);let di=(ui?zn.top-_n.top:_n.bottom-zn.bottom)-ei;if(di<ii&&Fn.resize!==!1){if(di<this.view.defaultLineHeight){Wn.style.top=Outside;continue}knownHeight.set(Fn,ii),Wn.style.height=(ii=di)/Bn+"px"}else Wn.style.height&&(Wn.style.height="");let yi=ui?zn.top-ii-ei-oi.y:zn.bottom+ei+oi.y,mi=fi+ti;if(Fn.overlap!==!0)for(let ki of Ln)ki.left<mi&&ki.right>fi&&ki.top<yi+ii&&ki.bottom>yi&&(yi=ui?ki.top-ii-2-ei:ki.bottom+ei+2);if(this.position=="absolute"?(Wn.style.top=(yi-Pn.parent.top)/Bn+"px",setLeftStyle(Wn,(fi-Pn.parent.left)/Rn)):(Wn.style.top=yi/Bn+"px",setLeftStyle(Wn,fi/Rn)),Gn){let ki=zn.left+(ai?oi.x:-oi.x)-(fi+14-7);Gn.style.left=ki/Rn+"px"}Fn.overlap!==!0&&Ln.push({left:fi,top:yi,right:mi,bottom:yi+ii}),Wn.classList.toggle("cm-tooltip-above",ui),Wn.classList.toggle("cm-tooltip-below",!ui),Fn.positioned&&Fn.positioned(Pn.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let Pn of this.manager.tooltipViews)Pn.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(Pn,Cn){let $n=parseInt(Pn.style.left,10);(isNaN($n)||Math.abs(Cn-$n)>1)&&(Pn.style.left=Cn+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:Pn=>Pn.reduce((Cn,$n)=>Cn.concat($n),[])});class HoverTooltipHost{static create(Cn){return new HoverTooltipHost(Cn)}constructor(Cn){this.view=Cn,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(Cn,showHoverTooltip,($n,_n)=>this.createHostedView($n,_n),$n=>$n.dom.remove())}createHostedView(Cn,$n){let _n=Cn.create(this.view);return _n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(_n.dom,$n?$n.dom.nextSibling:this.dom.firstChild),this.mounted&&_n.mount&&_n.mount(this.view),_n}mount(Cn){for(let $n of this.manager.tooltipViews)$n.mount&&$n.mount(Cn);this.mounted=!0}positioned(Cn){for(let $n of this.manager.tooltipViews)$n.positioned&&$n.positioned(Cn)}update(Cn){this.manager.update(Cn)}destroy(){var Cn;for(let $n of this.manager.tooltipViews)(Cn=$n.destroy)===null||Cn===void 0||Cn.call($n)}passProp(Cn){let $n;for(let _n of this.manager.tooltipViews){let Rn=_n[Cn];if(Rn!==void 0){if($n===void 0)$n=Rn;else if($n!==Rn)return}}return $n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],Pn=>{let Cn=Pn.facet(showHoverTooltip);return Cn.length===0?null:{pos:Math.min(...Cn.map($n=>$n.pos)),end:Math.max(...Cn.map($n=>{var _n;return(_n=$n.end)!==null&&_n!==void 0?_n:$n.pos})),create:HoverTooltipHost.create,above:Cn[0].above,arrow:Cn.some($n=>$n.arrow)}});class HoverPlugin{constructor(Cn,$n,_n,Rn,Bn){this.view=Cn,this.source=$n,this.field=_n,this.setHover=Rn,this.hoverTime=Bn,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Cn.dom,time:0},this.checkHover=this.checkHover.bind(this),Cn.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Cn.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let Cn=Date.now()-this.lastMove.time;Cn<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Cn):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:Cn,lastMove:$n}=this,_n=Cn.docView.nearest($n.target);if(!_n)return;let Rn,Bn=1;if(_n instanceof WidgetView)Rn=_n.posAtStart;else{if(Rn=Cn.posAtCoords($n),Rn==null)return;let Dn=Cn.coordsAtPos(Rn);if(!Dn||$n.y<Dn.top||$n.y>Dn.bottom||$n.x<Dn.left-Cn.defaultCharacterWidth||$n.x>Dn.right+Cn.defaultCharacterWidth)return;let Nn=Cn.bidiSpans(Cn.state.doc.lineAt(Rn)).find(Wn=>Wn.from<=Rn&&Wn.to>=Rn),Fn=Nn&&Nn.dir==Direction.RTL?-1:1;Bn=$n.x<Dn.left?-Fn:Fn}let Ln=this.source(Cn,Rn,Bn);if(Ln!=null&&Ln.then){let Dn=this.pending={pos:Rn};Ln.then(Nn=>{this.pending==Dn&&(this.pending=null,Nn&&!(Array.isArray(Nn)&&!Nn.length)&&Cn.dispatch({effects:this.setHover.of(Array.isArray(Nn)?Nn:[Nn])}))},Nn=>logException(Cn.state,Nn,"hover tooltip"))}else Ln&&!(Array.isArray(Ln)&&!Ln.length)&&Cn.dispatch({effects:this.setHover.of(Array.isArray(Ln)?Ln:[Ln])})}get tooltip(){let Cn=this.view.plugin(tooltipPlugin),$n=Cn?Cn.manager.tooltips.findIndex(_n=>_n.create==HoverTooltipHost.create):-1;return $n>-1?Cn.manager.tooltipViews[$n]:null}mousemove(Cn){var $n,_n;this.lastMove={x:Cn.clientX,y:Cn.clientY,target:Cn.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:Rn,tooltip:Bn}=this;if(Rn.length&&Bn&&!isInTooltip(Bn.dom,Cn)||this.pending){let{pos:Ln}=Rn[0]||this.pending,Dn=(_n=($n=Rn[0])===null||$n===void 0?void 0:$n.end)!==null&&_n!==void 0?_n:Ln;(Ln==Dn?this.view.posAtCoords(this.lastMove)!=Ln:!isOverRange(this.view,Ln,Dn,Cn.clientX,Cn.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(Cn){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:$n}=this;if($n.length){let{tooltip:_n}=this;_n&&_n.dom.contains(Cn.relatedTarget)?this.watchTooltipLeave(_n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(Cn){let $n=_n=>{Cn.removeEventListener("mouseleave",$n),this.active.length&&!this.view.dom.contains(_n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};Cn.addEventListener("mouseleave",$n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(Pn,Cn){let{left:$n,right:_n,top:Rn,bottom:Bn}=Pn.getBoundingClientRect(),Ln;if(Ln=Pn.querySelector(".cm-tooltip-arrow")){let Dn=Ln.getBoundingClientRect();Rn=Math.min(Dn.top,Rn),Bn=Math.max(Dn.bottom,Bn)}return Cn.clientX>=$n-tooltipMargin&&Cn.clientX<=_n+tooltipMargin&&Cn.clientY>=Rn-tooltipMargin&&Cn.clientY<=Bn+tooltipMargin}function isOverRange(Pn,Cn,$n,_n,Rn,Bn){let Ln=Pn.scrollDOM.getBoundingClientRect(),Dn=Pn.documentTop+Pn.documentPadding.top+Pn.contentHeight;if(Ln.left>_n||Ln.right<_n||Ln.top>Rn||Math.min(Ln.bottom,Dn)<Rn)return!1;let Nn=Pn.posAtCoords({x:_n,y:Rn},!1);return Nn>=Cn&&Nn<=$n}function hoverTooltip(Pn,Cn={}){let $n=StateEffect.define(),_n=StateField.define({create(){return[]},update(Rn,Bn){if(Rn.length&&(Cn.hideOnChange&&(Bn.docChanged||Bn.selection)?Rn=[]:Cn.hideOn&&(Rn=Rn.filter(Ln=>!Cn.hideOn(Bn,Ln))),Bn.docChanged)){let Ln=[];for(let Dn of Rn){let Nn=Bn.changes.mapPos(Dn.pos,-1,MapMode.TrackDel);if(Nn!=null){let Fn=Object.assign(Object.create(null),Dn);Fn.pos=Nn,Fn.end!=null&&(Fn.end=Bn.changes.mapPos(Fn.end)),Ln.push(Fn)}}Rn=Ln}for(let Ln of Bn.effects)Ln.is($n)&&(Rn=Ln.value),Ln.is(closeHoverTooltipEffect)&&(Rn=[]);return Rn},provide:Rn=>showHoverTooltip.from(Rn)});return{active:_n,extension:[_n,ViewPlugin.define(Rn=>new HoverPlugin(Rn,Pn,_n,$n,Cn.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(Pn,Cn){let $n=Pn.plugin(tooltipPlugin);if(!$n)return null;let _n=$n.manager.tooltips.indexOf(Cn);return _n<0?null:$n.manager.tooltipViews[_n]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(Pn){let Cn,$n;for(let _n of Pn)Cn=Cn||_n.topContainer,$n=$n||_n.bottomContainer;return{topContainer:Cn,bottomContainer:$n}}});function getPanel(Pn,Cn){let $n=Pn.plugin(panelPlugin),_n=$n?$n.specs.indexOf(Cn):-1;return _n>-1?$n.panels[_n]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(Pn){this.input=Pn.state.facet(showPanel),this.specs=this.input.filter($n=>$n),this.panels=this.specs.map($n=>$n(Pn));let Cn=Pn.state.facet(panelConfig);this.top=new PanelGroup(Pn,!0,Cn.topContainer),this.bottom=new PanelGroup(Pn,!1,Cn.bottomContainer),this.top.sync(this.panels.filter($n=>$n.top)),this.bottom.sync(this.panels.filter($n=>!$n.top));for(let $n of this.panels)$n.dom.classList.add("cm-panel"),$n.mount&&$n.mount()}update(Pn){let Cn=Pn.state.facet(panelConfig);this.top.container!=Cn.topContainer&&(this.top.sync([]),this.top=new PanelGroup(Pn.view,!0,Cn.topContainer)),this.bottom.container!=Cn.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(Pn.view,!1,Cn.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let $n=Pn.state.facet(showPanel);if($n!=this.input){let _n=$n.filter(Nn=>Nn),Rn=[],Bn=[],Ln=[],Dn=[];for(let Nn of _n){let Fn=this.specs.indexOf(Nn),Wn;Fn<0?(Wn=Nn(Pn.view),Dn.push(Wn)):(Wn=this.panels[Fn],Wn.update&&Wn.update(Pn)),Rn.push(Wn),(Wn.top?Bn:Ln).push(Wn)}this.specs=_n,this.panels=Rn,this.top.sync(Bn),this.bottom.sync(Ln);for(let Nn of Dn)Nn.dom.classList.add("cm-panel"),Nn.mount&&Nn.mount()}else for(let _n of this.panels)_n.update&&_n.update(Pn)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:Pn=>EditorView.scrollMargins.of(Cn=>{let $n=Cn.plugin(Pn);return $n&&{top:$n.top.scrollMargin(),bottom:$n.bottom.scrollMargin()}})});class PanelGroup{constructor(Cn,$n,_n){this.view=Cn,this.top=$n,this.container=_n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Cn){for(let $n of this.panels)$n.destroy&&Cn.indexOf($n)<0&&$n.destroy();this.panels=Cn,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let $n=this.container||this.view.dom;$n.insertBefore(this.dom,this.top?$n.firstChild:null)}let Cn=this.dom.firstChild;for(let $n of this.panels)if($n.dom.parentNode==this.dom){for(;Cn!=$n.dom;)Cn=rm(Cn);Cn=Cn.nextSibling}else this.dom.insertBefore($n.dom,Cn);for(;Cn;)Cn=rm(Cn)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let Cn of this.classes.split(" "))Cn&&this.container.classList.remove(Cn);for(let Cn of(this.classes=this.view.themeClasses).split(" "))Cn&&this.container.classList.add(Cn)}}}function rm(Pn){let Cn=Pn.nextSibling;return Pn.remove(),Cn}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(Cn){return this==Cn||this.constructor==Cn.constructor&&this.eq(Cn)}eq(Cn){return!1}destroy(Cn){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(Pn){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),Pn))]}const unfixGutters=Facet.define({combine:Pn=>Pn.some(Cn=>Cn)});function gutters(Pn){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.prevViewport=Pn.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=Pn.state.facet(activeGutters).map(Cn=>new SingleGutterView(Pn,Cn));for(let Cn of this.gutters)this.dom.appendChild(Cn.dom);this.fixed=!Pn.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),Pn.scrollDOM.insertBefore(this.dom,Pn.contentDOM)}update(Pn){if(this.updateGutters(Pn)){let Cn=this.prevViewport,$n=Pn.view.viewport,_n=Math.min(Cn.to,$n.to)-Math.max(Cn.from,$n.from);this.syncGutters(_n<($n.to-$n.from)*.8)}Pn.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=Pn.view.viewport}syncGutters(Pn){let Cn=this.dom.nextSibling;Pn&&this.dom.remove();let $n=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),_n=[],Rn=this.gutters.map(Bn=>new UpdateContext(Bn,this.view.viewport,-this.view.documentPadding.top));for(let Bn of this.view.viewportLineBlocks)if(_n.length&&(_n=[]),Array.isArray(Bn.type)){let Ln=!0;for(let Dn of Bn.type)if(Dn.type==BlockType.Text&&Ln){advanceCursor($n,_n,Dn.from);for(let Nn of Rn)Nn.line(this.view,Dn,_n);Ln=!1}else if(Dn.widget)for(let Nn of Rn)Nn.widget(this.view,Dn)}else if(Bn.type==BlockType.Text){advanceCursor($n,_n,Bn.from);for(let Ln of Rn)Ln.line(this.view,Bn,_n)}else if(Bn.widget)for(let Ln of Rn)Ln.widget(this.view,Bn);for(let Bn of Rn)Bn.finish();Pn&&this.view.scrollDOM.insertBefore(this.dom,Cn)}updateGutters(Pn){let Cn=Pn.startState.facet(activeGutters),$n=Pn.state.facet(activeGutters),_n=Pn.docChanged||Pn.heightChanged||Pn.viewportChanged||!RangeSet.eq(Pn.startState.facet(gutterLineClass),Pn.state.facet(gutterLineClass),Pn.view.viewport.from,Pn.view.viewport.to);if(Cn==$n)for(let Rn of this.gutters)Rn.update(Pn)&&(_n=!0);else{_n=!0;let Rn=[];for(let Bn of $n){let Ln=Cn.indexOf(Bn);Ln<0?Rn.push(new SingleGutterView(this.view,Bn)):(this.gutters[Ln].update(Pn),Rn.push(this.gutters[Ln]))}for(let Bn of this.gutters)Bn.dom.remove(),Rn.indexOf(Bn)<0&&Bn.destroy();for(let Bn of Rn)this.dom.appendChild(Bn.dom);this.gutters=Rn}return _n}destroy(){for(let Pn of this.gutters)Pn.destroy();this.dom.remove()}},{provide:Pn=>EditorView.scrollMargins.of(Cn=>{let $n=Cn.plugin(Pn);return!$n||$n.gutters.length==0||!$n.fixed?null:Cn.textDirection==Direction.LTR?{left:$n.dom.offsetWidth*Cn.scaleX}:{right:$n.dom.offsetWidth*Cn.scaleX}})});function asArray(Pn){return Array.isArray(Pn)?Pn:[Pn]}function advanceCursor(Pn,Cn,$n){for(;Pn.value&&Pn.from<=$n;)Pn.from==$n&&Cn.push(Pn.value),Pn.next()}class UpdateContext{constructor(Cn,$n,_n){this.gutter=Cn,this.height=_n,this.i=0,this.cursor=RangeSet.iter(Cn.markers,$n.from)}addElement(Cn,$n,_n){let{gutter:Rn}=this,Bn=($n.top-this.height)/Cn.scaleY,Ln=$n.height/Cn.scaleY;if(this.i==Rn.elements.length){let Dn=new GutterElement(Cn,Ln,Bn,_n);Rn.elements.push(Dn),Rn.dom.appendChild(Dn.dom)}else Rn.elements[this.i].update(Cn,Ln,Bn,_n);this.height=$n.bottom,this.i++}line(Cn,$n,_n){let Rn=[];advanceCursor(this.cursor,Rn,$n.from),_n.length&&(Rn=Rn.concat(_n));let Bn=this.gutter.config.lineMarker(Cn,$n,Rn);Bn&&Rn.unshift(Bn);let Ln=this.gutter;Rn.length==0&&!Ln.config.renderEmptyElements||this.addElement(Cn,$n,Rn)}widget(Cn,$n){let _n=this.gutter.config.widgetMarker(Cn,$n.widget,$n),Rn=_n?[_n]:null;for(let Bn of Cn.state.facet(gutterWidgetClass)){let Ln=Bn(Cn,$n.widget,$n);Ln&&(Rn||(Rn=[])).push(Ln)}Rn&&this.addElement(Cn,$n,Rn)}finish(){let Cn=this.gutter;for(;Cn.elements.length>this.i;){let $n=Cn.elements.pop();Cn.dom.removeChild($n.dom),$n.destroy()}}}class SingleGutterView{constructor(Cn,$n){this.view=Cn,this.config=$n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let _n in $n.domEventHandlers)this.dom.addEventListener(_n,Rn=>{let Bn=Rn.target,Ln;if(Bn!=this.dom&&this.dom.contains(Bn)){for(;Bn.parentNode!=this.dom;)Bn=Bn.parentNode;let Nn=Bn.getBoundingClientRect();Ln=(Nn.top+Nn.bottom)/2}else Ln=Rn.clientY;let Dn=Cn.lineBlockAtHeight(Ln-Cn.documentTop);$n.domEventHandlers[_n](Cn,Dn,Rn)&&Rn.preventDefault()});this.markers=asArray($n.markers(Cn)),$n.initialSpacer&&(this.spacer=new GutterElement(Cn,0,0,[$n.initialSpacer(Cn)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(Cn){let $n=this.markers;if(this.markers=asArray(this.config.markers(Cn.view)),this.spacer&&this.config.updateSpacer){let Rn=this.config.updateSpacer(this.spacer.markers[0],Cn);Rn!=this.spacer.markers[0]&&this.spacer.update(Cn.view,0,0,[Rn])}let _n=Cn.view.viewport;return!RangeSet.eq(this.markers,$n,_n.from,_n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Cn):!1)}destroy(){for(let Cn of this.elements)Cn.destroy()}}class GutterElement{constructor(Cn,$n,_n,Rn){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Cn,$n,_n,Rn)}update(Cn,$n,_n,Rn){this.height!=$n&&(this.height=$n,this.dom.style.height=$n+"px"),this.above!=_n&&(this.dom.style.marginTop=(this.above=_n)?_n+"px":""),sameMarkers(this.markers,Rn)||this.setMarkers(Cn,Rn)}setMarkers(Cn,$n){let _n="cm-gutterElement",Rn=this.dom.firstChild;for(let Bn=0,Ln=0;;){let Dn=Ln,Nn=Bn<$n.length?$n[Bn++]:null,Fn=!1;if(Nn){let Wn=Nn.elementClass;Wn&&(_n+=" "+Wn);for(let zn=Ln;zn<this.markers.length;zn++)if(this.markers[zn].compare(Nn)){Dn=zn,Fn=!0;break}}else Dn=this.markers.length;for(;Ln<Dn;){let Wn=this.markers[Ln++];if(Wn.toDOM){Wn.destroy(Rn);let zn=Rn.nextSibling;Rn.remove(),Rn=zn}}if(!Nn)break;Nn.toDOM&&(Fn?Rn=Rn.nextSibling:this.dom.insertBefore(Nn.toDOM(Cn),Rn)),Fn&&Ln++}this.dom.className=_n,this.markers=$n}destroy(){this.setMarkers(null,[])}}function sameMarkers(Pn,Cn){if(Pn.length!=Cn.length)return!1;for(let $n=0;$n<Pn.length;$n++)if(!Pn[$n].compare(Cn[$n]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(Pn){return combineConfig(Pn,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(Cn,$n){let _n=Object.assign({},Cn);for(let Rn in $n){let Bn=_n[Rn],Ln=$n[Rn];_n[Rn]=Bn?(Dn,Nn,Fn)=>Bn(Dn,Nn,Fn)||Ln(Dn,Nn,Fn):Ln}return _n}})}});class NumberMarker extends GutterMarker{constructor(Cn){super(),this.number=Cn}eq(Cn){return this.number==Cn.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(Pn,Cn){return Pn.state.facet(lineNumberConfig).formatNumber(Cn,Pn.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],Pn=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(Cn){return Cn.state.facet(lineNumberMarkers)},lineMarker(Cn,$n,_n){return _n.some(Rn=>Rn.toDOM)?null:new NumberMarker(formatNumber(Cn,Cn.state.doc.lineAt($n.from).number))},widgetMarker:(Cn,$n,_n)=>{for(let Rn of Cn.state.facet(lineNumberWidgetMarker)){let Bn=Rn(Cn,$n,_n);if(Bn)return Bn}return null},lineMarkerChange:Cn=>Cn.startState.facet(lineNumberConfig)!=Cn.state.facet(lineNumberConfig),initialSpacer(Cn){return new NumberMarker(formatNumber(Cn,maxLineNumber(Cn.state.doc.lines)))},updateSpacer(Cn,$n){let _n=formatNumber($n.view,maxLineNumber($n.view.state.doc.lines));return _n==Cn.number?Cn:new NumberMarker(_n)},domEventHandlers:Pn.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(Pn={}){return[lineNumberConfig.of(Pn),gutters(),lineNumberGutter]}function maxLineNumber(Pn){let Cn=9;for(;Cn<Pn;)Cn=Cn*10+9;return Cn}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],Pn=>{let Cn=[],$n=-1;for(let _n of Pn.selection.ranges){let Rn=Pn.doc.lineAt(_n.head).from;Rn>$n&&($n=Rn,Cn.push(activeLineGutterMarker.range(Rn)))}return RangeSet.of(Cn)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(Cn,$n){this.from=Cn,this.to=$n}}class NodeProp{constructor(Cn={}){this.id=nextPropID++,this.perNode=!!Cn.perNode,this.deserialize=Cn.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(Cn){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof Cn!="function"&&(Cn=NodeType.match(Cn)),$n=>{let _n=Cn($n);return _n===void 0?null:[this,_n]}}}NodeProp.closedBy=new NodeProp({deserialize:Pn=>Pn.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:Pn=>Pn.split(" ")});NodeProp.group=new NodeProp({deserialize:Pn=>Pn.split(" ")});NodeProp.isolate=new NodeProp({deserialize:Pn=>{if(Pn&&Pn!="rtl"&&Pn!="ltr"&&Pn!="auto")throw new RangeError("Invalid value for isolate: "+Pn);return Pn||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(Cn,$n,_n){this.tree=Cn,this.overlay=$n,this.parser=_n}static get(Cn){return Cn&&Cn.props&&Cn.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(Cn,$n,_n,Rn=0){this.name=Cn,this.props=$n,this.id=_n,this.flags=Rn}static define(Cn){let $n=Cn.props&&Cn.props.length?Object.create(null):noProps,_n=(Cn.top?1:0)|(Cn.skipped?2:0)|(Cn.error?4:0)|(Cn.name==null?8:0),Rn=new NodeType(Cn.name||"",$n,Cn.id,_n);if(Cn.props){for(let Bn of Cn.props)if(Array.isArray(Bn)||(Bn=Bn(Rn)),Bn){if(Bn[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");$n[Bn[0].id]=Bn[1]}}return Rn}prop(Cn){return this.props[Cn.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Cn){if(typeof Cn=="string"){if(this.name==Cn)return!0;let $n=this.prop(NodeProp.group);return $n?$n.indexOf(Cn)>-1:!1}return this.id==Cn}static match(Cn){let $n=Object.create(null);for(let _n in Cn)for(let Rn of _n.split(" "))$n[Rn]=Cn[_n];return _n=>{for(let Rn=_n.prop(NodeProp.group),Bn=-1;Bn<(Rn?Rn.length:0);Bn++){let Ln=$n[Bn<0?_n.name:Rn[Bn]];if(Ln)return Ln}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(Cn){this.types=Cn;for(let $n=0;$n<Cn.length;$n++)if(Cn[$n].id!=$n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Cn){let $n=[];for(let _n of this.types){let Rn=null;for(let Bn of Cn){let Ln=Bn(_n);Ln&&(Rn||(Rn=Object.assign({},_n.props)),Rn[Ln[0].id]=Ln[1])}$n.push(Rn?new NodeType(_n.name,Rn,_n.id,_n.flags):_n)}return new NodeSet($n)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(Pn){Pn[Pn.ExcludeBuffers=1]="ExcludeBuffers",Pn[Pn.IncludeAnonymous=2]="IncludeAnonymous",Pn[Pn.IgnoreMounts=4]="IgnoreMounts",Pn[Pn.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(Cn,$n,_n,Rn,Bn){if(this.type=Cn,this.children=$n,this.positions=_n,this.length=Rn,this.props=null,Bn&&Bn.length){this.props=Object.create(null);for(let[Ln,Dn]of Bn)this.props[typeof Ln=="number"?Ln:Ln.id]=Dn}}toString(){let Cn=MountedTree.get(this);if(Cn&&!Cn.overlay)return Cn.tree.toString();let $n="";for(let _n of this.children){let Rn=_n.toString();Rn&&($n&&($n+=","),$n+=Rn)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+($n.length?"("+$n+")":""):$n}cursor(Cn=0){return new TreeCursor(this.topNode,Cn)}cursorAt(Cn,$n=0,_n=0){let Rn=CachedNode.get(this)||this.topNode,Bn=new TreeCursor(Rn);return Bn.moveTo(Cn,$n),CachedNode.set(this,Bn._tree),Bn}get topNode(){return new TreeNode(this,0,0,null)}resolve(Cn,$n=0){let _n=resolveNode(CachedNode.get(this)||this.topNode,Cn,$n,!1);return CachedNode.set(this,_n),_n}resolveInner(Cn,$n=0){let _n=resolveNode(CachedInnerNode.get(this)||this.topNode,Cn,$n,!0);return CachedInnerNode.set(this,_n),_n}resolveStack(Cn,$n=0){return stackIterator(this,Cn,$n)}iterate(Cn){let{enter:$n,leave:_n,from:Rn=0,to:Bn=this.length}=Cn,Ln=Cn.mode||0,Dn=(Ln&IterMode.IncludeAnonymous)>0;for(let Nn=this.cursor(Ln|IterMode.IncludeAnonymous);;){let Fn=!1;if(Nn.from<=Bn&&Nn.to>=Rn&&(!Dn&&Nn.type.isAnonymous||$n(Nn)!==!1)){if(Nn.firstChild())continue;Fn=!0}for(;Fn&&_n&&(Dn||!Nn.type.isAnonymous)&&_n(Nn),!Nn.nextSibling();){if(!Nn.parent())return;Fn=!0}}}prop(Cn){return Cn.perNode?this.props?this.props[Cn.id]:void 0:this.type.prop(Cn)}get propValues(){let Cn=[];if(this.props)for(let $n in this.props)Cn.push([+$n,this.props[$n]]);return Cn}balance(Cn={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,($n,_n,Rn)=>new Tree(this.type,$n,_n,Rn,this.propValues),Cn.makeTree||(($n,_n,Rn)=>new Tree(NodeType.none,$n,_n,Rn)))}static build(Cn){return buildTree(Cn)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(Cn,$n){this.buffer=Cn,this.index=$n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(Cn,$n,_n){this.buffer=Cn,this.length=$n,this.set=_n}get type(){return NodeType.none}toString(){let Cn=[];for(let $n=0;$n<this.buffer.length;)Cn.push(this.childString($n)),$n=this.buffer[$n+3];return Cn.join(",")}childString(Cn){let $n=this.buffer[Cn],_n=this.buffer[Cn+3],Rn=this.set.types[$n],Bn=Rn.name;if(/\W/.test(Bn)&&!Rn.isError&&(Bn=JSON.stringify(Bn)),Cn+=4,_n==Cn)return Bn;let Ln=[];for(;Cn<_n;)Ln.push(this.childString(Cn)),Cn=this.buffer[Cn+3];return Bn+"("+Ln.join(",")+")"}findChild(Cn,$n,_n,Rn,Bn){let{buffer:Ln}=this,Dn=-1;for(let Nn=Cn;Nn!=$n&&!(checkSide(Bn,Rn,Ln[Nn+1],Ln[Nn+2])&&(Dn=Nn,_n>0));Nn=Ln[Nn+3]);return Dn}slice(Cn,$n,_n){let Rn=this.buffer,Bn=new Uint16Array($n-Cn),Ln=0;for(let Dn=Cn,Nn=0;Dn<$n;){Bn[Nn++]=Rn[Dn++],Bn[Nn++]=Rn[Dn++]-_n;let Fn=Bn[Nn++]=Rn[Dn++]-_n;Bn[Nn++]=Rn[Dn++]-Cn,Ln=Math.max(Ln,Fn)}return new TreeBuffer(Bn,Ln,this.set)}}function checkSide(Pn,Cn,$n,_n){switch(Pn){case-2:return $n<Cn;case-1:return _n>=Cn&&$n<Cn;case 0:return $n<Cn&&_n>Cn;case 1:return $n<=Cn&&_n>Cn;case 2:return _n>Cn;case 4:return!0}}function resolveNode(Pn,Cn,$n,_n){for(var Rn;Pn.from==Pn.to||($n<1?Pn.from>=Cn:Pn.from>Cn)||($n>-1?Pn.to<=Cn:Pn.to<Cn);){let Ln=!_n&&Pn instanceof TreeNode&&Pn.index<0?null:Pn.parent;if(!Ln)return Pn;Pn=Ln}let Bn=_n?0:IterMode.IgnoreOverlays;if(_n)for(let Ln=Pn,Dn=Ln.parent;Dn;Ln=Dn,Dn=Ln.parent)Ln instanceof TreeNode&&Ln.index<0&&((Rn=Dn.enter(Cn,$n,Bn))===null||Rn===void 0?void 0:Rn.from)!=Ln.from&&(Pn=Dn);for(;;){let Ln=Pn.enter(Cn,$n,Bn);if(!Ln)return Pn;Pn=Ln}}class BaseNode{cursor(Cn=0){return new TreeCursor(this,Cn)}getChild(Cn,$n=null,_n=null){let Rn=getChildren(this,Cn,$n,_n);return Rn.length?Rn[0]:null}getChildren(Cn,$n=null,_n=null){return getChildren(this,Cn,$n,_n)}resolve(Cn,$n=0){return resolveNode(this,Cn,$n,!1)}resolveInner(Cn,$n=0){return resolveNode(this,Cn,$n,!0)}matchContext(Cn){return matchNodeContext(this.parent,Cn)}enterUnfinishedNodesBefore(Cn){let $n=this.childBefore(Cn),_n=this;for(;$n;){let Rn=$n.lastChild;if(!Rn||Rn.to!=$n.to)break;Rn.type.isError&&Rn.from==Rn.to?(_n=$n,$n=Rn.prevSibling):$n=Rn}return _n}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(Cn,$n,_n,Rn){super(),this._tree=Cn,this.from=$n,this.index=_n,this._parent=Rn}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Cn,$n,_n,Rn,Bn=0){for(let Ln=this;;){for(let{children:Dn,positions:Nn}=Ln._tree,Fn=$n>0?Dn.length:-1;Cn!=Fn;Cn+=$n){let Wn=Dn[Cn],zn=Nn[Cn]+Ln.from;if(checkSide(Rn,_n,zn,zn+Wn.length)){if(Wn instanceof TreeBuffer){if(Bn&IterMode.ExcludeBuffers)continue;let Yn=Wn.findChild(0,Wn.buffer.length,$n,_n-zn,Rn);if(Yn>-1)return new BufferNode(new BufferContext(Ln,Wn,Cn,zn),null,Yn)}else if(Bn&IterMode.IncludeAnonymous||!Wn.type.isAnonymous||hasChild(Wn)){let Yn;if(!(Bn&IterMode.IgnoreMounts)&&(Yn=MountedTree.get(Wn))&&!Yn.overlay)return new TreeNode(Yn.tree,zn,Cn,Ln);let Gn=new TreeNode(Wn,zn,Cn,Ln);return Bn&IterMode.IncludeAnonymous||!Gn.type.isAnonymous?Gn:Gn.nextChild($n<0?Wn.children.length-1:0,$n,_n,Rn)}}}if(Bn&IterMode.IncludeAnonymous||!Ln.type.isAnonymous||(Ln.index>=0?Cn=Ln.index+$n:Cn=$n<0?-1:Ln._parent._tree.children.length,Ln=Ln._parent,!Ln))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Cn){return this.nextChild(0,1,Cn,2)}childBefore(Cn){return this.nextChild(this._tree.children.length-1,-1,Cn,-2)}enter(Cn,$n,_n=0){let Rn;if(!(_n&IterMode.IgnoreOverlays)&&(Rn=MountedTree.get(this._tree))&&Rn.overlay){let Bn=Cn-this.from;for(let{from:Ln,to:Dn}of Rn.overlay)if(($n>0?Ln<=Bn:Ln<Bn)&&($n<0?Dn>=Bn:Dn>Bn))return new TreeNode(Rn.tree,Rn.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Cn,$n,_n)}nextSignificantParent(){let Cn=this;for(;Cn.type.isAnonymous&&Cn._parent;)Cn=Cn._parent;return Cn}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(Pn,Cn,$n,_n){let Rn=Pn.cursor(),Bn=[];if(!Rn.firstChild())return Bn;if($n!=null){for(let Ln=!1;!Ln;)if(Ln=Rn.type.is($n),!Rn.nextSibling())return Bn}for(;;){if(_n!=null&&Rn.type.is(_n))return Bn;if(Rn.type.is(Cn)&&Bn.push(Rn.node),!Rn.nextSibling())return _n==null?Bn:[]}}function matchNodeContext(Pn,Cn,$n=Cn.length-1){for(let _n=Pn;$n>=0;_n=_n.parent){if(!_n)return!1;if(!_n.type.isAnonymous){if(Cn[$n]&&Cn[$n]!=_n.name)return!1;$n--}}return!0}class BufferContext{constructor(Cn,$n,_n,Rn){this.parent=Cn,this.buffer=$n,this.index=_n,this.start=Rn}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Cn,$n,_n){super(),this.context=Cn,this._parent=$n,this.index=_n,this.type=Cn.buffer.set.types[Cn.buffer.buffer[_n]]}child(Cn,$n,_n){let{buffer:Rn}=this.context,Bn=Rn.findChild(this.index+4,Rn.buffer[this.index+3],Cn,$n-this.context.start,_n);return Bn<0?null:new BufferNode(this.context,this,Bn)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Cn){return this.child(1,Cn,2)}childBefore(Cn){return this.child(-1,Cn,-2)}enter(Cn,$n,_n=0){if(_n&IterMode.ExcludeBuffers)return null;let{buffer:Rn}=this.context,Bn=Rn.findChild(this.index+4,Rn.buffer[this.index+3],$n>0?1:-1,Cn-this.context.start,$n);return Bn<0?null:new BufferNode(this.context,this,Bn)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Cn){return this._parent?null:this.context.parent.nextChild(this.context.index+Cn,Cn,0,4)}get nextSibling(){let{buffer:Cn}=this.context,$n=Cn.buffer[this.index+3];return $n<(this._parent?Cn.buffer[this._parent.index+3]:Cn.buffer.length)?new BufferNode(this.context,this._parent,$n):this.externalSibling(1)}get prevSibling(){let{buffer:Cn}=this.context,$n=this._parent?this._parent.index+4:0;return this.index==$n?this.externalSibling(-1):new BufferNode(this.context,this._parent,Cn.findChild($n,this.index,-1,0,4))}get tree(){return null}toTree(){let Cn=[],$n=[],{buffer:_n}=this.context,Rn=this.index+4,Bn=_n.buffer[this.index+3];if(Bn>Rn){let Ln=_n.buffer[this.index+1];Cn.push(_n.slice(Rn,Bn,Ln)),$n.push(0)}return new Tree(this.type,Cn,$n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(Pn){if(!Pn.length)return null;let Cn=0,$n=Pn[0];for(let Bn=1;Bn<Pn.length;Bn++){let Ln=Pn[Bn];(Ln.from>$n.from||Ln.to<$n.to)&&($n=Ln,Cn=Bn)}let _n=$n instanceof TreeNode&&$n.index<0?null:$n.parent,Rn=Pn.slice();return _n?Rn[Cn]=_n:Rn.splice(Cn,1),new StackIterator(Rn,$n)}class StackIterator{constructor(Cn,$n){this.heads=Cn,this.node=$n}get next(){return iterStack(this.heads)}}function stackIterator(Pn,Cn,$n){let _n=Pn.resolveInner(Cn,$n),Rn=null;for(let Bn=_n instanceof TreeNode?_n:_n.context.parent;Bn;Bn=Bn.parent)if(Bn.index<0){let Ln=Bn.parent;(Rn||(Rn=[_n])).push(Ln.resolve(Cn,$n)),Bn=Ln}else{let Ln=MountedTree.get(Bn.tree);if(Ln&&Ln.overlay&&Ln.overlay[0].from<=Cn&&Ln.overlay[Ln.overlay.length-1].to>=Cn){let Dn=new TreeNode(Ln.tree,Ln.overlay[0].from+Bn.from,-1,Bn);(Rn||(Rn=[_n])).push(resolveNode(Dn,Cn,$n,!1))}}return Rn?iterStack(Rn):_n}class TreeCursor{get name(){return this.type.name}constructor(Cn,$n=0){if(this.mode=$n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,Cn instanceof TreeNode)this.yieldNode(Cn);else{this._tree=Cn.context.parent,this.buffer=Cn.context;for(let _n=Cn._parent;_n;_n=_n._parent)this.stack.unshift(_n.index);this.bufferNode=Cn,this.yieldBuf(Cn.index)}}yieldNode(Cn){return Cn?(this._tree=Cn,this.type=Cn.type,this.from=Cn.from,this.to=Cn.to,!0):!1}yieldBuf(Cn,$n){this.index=Cn;let{start:_n,buffer:Rn}=this.buffer;return this.type=$n||Rn.set.types[Rn.buffer[Cn]],this.from=_n+Rn.buffer[Cn+1],this.to=_n+Rn.buffer[Cn+2],!0}yield(Cn){return Cn?Cn instanceof TreeNode?(this.buffer=null,this.yieldNode(Cn)):(this.buffer=Cn.context,this.yieldBuf(Cn.index,Cn.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Cn,$n,_n){if(!this.buffer)return this.yield(this._tree.nextChild(Cn<0?this._tree._tree.children.length-1:0,Cn,$n,_n,this.mode));let{buffer:Rn}=this.buffer,Bn=Rn.findChild(this.index+4,Rn.buffer[this.index+3],Cn,$n-this.buffer.start,_n);return Bn<0?!1:(this.stack.push(this.index),this.yieldBuf(Bn))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Cn){return this.enterChild(1,Cn,2)}childBefore(Cn){return this.enterChild(-1,Cn,-2)}enter(Cn,$n,_n=this.mode){return this.buffer?_n&IterMode.ExcludeBuffers?!1:this.enterChild(1,Cn,$n):this.yield(this._tree.enter(Cn,$n,_n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Cn=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Cn)}sibling(Cn){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Cn,Cn,0,4,this.mode)):!1;let{buffer:$n}=this.buffer,_n=this.stack.length-1;if(Cn<0){let Rn=_n<0?0:this.stack[_n]+4;if(this.index!=Rn)return this.yieldBuf($n.findChild(Rn,this.index,-1,0,4))}else{let Rn=$n.buffer[this.index+3];if(Rn<(_n<0?$n.buffer.length:$n.buffer[this.stack[_n]+3]))return this.yieldBuf(Rn)}return _n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Cn,Cn,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Cn){let $n,_n,{buffer:Rn}=this;if(Rn){if(Cn>0){if(this.index<Rn.buffer.buffer.length)return!1}else for(let Bn=0;Bn<this.index;Bn++)if(Rn.buffer.buffer[Bn+3]<this.index)return!1;({index:$n,parent:_n}=Rn)}else({index:$n,_parent:_n}=this._tree);for(;_n;{index:$n,_parent:_n}=_n)if($n>-1)for(let Bn=$n+Cn,Ln=Cn<0?-1:_n._tree.children.length;Bn!=Ln;Bn+=Cn){let Dn=_n._tree.children[Bn];if(this.mode&IterMode.IncludeAnonymous||Dn instanceof TreeBuffer||!Dn.type.isAnonymous||hasChild(Dn))return!1}return!0}move(Cn,$n){if($n&&this.enterChild(Cn,0,4))return!0;for(;;){if(this.sibling(Cn))return!0;if(this.atLastNode(Cn)||!this.parent())return!1}}next(Cn=!0){return this.move(1,Cn)}prev(Cn=!0){return this.move(-1,Cn)}moveTo(Cn,$n=0){for(;(this.from==this.to||($n<1?this.from>=Cn:this.from>Cn)||($n>-1?this.to<=Cn:this.to<Cn))&&this.parent(););for(;this.enterChild(1,Cn,$n););return this}get node(){if(!this.buffer)return this._tree;let Cn=this.bufferNode,$n=null,_n=0;if(Cn&&Cn.context==this.buffer)e:for(let Rn=this.index,Bn=this.stack.length;Bn>=0;){for(let Ln=Cn;Ln;Ln=Ln._parent)if(Ln.index==Rn){if(Rn==this.index)return Ln;$n=Ln,_n=Bn+1;break e}Rn=this.stack[--Bn]}for(let Rn=_n;Rn<this.stack.length;Rn++)$n=new BufferNode(this.buffer,$n,this.stack[Rn]);return this.bufferNode=new BufferNode(this.buffer,$n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Cn,$n){for(let _n=0;;){let Rn=!1;if(this.type.isAnonymous||Cn(this)!==!1){if(this.firstChild()){_n++;continue}this.type.isAnonymous||(Rn=!0)}for(;;){if(Rn&&$n&&$n(this),Rn=this.type.isAnonymous,!_n)return;if(this.nextSibling())break;this.parent(),_n--,Rn=!0}}}matchContext(Cn){if(!this.buffer)return matchNodeContext(this.node.parent,Cn);let{buffer:$n}=this.buffer,{types:_n}=$n.set;for(let Rn=Cn.length-1,Bn=this.stack.length-1;Rn>=0;Bn--){if(Bn<0)return matchNodeContext(this._tree,Cn,Rn);let Ln=_n[$n.buffer[this.stack[Bn]]];if(!Ln.isAnonymous){if(Cn[Rn]&&Cn[Rn]!=Ln.name)return!1;Rn--}}return!0}}function hasChild(Pn){return Pn.children.some(Cn=>Cn instanceof TreeBuffer||!Cn.type.isAnonymous||hasChild(Cn))}function buildTree(Pn){var Cn;let{buffer:$n,nodeSet:_n,maxBufferLength:Rn=DefaultBufferLength,reused:Bn=[],minRepeatType:Ln=_n.types.length}=Pn,Dn=Array.isArray($n)?new FlatBufferCursor($n,$n.length):$n,Nn=_n.types,Fn=0,Wn=0;function zn(di,yi,mi,ki,_i,Pi){let{id:Oi,start:wi,end:Li,size:Xi}=Dn,qi=Wn,Gi=Fn;for(;Xi<0;)if(Dn.next(),Xi==-1){let Ui=Bn[Oi];mi.push(Ui),ki.push(wi-di);return}else if(Xi==-3){Fn=Oi;return}else if(Xi==-4){Wn=Oi;return}else throw new RangeError(`Unrecognized record size: ${Xi}`);let ji=Nn[Oi],Ji,ns,Zo=wi-di;if(Li-wi<=Rn&&(ns=ii(Dn.pos-yi,_i))){let Ui=new Uint16Array(ns.size-ns.skip),ls=Dn.pos-ns.size,Bi=Ui.length;for(;Dn.pos>ls;)Bi=oi(ns.start,Ui,Bi);Ji=new TreeBuffer(Ui,Li-ns.start,_n),Zo=ns.start-di}else{let Ui=Dn.pos-Xi;Dn.next();let ls=[],Bi=[],Fi=Oi>=Ln?Oi:-1,Hi=0,as=Li;for(;Dn.pos>Ui;)Fi>=0&&Dn.id==Fi&&Dn.size>=0?(Dn.end<=as-Rn&&(ei(ls,Bi,wi,Hi,Dn.end,as,Fi,qi,Gi),Hi=ls.length,as=Dn.end),Dn.next()):Pi>2500?Yn(wi,Ui,ls,Bi):zn(wi,Ui,ls,Bi,Fi,Pi+1);if(Fi>=0&&Hi>0&&Hi<ls.length&&ei(ls,Bi,wi,Hi,wi,as,Fi,qi,Gi),ls.reverse(),Bi.reverse(),Fi>-1&&Hi>0){let vs=Gn(ji,Gi);Ji=balanceRange(ji,ls,Bi,0,ls.length,0,Li-wi,vs,vs)}else Ji=ti(ji,ls,Bi,Li-wi,qi-Li,Gi)}mi.push(Ji),ki.push(Zo)}function Yn(di,yi,mi,ki){let _i=[],Pi=0,Oi=-1;for(;Dn.pos>yi;){let{id:wi,start:Li,end:Xi,size:qi}=Dn;if(qi>4)Dn.next();else{if(Oi>-1&&Li<Oi)break;Oi<0&&(Oi=Xi-Rn),_i.push(wi,Li,Xi),Pi++,Dn.next()}}if(Pi){let wi=new Uint16Array(Pi*4),Li=_i[_i.length-2];for(let Xi=_i.length-3,qi=0;Xi>=0;Xi-=3)wi[qi++]=_i[Xi],wi[qi++]=_i[Xi+1]-Li,wi[qi++]=_i[Xi+2]-Li,wi[qi++]=qi;mi.push(new TreeBuffer(wi,_i[2]-Li,_n)),ki.push(Li-di)}}function Gn(di,yi){return(mi,ki,_i)=>{let Pi=0,Oi=mi.length-1,wi,Li;if(Oi>=0&&(wi=mi[Oi])instanceof Tree){if(!Oi&&wi.type==di&&wi.length==_i)return wi;(Li=wi.prop(NodeProp.lookAhead))&&(Pi=ki[Oi]+wi.length+Li)}return ti(di,mi,ki,_i,Pi,yi)}}function ei(di,yi,mi,ki,_i,Pi,Oi,wi,Li){let Xi=[],qi=[];for(;di.length>ki;)Xi.push(di.pop()),qi.push(yi.pop()+mi-_i);di.push(ti(_n.types[Oi],Xi,qi,Pi-_i,wi-Pi,Li)),yi.push(_i-mi)}function ti(di,yi,mi,ki,_i,Pi,Oi){if(Pi){let wi=[NodeProp.contextHash,Pi];Oi=Oi?[wi].concat(Oi):[wi]}if(_i>25){let wi=[NodeProp.lookAhead,_i];Oi=Oi?[wi].concat(Oi):[wi]}return new Tree(di,yi,mi,ki,Oi)}function ii(di,yi){let mi=Dn.fork(),ki=0,_i=0,Pi=0,Oi=mi.end-Rn,wi={size:0,start:0,skip:0};e:for(let Li=mi.pos-di;mi.pos>Li;){let Xi=mi.size;if(mi.id==yi&&Xi>=0){wi.size=ki,wi.start=_i,wi.skip=Pi,Pi+=4,ki+=4,mi.next();continue}let qi=mi.pos-Xi;if(Xi<0||qi<Li||mi.start<Oi)break;let Gi=mi.id>=Ln?4:0,ji=mi.start;for(mi.next();mi.pos>qi;){if(mi.size<0)if(mi.size==-3)Gi+=4;else break e;else mi.id>=Ln&&(Gi+=4);mi.next()}_i=ji,ki+=Xi,Pi+=Gi}return(yi<0||ki==di)&&(wi.size=ki,wi.start=_i,wi.skip=Pi),wi.size>4?wi:void 0}function oi(di,yi,mi){let{id:ki,start:_i,end:Pi,size:Oi}=Dn;if(Dn.next(),Oi>=0&&ki<Ln){let wi=mi;if(Oi>4){let Li=Dn.pos-(Oi-4);for(;Dn.pos>Li;)mi=oi(di,yi,mi)}yi[--mi]=wi,yi[--mi]=Pi-di,yi[--mi]=_i-di,yi[--mi]=ki}else Oi==-3?Fn=ki:Oi==-4&&(Wn=ki);return mi}let ai=[],fi=[];for(;Dn.pos>0;)zn(Pn.start||0,Pn.bufferStart||0,ai,fi,-1,0);let ui=(Cn=Pn.length)!==null&&Cn!==void 0?Cn:ai.length?fi[0]+ai[0].length:0;return new Tree(Nn[Pn.topID],ai.reverse(),fi.reverse(),ui)}const nodeSizeCache=new WeakMap;function nodeSize(Pn,Cn){if(!Pn.isAnonymous||Cn instanceof TreeBuffer||Cn.type!=Pn)return 1;let $n=nodeSizeCache.get(Cn);if($n==null){$n=1;for(let _n of Cn.children){if(_n.type!=Pn||!(_n instanceof Tree)){$n=1;break}$n+=nodeSize(Pn,_n)}nodeSizeCache.set(Cn,$n)}return $n}function balanceRange(Pn,Cn,$n,_n,Rn,Bn,Ln,Dn,Nn){let Fn=0;for(let ei=_n;ei<Rn;ei++)Fn+=nodeSize(Pn,Cn[ei]);let Wn=Math.ceil(Fn*1.5/8),zn=[],Yn=[];function Gn(ei,ti,ii,oi,ai){for(let fi=ii;fi<oi;){let ui=fi,di=ti[fi],yi=nodeSize(Pn,ei[fi]);for(fi++;fi<oi;fi++){let mi=nodeSize(Pn,ei[fi]);if(yi+mi>=Wn)break;yi+=mi}if(fi==ui+1){if(yi>Wn){let mi=ei[ui];Gn(mi.children,mi.positions,0,mi.children.length,ti[ui]+ai);continue}zn.push(ei[ui])}else{let mi=ti[fi-1]+ei[fi-1].length-di;zn.push(balanceRange(Pn,ei,ti,ui,fi,di,mi,null,Nn))}Yn.push(di+ai-Bn)}}return Gn(Cn,$n,_n,Rn,0),(Dn||Nn)(zn,Yn,Ln)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(Cn,$n,_n){let Rn=this.map.get(Cn);Rn||this.map.set(Cn,Rn=new Map),Rn.set($n,_n)}getBuffer(Cn,$n){let _n=this.map.get(Cn);return _n&&_n.get($n)}set(Cn,$n){Cn instanceof BufferNode?this.setBuffer(Cn.context.buffer,Cn.index,$n):Cn instanceof TreeNode&&this.map.set(Cn.tree,$n)}get(Cn){return Cn instanceof BufferNode?this.getBuffer(Cn.context.buffer,Cn.index):Cn instanceof TreeNode?this.map.get(Cn.tree):void 0}cursorSet(Cn,$n){Cn.buffer?this.setBuffer(Cn.buffer.buffer,Cn.index,$n):this.map.set(Cn.tree,$n)}cursorGet(Cn){return Cn.buffer?this.getBuffer(Cn.buffer.buffer,Cn.index):this.map.get(Cn.tree)}}class TreeFragment{constructor(Cn,$n,_n,Rn,Bn=!1,Ln=!1){this.from=Cn,this.to=$n,this.tree=_n,this.offset=Rn,this.open=(Bn?1:0)|(Ln?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Cn,$n=[],_n=!1){let Rn=[new TreeFragment(0,Cn.length,Cn,0,!1,_n)];for(let Bn of $n)Bn.to>Cn.length&&Rn.push(Bn);return Rn}static applyChanges(Cn,$n,_n=128){if(!$n.length)return Cn;let Rn=[],Bn=1,Ln=Cn.length?Cn[0]:null;for(let Dn=0,Nn=0,Fn=0;;Dn++){let Wn=Dn<$n.length?$n[Dn]:null,zn=Wn?Wn.fromA:1e9;if(zn-Nn>=_n)for(;Ln&&Ln.from<zn;){let Yn=Ln;if(Nn>=Yn.from||zn<=Yn.to||Fn){let Gn=Math.max(Yn.from,Nn)-Fn,ei=Math.min(Yn.to,zn)-Fn;Yn=Gn>=ei?null:new TreeFragment(Gn,ei,Yn.tree,Yn.offset+Fn,Dn>0,!!Wn)}if(Yn&&Rn.push(Yn),Ln.to>zn)break;Ln=Bn<Cn.length?Cn[Bn++]:null}if(!Wn)break;Nn=Wn.toA,Fn=Wn.toA-Wn.toB}return Rn}}class Parser{startParse(Cn,$n,_n){return typeof Cn=="string"&&(Cn=new StringInput(Cn)),_n=_n?_n.length?_n.map(Rn=>new Range(Rn.from,Rn.to)):[new Range(0,0)]:[new Range(0,Cn.length)],this.createParse(Cn,$n||[],_n)}parse(Cn,$n,_n){let Rn=this.startParse(Cn,$n,_n);for(;;){let Bn=Rn.advance();if(Bn)return Bn}}}class StringInput{constructor(Cn){this.string=Cn}get length(){return this.string.length}chunk(Cn){return this.string.slice(Cn)}get lineChunks(){return!1}read(Cn,$n){return this.string.slice(Cn,$n)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(Cn,$n,_n,Rn){this.name=Cn,this.set=$n,this.base=_n,this.modified=Rn,this.id=nextTagID++}toString(){let{name:Cn}=this;for(let $n of this.modified)$n.name&&(Cn=`${$n.name}(${Cn})`);return Cn}static define(Cn,$n){let _n=typeof Cn=="string"?Cn:"?";if(Cn instanceof Tag&&($n=Cn),$n!=null&&$n.base)throw new Error("Can not derive from a modified tag");let Rn=new Tag(_n,[],null,[]);if(Rn.set.push(Rn),$n)for(let Bn of $n.set)Rn.set.push(Bn);return Rn}static defineModifier(Cn){let $n=new Modifier(Cn);return _n=>_n.modified.indexOf($n)>-1?_n:Modifier.get(_n.base||_n,_n.modified.concat($n).sort((Rn,Bn)=>Rn.id-Bn.id))}}let nextModifierID=0;class Modifier{constructor(Cn){this.name=Cn,this.instances=[],this.id=nextModifierID++}static get(Cn,$n){if(!$n.length)return Cn;let _n=$n[0].instances.find(Dn=>Dn.base==Cn&&sameArray($n,Dn.modified));if(_n)return _n;let Rn=[],Bn=new Tag(Cn.name,Rn,Cn,$n);for(let Dn of $n)Dn.instances.push(Bn);let Ln=powerSet($n);for(let Dn of Cn.set)if(!Dn.modified.length)for(let Nn of Ln)Rn.push(Modifier.get(Dn,Nn));return Bn}}function sameArray(Pn,Cn){return Pn.length==Cn.length&&Pn.every(($n,_n)=>$n==Cn[_n])}function powerSet(Pn){let Cn=[[]];for(let $n=0;$n<Pn.length;$n++)for(let _n=0,Rn=Cn.length;_n<Rn;_n++)Cn.push(Cn[_n].concat(Pn[$n]));return Cn.sort(($n,_n)=>_n.length-$n.length)}function styleTags(Pn){let Cn=Object.create(null);for(let $n in Pn){let _n=Pn[$n];Array.isArray(_n)||(_n=[_n]);for(let Rn of $n.split(" "))if(Rn){let Bn=[],Ln=2,Dn=Rn;for(let zn=0;;){if(Dn=="..."&&zn>0&&zn+3==Rn.length){Ln=1;break}let Yn=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(Dn);if(!Yn)throw new RangeError("Invalid path: "+Rn);if(Bn.push(Yn[0]=="*"?"":Yn[0][0]=='"'?JSON.parse(Yn[0]):Yn[0]),zn+=Yn[0].length,zn==Rn.length)break;let Gn=Rn[zn++];if(zn==Rn.length&&Gn=="!"){Ln=0;break}if(Gn!="/")throw new RangeError("Invalid path: "+Rn);Dn=Rn.slice(zn)}let Nn=Bn.length-1,Fn=Bn[Nn];if(!Fn)throw new RangeError("Invalid path: "+Rn);let Wn=new Rule(_n,Ln,Nn>0?Bn.slice(0,Nn):null);Cn[Fn]=Wn.sort(Cn[Fn])}}return ruleNodeProp.add(Cn)}const ruleNodeProp=new NodeProp;class Rule{constructor(Cn,$n,_n,Rn){this.tags=Cn,this.mode=$n,this.context=_n,this.next=Rn}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Cn){return!Cn||Cn.depth<this.depth?(this.next=Cn,this):(Cn.next=this.sort(Cn.next),Cn)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(Pn,Cn){let $n=Object.create(null);for(let Bn of Pn)if(!Array.isArray(Bn.tag))$n[Bn.tag.id]=Bn.class;else for(let Ln of Bn.tag)$n[Ln.id]=Bn.class;let{scope:_n,all:Rn=null}=Cn||{};return{style:Bn=>{let Ln=Rn;for(let Dn of Bn)for(let Nn of Dn.set){let Fn=$n[Nn.id];if(Fn){Ln=Ln?Ln+" "+Fn:Fn;break}}return Ln},scope:_n}}function highlightTags(Pn,Cn){let $n=null;for(let _n of Pn){let Rn=_n.style(Cn);Rn&&($n=$n?$n+" "+Rn:Rn)}return $n}function highlightTree(Pn,Cn,$n,_n=0,Rn=Pn.length){let Bn=new HighlightBuilder(_n,Array.isArray(Cn)?Cn:[Cn],$n);Bn.highlightRange(Pn.cursor(),_n,Rn,"",Bn.highlighters),Bn.flush(Rn)}class HighlightBuilder{constructor(Cn,$n,_n){this.at=Cn,this.highlighters=$n,this.span=_n,this.class=""}startSpan(Cn,$n){$n!=this.class&&(this.flush(Cn),Cn>this.at&&(this.at=Cn),this.class=$n)}flush(Cn){Cn>this.at&&this.class&&this.span(this.at,Cn,this.class)}highlightRange(Cn,$n,_n,Rn,Bn){let{type:Ln,from:Dn,to:Nn}=Cn;if(Dn>=_n||Nn<=$n)return;Ln.isTop&&(Bn=this.highlighters.filter(Gn=>!Gn.scope||Gn.scope(Ln)));let Fn=Rn,Wn=getStyleTags(Cn)||Rule.empty,zn=highlightTags(Bn,Wn.tags);if(zn&&(Fn&&(Fn+=" "),Fn+=zn,Wn.mode==1&&(Rn+=(Rn?" ":"")+zn)),this.startSpan(Math.max($n,Dn),Fn),Wn.opaque)return;let Yn=Cn.tree&&Cn.tree.prop(NodeProp.mounted);if(Yn&&Yn.overlay){let Gn=Cn.node.enter(Yn.overlay[0].from+Dn,1),ei=this.highlighters.filter(ii=>!ii.scope||ii.scope(Yn.tree.type)),ti=Cn.firstChild();for(let ii=0,oi=Dn;;ii++){let ai=ii<Yn.overlay.length?Yn.overlay[ii]:null,fi=ai?ai.from+Dn:Nn,ui=Math.max($n,oi),di=Math.min(_n,fi);if(ui<di&&ti)for(;Cn.from<di&&(this.highlightRange(Cn,ui,di,Rn,Bn),this.startSpan(Math.min(di,Cn.to),Fn),!(Cn.to>=fi||!Cn.nextSibling())););if(!ai||fi>_n)break;oi=ai.to+Dn,oi>$n&&(this.highlightRange(Gn.cursor(),Math.max($n,ai.from+Dn),Math.min(_n,oi),"",ei),this.startSpan(Math.min(_n,oi),Fn))}ti&&Cn.parent()}else if(Cn.firstChild()){Yn&&(Rn="");do if(!(Cn.to<=$n)){if(Cn.from>=_n)break;this.highlightRange(Cn,$n,_n,Rn,Bn),this.startSpan(Math.min(_n,Cn.to),Fn)}while(Cn.nextSibling());Cn.parent()}}}function getStyleTags(Pn){let Cn=Pn.type.prop(ruleNodeProp);for(;Cn&&Cn.context&&!Pn.matchContext(Cn.context);)Cn=Cn.next;return Cn||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let Pn in tags){let Cn=tags[Pn];Cn instanceof Tag&&(Cn.name=Pn)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(Pn){return Facet.define({combine:Pn?Cn=>Cn.concat(Pn):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(Cn,$n,_n=[],Rn=""){this.data=Cn,this.name=Rn,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=$n,this.extension=[language.of(this),EditorState.languageData.of((Bn,Ln,Dn)=>{let Nn=topNodeAt(Bn,Ln,Dn),Fn=Nn.type.prop(languageDataProp);if(!Fn)return[];let Wn=Bn.facet(Fn),zn=Nn.type.prop(sublanguageProp);if(zn){let Yn=Nn.resolve(Ln-Nn.from,Dn);for(let Gn of zn)if(Gn.test(Yn,Bn)){let ei=Bn.facet(Gn.facet);return Gn.type=="replace"?ei:ei.concat(Wn)}}return Wn})].concat(_n)}isActiveAt(Cn,$n,_n=-1){return topNodeAt(Cn,$n,_n).type.prop(languageDataProp)==this.data}findRegions(Cn){let $n=Cn.facet(language);if(($n==null?void 0:$n.data)==this.data)return[{from:0,to:Cn.doc.length}];if(!$n||!$n.allowsNesting)return[];let _n=[],Rn=(Bn,Ln)=>{if(Bn.prop(languageDataProp)==this.data){_n.push({from:Ln,to:Ln+Bn.length});return}let Dn=Bn.prop(NodeProp.mounted);if(Dn){if(Dn.tree.prop(languageDataProp)==this.data){if(Dn.overlay)for(let Nn of Dn.overlay)_n.push({from:Nn.from+Ln,to:Nn.to+Ln});else _n.push({from:Ln,to:Ln+Bn.length});return}else if(Dn.overlay){let Nn=_n.length;if(Rn(Dn.tree,Dn.overlay[0].from+Ln),_n.length>Nn)return}}for(let Nn=0;Nn<Bn.children.length;Nn++){let Fn=Bn.children[Nn];Fn instanceof Tree&&Rn(Fn,Bn.positions[Nn]+Ln)}};return Rn(syntaxTree(Cn),0),_n}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(Pn,Cn,$n){let _n=Pn.facet(language),Rn=syntaxTree(Pn).topNode;if(!_n||_n.allowsNesting)for(let Bn=Rn;Bn;Bn=Bn.enter(Cn,$n,IterMode.ExcludeBuffers))Bn.type.isTop&&(Rn=Bn);return Rn}class LRLanguage extends Language{constructor(Cn,$n,_n){super(Cn,$n,[],_n),this.parser=$n}static define(Cn){let $n=defineLanguageFacet(Cn.languageData);return new LRLanguage($n,Cn.parser.configure({props:[languageDataProp.add(_n=>_n.isTop?$n:void 0)]}),Cn.name)}configure(Cn,$n){return new LRLanguage(this.data,this.parser.configure(Cn),$n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(Pn){let Cn=Pn.field(Language.state,!1);return Cn?Cn.tree:Tree.empty}class DocInput{constructor(Cn){this.doc=Cn,this.cursorPos=0,this.string="",this.cursor=Cn.iter()}get length(){return this.doc.length}syncTo(Cn){return this.string=this.cursor.next(Cn-this.cursorPos).value,this.cursorPos=Cn+this.string.length,this.cursorPos-this.string.length}chunk(Cn){return this.syncTo(Cn),this.string}get lineChunks(){return!0}read(Cn,$n){let _n=this.cursorPos-this.string.length;return Cn<_n||$n>=this.cursorPos?this.doc.sliceString(Cn,$n):this.string.slice(Cn-_n,$n-_n)}}let currentContext=null;class ParseContext{constructor(Cn,$n,_n=[],Rn,Bn,Ln,Dn,Nn){this.parser=Cn,this.state=$n,this.fragments=_n,this.tree=Rn,this.treeLen=Bn,this.viewport=Ln,this.skipped=Dn,this.scheduleOn=Nn,this.parse=null,this.tempSkipped=[]}static create(Cn,$n,_n){return new ParseContext(Cn,$n,[],Tree.empty,0,_n,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(Cn,$n){return $n!=null&&$n>=this.state.doc.length&&($n=void 0),this.tree!=Tree.empty&&this.isDone($n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var _n;if(typeof Cn=="number"){let Rn=Date.now()+Cn;Cn=()=>Date.now()>Rn}for(this.parse||(this.parse=this.startParse()),$n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>$n)&&$n<this.state.doc.length&&this.parse.stopAt($n);;){let Rn=this.parse.advance();if(Rn)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(Rn,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(_n=this.parse.stoppedAt)!==null&&_n!==void 0?_n:this.state.doc.length,this.tree=Rn,this.parse=null,this.treeLen<($n??this.state.doc.length))this.parse=this.startParse();else return!0;if(Cn())return!1}})}takeTree(){let Cn,$n;this.parse&&(Cn=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>Cn)&&this.parse.stopAt(Cn),this.withContext(()=>{for(;!($n=this.parse.advance()););}),this.treeLen=Cn,this.tree=$n,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(Cn){let $n=currentContext;currentContext=this;try{return Cn()}finally{currentContext=$n}}withoutTempSkipped(Cn){for(let $n;$n=this.tempSkipped.pop();)Cn=cutFragments(Cn,$n.from,$n.to);return Cn}changes(Cn,$n){let{fragments:_n,tree:Rn,treeLen:Bn,viewport:Ln,skipped:Dn}=this;if(this.takeTree(),!Cn.empty){let Nn=[];if(Cn.iterChangedRanges((Fn,Wn,zn,Yn)=>Nn.push({fromA:Fn,toA:Wn,fromB:zn,toB:Yn})),_n=TreeFragment.applyChanges(_n,Nn),Rn=Tree.empty,Bn=0,Ln={from:Cn.mapPos(Ln.from,-1),to:Cn.mapPos(Ln.to,1)},this.skipped.length){Dn=[];for(let Fn of this.skipped){let Wn=Cn.mapPos(Fn.from,1),zn=Cn.mapPos(Fn.to,-1);Wn<zn&&Dn.push({from:Wn,to:zn})}}}return new ParseContext(this.parser,$n,_n,Rn,Bn,Ln,Dn,this.scheduleOn)}updateViewport(Cn){if(this.viewport.from==Cn.from&&this.viewport.to==Cn.to)return!1;this.viewport=Cn;let $n=this.skipped.length;for(let _n=0;_n<this.skipped.length;_n++){let{from:Rn,to:Bn}=this.skipped[_n];Rn<Cn.to&&Bn>Cn.from&&(this.fragments=cutFragments(this.fragments,Rn,Bn),this.skipped.splice(_n--,1))}return this.skipped.length>=$n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(Cn,$n){this.skipped.push({from:Cn,to:$n})}static getSkippingParser(Cn){return new class extends Parser{createParse($n,_n,Rn){let Bn=Rn[0].from,Ln=Rn[Rn.length-1].to;return{parsedPos:Bn,advance(){let Nn=currentContext;if(Nn){for(let Fn of Rn)Nn.tempSkipped.push(Fn);Cn&&(Nn.scheduleOn=Nn.scheduleOn?Promise.all([Nn.scheduleOn,Cn]):Cn)}return this.parsedPos=Ln,new Tree(NodeType.none,[],[],Ln-Bn)},stoppedAt:null,stopAt(){}}}}}isDone(Cn){Cn=Math.min(Cn,this.state.doc.length);let $n=this.fragments;return this.treeLen>=Cn&&$n.length&&$n[0].from==0&&$n[0].to>=Cn}static get(){return currentContext}}function cutFragments(Pn,Cn,$n){return TreeFragment.applyChanges(Pn,[{fromA:Cn,toA:$n,fromB:Cn,toB:$n}])}class LanguageState{constructor(Cn){this.context=Cn,this.tree=Cn.tree}apply(Cn){if(!Cn.docChanged&&this.tree==this.context.tree)return this;let $n=this.context.changes(Cn.changes,Cn.state),_n=this.context.treeLen==Cn.startState.doc.length?void 0:Math.max(Cn.changes.mapPos(this.context.treeLen),$n.viewport.to);return $n.work(20,_n)||$n.takeTree(),new LanguageState($n)}static init(Cn){let $n=Math.min(3e3,Cn.doc.length),_n=ParseContext.create(Cn.facet(language).parser,Cn,{from:0,to:$n});return _n.work(20,$n)||_n.takeTree(),new LanguageState(_n)}}Language.state=StateField.define({create:LanguageState.init,update(Pn,Cn){for(let $n of Cn.effects)if($n.is(Language.setState))return $n.value;return Cn.startState.facet(language)!=Cn.state.facet(language)?LanguageState.init(Cn.state):Pn.apply(Cn)}});let requestIdle=Pn=>{let Cn=setTimeout(()=>Pn(),500);return()=>clearTimeout(Cn)};typeof requestIdleCallback<"u"&&(requestIdle=Pn=>{let Cn=-1,$n=setTimeout(()=>{Cn=requestIdleCallback(Pn,{timeout:400})},100);return()=>Cn<0?clearTimeout($n):cancelIdleCallback(Cn)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(Cn){this.view=Cn,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(Cn){let $n=this.view.state.field(Language.state).context;($n.updateViewport(Cn.view.viewport)||this.view.viewport.to>$n.treeLen)&&this.scheduleWork(),(Cn.docChanged||Cn.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule($n)}scheduleWork(){if(this.working)return;let{state:Cn}=this.view,$n=Cn.field(Language.state);($n.tree!=$n.context.tree||!$n.context.isDone(Cn.doc.length))&&(this.working=requestIdle(this.work))}work(Cn){this.working=null;let $n=Date.now();if(this.chunkEnd<$n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=$n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:_n,viewport:{to:Rn}}=this.view,Bn=_n.field(Language.state);if(Bn.tree==Bn.context.tree&&Bn.context.isDone(Rn+1e5))return;let Ln=Date.now()+Math.min(this.chunkBudget,100,Cn&&!isInputPending?Math.max(25,Cn.timeRemaining()-5):1e9),Dn=Bn.context.treeLen<Rn&&_n.doc.length>Rn+1e3,Nn=Bn.context.work(()=>isInputPending&&isInputPending()||Date.now()>Ln,Rn+(Dn?0:1e5));this.chunkBudget-=Date.now()-$n,(Nn||this.chunkBudget<=0)&&(Bn.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(Bn.context))})),this.chunkBudget>0&&!(Nn&&!Dn)&&this.scheduleWork(),this.checkAsyncSchedule(Bn.context)}checkAsyncSchedule(Cn){Cn.scheduleOn&&(this.workScheduled++,Cn.scheduleOn.then(()=>this.scheduleWork()).catch($n=>logException(this.view.state,$n)).then(()=>this.workScheduled--),Cn.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(Pn){return Pn.length?Pn[0]:null},enables:Pn=>[Language.state,parseWorker,EditorView.contentAttributes.compute([Pn],Cn=>{let $n=Cn.facet(Pn);return $n&&$n.name?{"data-language":$n.name}:{}})]});class LanguageSupport{constructor(Cn,$n=[]){this.language=Cn,this.support=$n,this.extension=[Cn,$n]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:Pn=>{if(!Pn.length)return"  ";let Cn=Pn[0];if(!Cn||/\S/.test(Cn)||Array.from(Cn).some($n=>$n!=Cn[0]))throw new Error("Invalid indent unit: "+JSON.stringify(Pn[0]));return Cn}});function getIndentUnit(Pn){let Cn=Pn.facet(indentUnit);return Cn.charCodeAt(0)==9?Pn.tabSize*Cn.length:Cn.length}function indentString(Pn,Cn){let $n="",_n=Pn.tabSize,Rn=Pn.facet(indentUnit)[0];if(Rn=="	"){for(;Cn>=_n;)$n+="	",Cn-=_n;Rn=" "}for(let Bn=0;Bn<Cn;Bn++)$n+=Rn;return $n}function getIndentation(Pn,Cn){Pn instanceof EditorState&&(Pn=new IndentContext(Pn));for(let _n of Pn.state.facet(indentService)){let Rn=_n(Pn,Cn);if(Rn!==void 0)return Rn}let $n=syntaxTree(Pn.state);return $n.length>=Cn?syntaxIndentation(Pn,$n,Cn):null}class IndentContext{constructor(Cn,$n={}){this.state=Cn,this.options=$n,this.unit=getIndentUnit(Cn)}lineAt(Cn,$n=1){let _n=this.state.doc.lineAt(Cn),{simulateBreak:Rn,simulateDoubleBreak:Bn}=this.options;return Rn!=null&&Rn>=_n.from&&Rn<=_n.to?Bn&&Rn==Cn?{text:"",from:Cn}:($n<0?Rn<Cn:Rn<=Cn)?{text:_n.text.slice(Rn-_n.from),from:Rn}:{text:_n.text.slice(0,Rn-_n.from),from:_n.from}:_n}textAfterPos(Cn,$n=1){if(this.options.simulateDoubleBreak&&Cn==this.options.simulateBreak)return"";let{text:_n,from:Rn}=this.lineAt(Cn,$n);return _n.slice(Cn-Rn,Math.min(_n.length,Cn+100-Rn))}column(Cn,$n=1){let{text:_n,from:Rn}=this.lineAt(Cn,$n),Bn=this.countColumn(_n,Cn-Rn),Ln=this.options.overrideIndentation?this.options.overrideIndentation(Rn):-1;return Ln>-1&&(Bn+=Ln-this.countColumn(_n,_n.search(/\S|$/))),Bn}countColumn(Cn,$n=Cn.length){return countColumn(Cn,this.state.tabSize,$n)}lineIndent(Cn,$n=1){let{text:_n,from:Rn}=this.lineAt(Cn,$n),Bn=this.options.overrideIndentation;if(Bn){let Ln=Bn(Rn);if(Ln>-1)return Ln}return this.countColumn(_n,_n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(Pn,Cn,$n){let _n=Cn.resolveStack($n),Rn=Cn.resolveInner($n,-1).resolve($n,0).enterUnfinishedNodesBefore($n);if(Rn!=_n.node){let Bn=[];for(let Ln=Rn;Ln&&!(Ln.from==_n.node.from&&Ln.type==_n.node.type);Ln=Ln.parent)Bn.push(Ln);for(let Ln=Bn.length-1;Ln>=0;Ln--)_n={node:Bn[Ln],next:_n}}return indentFor(_n,Pn,$n)}function indentFor(Pn,Cn,$n){for(let _n=Pn;_n;_n=_n.next){let Rn=indentStrategy(_n.node);if(Rn)return Rn(TreeIndentContext.create(Cn,$n,_n))}return 0}function ignoreClosed(Pn){return Pn.pos==Pn.options.simulateBreak&&Pn.options.simulateDoubleBreak}function indentStrategy(Pn){let Cn=Pn.type.prop(indentNodeProp);if(Cn)return Cn;let $n=Pn.firstChild,_n;if($n&&(_n=$n.type.prop(NodeProp.closedBy))){let Rn=Pn.lastChild,Bn=Rn&&_n.indexOf(Rn.name)>-1;return Ln=>delimitedStrategy(Ln,!0,1,void 0,Bn&&!ignoreClosed(Ln)?Rn.from:void 0)}return Pn.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(Cn,$n,_n){super(Cn.state,Cn.options),this.base=Cn,this.pos=$n,this.context=_n}get node(){return this.context.node}static create(Cn,$n,_n){return new TreeIndentContext(Cn,$n,_n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Cn){let $n=this.state.doc.lineAt(Cn.from);for(;;){let _n=Cn.resolve($n.from);for(;_n.parent&&_n.parent.from==_n.from;)_n=_n.parent;if(isParent(_n,Cn))break;$n=this.state.doc.lineAt(_n.from)}return this.lineIndent($n.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(Pn,Cn){for(let $n=Cn;$n;$n=$n.parent)if(Pn==$n)return!0;return!1}function bracketedAligned(Pn){let Cn=Pn.node,$n=Cn.childAfter(Cn.from),_n=Cn.lastChild;if(!$n)return null;let Rn=Pn.options.simulateBreak,Bn=Pn.state.doc.lineAt($n.from),Ln=Rn==null||Rn<=Bn.from?Bn.to:Math.min(Bn.to,Rn);for(let Dn=$n.to;;){let Nn=Cn.childAfter(Dn);if(!Nn||Nn==_n)return null;if(!Nn.type.isSkipped){if(Nn.from>=Ln)return null;let Fn=/^ */.exec(Bn.text.slice($n.to-Bn.from))[0].length;return{from:$n.from,to:$n.to+Fn}}Dn=Nn.to}}function delimitedIndent({closing:Pn,align:Cn=!0,units:$n=1}){return _n=>delimitedStrategy(_n,Cn,$n,Pn)}function delimitedStrategy(Pn,Cn,$n,_n,Rn){let Bn=Pn.textAfter,Ln=Bn.match(/^\s*/)[0].length,Dn=_n&&Bn.slice(Ln,Ln+_n.length)==_n||Rn==Pn.pos+Ln,Nn=Cn?bracketedAligned(Pn):null;return Nn?Dn?Pn.column(Nn.from):Pn.column(Nn.to):Pn.baseIndent+(Dn?0:Pn.unit*$n)}const flatIndent=Pn=>Pn.baseIndent;function continuedIndent({except:Pn,units:Cn=1}={}){return $n=>{let _n=Pn&&Pn.test($n.textAfter);return $n.baseIndent+(_n?0:Cn*$n.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(Pn=>{if(!Pn.docChanged||!Pn.isUserEvent("input.type")&&!Pn.isUserEvent("input.complete"))return Pn;let Cn=Pn.startState.languageDataAt("indentOnInput",Pn.startState.selection.main.head);if(!Cn.length)return Pn;let $n=Pn.newDoc,{head:_n}=Pn.newSelection.main,Rn=$n.lineAt(_n);if(_n>Rn.from+DontIndentBeyond)return Pn;let Bn=$n.sliceString(Rn.from,_n);if(!Cn.some(Fn=>Fn.test(Bn)))return Pn;let{state:Ln}=Pn,Dn=-1,Nn=[];for(let{head:Fn}of Ln.selection.ranges){let Wn=Ln.doc.lineAt(Fn);if(Wn.from==Dn)continue;Dn=Wn.from;let zn=getIndentation(Ln,Wn.from);if(zn==null)continue;let Yn=/^\s*/.exec(Wn.text)[0],Gn=indentString(Ln,zn);Yn!=Gn&&Nn.push({from:Wn.from,to:Wn.from+Yn.length,insert:Gn})}return Nn.length?[Pn,{changes:Nn,sequential:!0}]:Pn})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(Pn){let Cn=Pn.firstChild,$n=Pn.lastChild;return Cn&&Cn.to<$n.from?{from:Cn.to,to:$n.type.isError?Pn.to:$n.from}:null}function syntaxFolding(Pn,Cn,$n){let _n=syntaxTree(Pn);if(_n.length<$n)return null;let Rn=_n.resolveStack($n,1),Bn=null;for(let Ln=Rn;Ln;Ln=Ln.next){let Dn=Ln.node;if(Dn.to<=$n||Dn.from>$n)continue;if(Bn&&Dn.from<Cn)break;let Nn=Dn.type.prop(foldNodeProp);if(Nn&&(Dn.to<_n.length-50||_n.length==Pn.doc.length||!isUnfinished(Dn))){let Fn=Nn(Dn,Pn);Fn&&Fn.from<=$n&&Fn.from>=Cn&&Fn.to>$n&&(Bn=Fn)}}return Bn}function isUnfinished(Pn){let Cn=Pn.lastChild;return Cn&&Cn.to==Pn.to&&Cn.type.isError}function foldable(Pn,Cn,$n){for(let _n of Pn.facet(foldService)){let Rn=_n(Pn,Cn,$n);if(Rn)return Rn}return syntaxFolding(Pn,Cn,$n)}function mapRange(Pn,Cn){let $n=Cn.mapPos(Pn.from,1),_n=Cn.mapPos(Pn.to,-1);return $n>=_n?void 0:{from:$n,to:_n}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(Pn){let Cn=[];for(let{head:$n}of Pn.state.selection.ranges)Cn.some(_n=>_n.from<=$n&&_n.to>=$n)||Cn.push(Pn.lineBlockAt($n));return Cn}const foldState=StateField.define({create(){return Decoration.none},update(Pn,Cn){Pn=Pn.map(Cn.changes);for(let $n of Cn.effects)if($n.is(foldEffect)&&!foldExists(Pn,$n.value.from,$n.value.to)){let{preparePlaceholder:_n}=Cn.state.facet(foldConfig),Rn=_n?Decoration.replace({widget:new PreparedFoldWidget(_n(Cn.state,$n.value))}):foldWidget;Pn=Pn.update({add:[Rn.range($n.value.from,$n.value.to)]})}else $n.is(unfoldEffect)&&(Pn=Pn.update({filter:(_n,Rn)=>$n.value.from!=_n||$n.value.to!=Rn,filterFrom:$n.value.from,filterTo:$n.value.to}));if(Cn.selection){let $n=!1,{head:_n}=Cn.selection.main;Pn.between(_n,_n,(Rn,Bn)=>{Rn<_n&&Bn>_n&&($n=!0)}),$n&&(Pn=Pn.update({filterFrom:_n,filterTo:_n,filter:(Rn,Bn)=>Bn<=_n||Rn>=_n}))}return Pn},provide:Pn=>EditorView.decorations.from(Pn),toJSON(Pn,Cn){let $n=[];return Pn.between(0,Cn.doc.length,(_n,Rn)=>{$n.push(_n,Rn)}),$n},fromJSON(Pn){if(!Array.isArray(Pn)||Pn.length%2)throw new RangeError("Invalid JSON for fold state");let Cn=[];for(let $n=0;$n<Pn.length;){let _n=Pn[$n++],Rn=Pn[$n++];if(typeof _n!="number"||typeof Rn!="number")throw new RangeError("Invalid JSON for fold state");Cn.push(foldWidget.range(_n,Rn))}return Decoration.set(Cn,!0)}});function findFold(Pn,Cn,$n){var _n;let Rn=null;return(_n=Pn.field(foldState,!1))===null||_n===void 0||_n.between(Cn,$n,(Bn,Ln)=>{(!Rn||Rn.from>Bn)&&(Rn={from:Bn,to:Ln})}),Rn}function foldExists(Pn,Cn,$n){let _n=!1;return Pn.between(Cn,Cn,(Rn,Bn)=>{Rn==Cn&&Bn==$n&&(_n=!0)}),_n}function maybeEnable(Pn,Cn){return Pn.field(foldState,!1)?Cn:Cn.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=Pn=>{for(let Cn of selectedLines(Pn)){let $n=foldable(Pn.state,Cn.from,Cn.to);if($n)return Pn.dispatch({effects:maybeEnable(Pn.state,[foldEffect.of($n),announceFold(Pn,$n)])}),!0}return!1},unfoldCode=Pn=>{if(!Pn.state.field(foldState,!1))return!1;let Cn=[];for(let $n of selectedLines(Pn)){let _n=findFold(Pn.state,$n.from,$n.to);_n&&Cn.push(unfoldEffect.of(_n),announceFold(Pn,_n,!1))}return Cn.length&&Pn.dispatch({effects:Cn}),Cn.length>0};function announceFold(Pn,Cn,$n=!0){let _n=Pn.state.doc.lineAt(Cn.from).number,Rn=Pn.state.doc.lineAt(Cn.to).number;return EditorView.announce.of(`${Pn.state.phrase($n?"Folded lines":"Unfolded lines")} ${_n} ${Pn.state.phrase("to")} ${Rn}.`)}const foldAll=Pn=>{let{state:Cn}=Pn,$n=[];for(let _n=0;_n<Cn.doc.length;){let Rn=Pn.lineBlockAt(_n),Bn=foldable(Cn,Rn.from,Rn.to);Bn&&$n.push(foldEffect.of(Bn)),_n=(Bn?Pn.lineBlockAt(Bn.to):Rn).to+1}return $n.length&&Pn.dispatch({effects:maybeEnable(Pn.state,$n)}),!!$n.length},unfoldAll=Pn=>{let Cn=Pn.state.field(foldState,!1);if(!Cn||!Cn.size)return!1;let $n=[];return Cn.between(0,Pn.state.doc.length,(_n,Rn)=>{$n.push(unfoldEffect.of({from:_n,to:Rn}))}),Pn.dispatch({effects:$n}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(Pn){return combineConfig(Pn,defaultConfig)}});function codeFolding(Pn){return[foldState,baseTheme$1$2]}function widgetToDOM(Pn,Cn){let{state:$n}=Pn,_n=$n.facet(foldConfig),Rn=Ln=>{let Dn=Pn.lineBlockAt(Pn.posAtDOM(Ln.target)),Nn=findFold(Pn.state,Dn.from,Dn.to);Nn&&Pn.dispatch({effects:unfoldEffect.of(Nn)}),Ln.preventDefault()};if(_n.placeholderDOM)return _n.placeholderDOM(Pn,Rn,Cn);let Bn=document.createElement("span");return Bn.textContent=_n.placeholderText,Bn.setAttribute("aria-label",$n.phrase("folded code")),Bn.title=$n.phrase("unfold"),Bn.className="cm-foldPlaceholder",Bn.onclick=Rn,Bn}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(Pn){return widgetToDOM(Pn,null)}}});class PreparedFoldWidget extends WidgetType{constructor(Cn){super(),this.value=Cn}eq(Cn){return this.value==Cn.value}toDOM(Cn){return widgetToDOM(Cn,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(Cn,$n){super(),this.config=Cn,this.open=$n}eq(Cn){return this.config==Cn.config&&this.open==Cn.open}toDOM(Cn){if(this.config.markerDOM)return this.config.markerDOM(this.open);let $n=document.createElement("span");return $n.textContent=this.open?this.config.openText:this.config.closedText,$n.title=Cn.state.phrase(this.open?"Fold line":"Unfold line"),$n}}function foldGutter(Pn={}){let Cn=Object.assign(Object.assign({},foldGutterDefaults),Pn),$n=new FoldMarker(Cn,!0),_n=new FoldMarker(Cn,!1),Rn=ViewPlugin.fromClass(class{constructor(Ln){this.from=Ln.viewport.from,this.markers=this.buildMarkers(Ln)}update(Ln){(Ln.docChanged||Ln.viewportChanged||Ln.startState.facet(language)!=Ln.state.facet(language)||Ln.startState.field(foldState,!1)!=Ln.state.field(foldState,!1)||syntaxTree(Ln.startState)!=syntaxTree(Ln.state)||Cn.foldingChanged(Ln))&&(this.markers=this.buildMarkers(Ln.view))}buildMarkers(Ln){let Dn=new RangeSetBuilder;for(let Nn of Ln.viewportLineBlocks){let Fn=findFold(Ln.state,Nn.from,Nn.to)?_n:foldable(Ln.state,Nn.from,Nn.to)?$n:null;Fn&&Dn.add(Nn.from,Nn.from,Fn)}return Dn.finish()}}),{domEventHandlers:Bn}=Cn;return[Rn,gutter({class:"cm-foldGutter",markers(Ln){var Dn;return((Dn=Ln.plugin(Rn))===null||Dn===void 0?void 0:Dn.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(Cn,!1)},domEventHandlers:Object.assign(Object.assign({},Bn),{click:(Ln,Dn,Nn)=>{if(Bn.click&&Bn.click(Ln,Dn,Nn))return!0;let Fn=findFold(Ln.state,Dn.from,Dn.to);if(Fn)return Ln.dispatch({effects:unfoldEffect.of(Fn)}),!0;let Wn=foldable(Ln.state,Dn.from,Dn.to);return Wn?(Ln.dispatch({effects:foldEffect.of(Wn)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(Cn,$n){this.specs=Cn;let _n;function Rn(Dn){let Nn=StyleModule.newName();return(_n||(_n=Object.create(null)))["."+Nn]=Dn,Nn}const Bn=typeof $n.all=="string"?$n.all:$n.all?Rn($n.all):void 0,Ln=$n.scope;this.scope=Ln instanceof Language?Dn=>Dn.prop(languageDataProp)==Ln.data:Ln?Dn=>Dn==Ln:void 0,this.style=tagHighlighter(Cn.map(Dn=>({tag:Dn.tag,class:Dn.class||Rn(Object.assign({},Dn,{tag:null}))})),{all:Bn}).style,this.module=_n?new StyleModule(_n):null,this.themeType=$n.themeType}static define(Cn,$n){return new HighlightStyle(Cn,$n||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(Pn){return Pn.length?[Pn[0]]:null}});function getHighlighters(Pn){let Cn=Pn.facet(highlighterFacet);return Cn.length?Cn:Pn.facet(fallbackHighlighter)}function syntaxHighlighting(Pn,Cn){let $n=[treeHighlighter],_n;return Pn instanceof HighlightStyle&&(Pn.module&&$n.push(EditorView.styleModule.of(Pn.module)),_n=Pn.themeType),Cn!=null&&Cn.fallback?$n.push(fallbackHighlighter.of(Pn)):_n?$n.push(highlighterFacet.computeN([EditorView.darkTheme],Rn=>Rn.facet(EditorView.darkTheme)==(_n=="dark")?[Pn]:[])):$n.push(highlighterFacet.of(Pn)),$n}class TreeHighlighter{constructor(Cn){this.markCache=Object.create(null),this.tree=syntaxTree(Cn.state),this.decorations=this.buildDeco(Cn,getHighlighters(Cn.state)),this.decoratedTo=Cn.viewport.to}update(Cn){let $n=syntaxTree(Cn.state),_n=getHighlighters(Cn.state),Rn=_n!=getHighlighters(Cn.startState),{viewport:Bn}=Cn.view,Ln=Cn.changes.mapPos(this.decoratedTo,1);$n.length<Bn.to&&!Rn&&$n.type==this.tree.type&&Ln>=Bn.to?(this.decorations=this.decorations.map(Cn.changes),this.decoratedTo=Ln):($n!=this.tree||Cn.viewportChanged||Rn)&&(this.tree=$n,this.decorations=this.buildDeco(Cn.view,_n),this.decoratedTo=Bn.to)}buildDeco(Cn,$n){if(!$n||!this.tree.length)return Decoration.none;let _n=new RangeSetBuilder;for(let{from:Rn,to:Bn}of Cn.visibleRanges)highlightTree(this.tree,$n,(Ln,Dn,Nn)=>{_n.add(Ln,Dn,this.markCache[Nn]||(this.markCache[Nn]=Decoration.mark({class:Nn})))},Rn,Bn);return _n.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:Pn=>Pn.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(Pn){return combineConfig(Pn,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(Pn){let Cn=[],$n=Pn.matched?matchingMark:nonmatchingMark;return Cn.push($n.range(Pn.start.from,Pn.start.to)),Pn.end&&Cn.push($n.range(Pn.end.from,Pn.end.to)),Cn}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(Pn,Cn){if(!Cn.docChanged&&!Cn.selection)return Pn;let $n=[],_n=Cn.state.facet(bracketMatchingConfig);for(let Rn of Cn.state.selection.ranges){if(!Rn.empty)continue;let Bn=matchBrackets(Cn.state,Rn.head,-1,_n)||Rn.head>0&&matchBrackets(Cn.state,Rn.head-1,1,_n)||_n.afterCursor&&(matchBrackets(Cn.state,Rn.head,1,_n)||Rn.head<Cn.state.doc.length&&matchBrackets(Cn.state,Rn.head+1,-1,_n));Bn&&($n=$n.concat(_n.renderMatch(Bn,Cn.state)))}return Decoration.set($n,!0)},provide:Pn=>EditorView.decorations.from(Pn)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(Pn={}){return[bracketMatchingConfig.of(Pn),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(Pn,Cn,$n){let _n=Pn.prop(Cn<0?NodeProp.openedBy:NodeProp.closedBy);if(_n)return _n;if(Pn.name.length==1){let Rn=$n.indexOf(Pn.name);if(Rn>-1&&Rn%2==(Cn<0?1:0))return[$n[Rn+Cn]]}return null}function findHandle(Pn){let Cn=Pn.type.prop(bracketMatchingHandle);return Cn?Cn(Pn.node):Pn}function matchBrackets(Pn,Cn,$n,_n={}){let Rn=_n.maxScanDistance||DefaultScanDist,Bn=_n.brackets||DefaultBrackets,Ln=syntaxTree(Pn),Dn=Ln.resolveInner(Cn,$n);for(let Nn=Dn;Nn;Nn=Nn.parent){let Fn=matchingNodes(Nn.type,$n,Bn);if(Fn&&Nn.from<Nn.to){let Wn=findHandle(Nn);if(Wn&&($n>0?Cn>=Wn.from&&Cn<Wn.to:Cn>Wn.from&&Cn<=Wn.to))return matchMarkedBrackets(Pn,Cn,$n,Nn,Wn,Fn,Bn)}}return matchPlainBrackets(Pn,Cn,$n,Ln,Dn.type,Rn,Bn)}function matchMarkedBrackets(Pn,Cn,$n,_n,Rn,Bn,Ln){let Dn=_n.parent,Nn={from:Rn.from,to:Rn.to},Fn=0,Wn=Dn==null?void 0:Dn.cursor();if(Wn&&($n<0?Wn.childBefore(_n.from):Wn.childAfter(_n.to)))do if($n<0?Wn.to<=_n.from:Wn.from>=_n.to){if(Fn==0&&Bn.indexOf(Wn.type.name)>-1&&Wn.from<Wn.to){let zn=findHandle(Wn);return{start:Nn,end:zn?{from:zn.from,to:zn.to}:void 0,matched:!0}}else if(matchingNodes(Wn.type,$n,Ln))Fn++;else if(matchingNodes(Wn.type,-$n,Ln)){if(Fn==0){let zn=findHandle(Wn);return{start:Nn,end:zn&&zn.from<zn.to?{from:zn.from,to:zn.to}:void 0,matched:!1}}Fn--}}while($n<0?Wn.prevSibling():Wn.nextSibling());return{start:Nn,matched:!1}}function matchPlainBrackets(Pn,Cn,$n,_n,Rn,Bn,Ln){let Dn=$n<0?Pn.sliceDoc(Cn-1,Cn):Pn.sliceDoc(Cn,Cn+1),Nn=Ln.indexOf(Dn);if(Nn<0||Nn%2==0!=$n>0)return null;let Fn={from:$n<0?Cn-1:Cn,to:$n>0?Cn+1:Cn},Wn=Pn.doc.iterRange(Cn,$n>0?Pn.doc.length:0),zn=0;for(let Yn=0;!Wn.next().done&&Yn<=Bn;){let Gn=Wn.value;$n<0&&(Yn+=Gn.length);let ei=Cn+Yn*$n;for(let ti=$n>0?0:Gn.length-1,ii=$n>0?Gn.length:-1;ti!=ii;ti+=$n){let oi=Ln.indexOf(Gn[ti]);if(!(oi<0||_n.resolveInner(ei+ti,1).type!=Rn))if(oi%2==0==$n>0)zn++;else{if(zn==1)return{start:Fn,end:{from:ei+ti,to:ei+ti+1},matched:oi>>1==Nn>>1};zn--}}$n>0&&(Yn+=Gn.length)}return Wn.done?{start:Fn,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[Pn,Cn]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[Pn]=createTokenType(noTokens,Cn);function warnForPart(Pn,Cn){warned.indexOf(Pn)>-1||(warned.push(Pn),console.warn(Cn))}function createTokenType(Pn,Cn){let $n=[];for(let Dn of Cn.split(" ")){let Nn=[];for(let Fn of Dn.split(".")){let Wn=Pn[Fn]||tags[Fn];Wn?typeof Wn=="function"?Nn.length?Nn=Nn.map(Wn):warnForPart(Fn,`Modifier ${Fn} used at start of tag`):Nn.length?warnForPart(Fn,`Tag ${Fn} used as modifier`):Nn=Array.isArray(Wn)?Wn:[Wn]:warnForPart(Fn,`Unknown highlighting tag ${Fn}`)}for(let Fn of Nn)$n.push(Fn)}if(!$n.length)return 0;let _n=Cn.replace(/ /g,"_"),Rn=_n+" "+$n.map(Dn=>Dn.id),Bn=byTag[Rn];if(Bn)return Bn.id;let Ln=byTag[Rn]=NodeType.define({id:typeArray.length,name:_n,props:[styleTags({[_n]:$n})]});return typeArray.push(Ln),Ln.id}Direction.RTL,Direction.LTR;const toggleComment=Pn=>{let{state:Cn}=Pn,$n=Cn.doc.lineAt(Cn.selection.main.from),_n=getConfig(Pn.state,$n.from);return _n.line?toggleLineComment(Pn):_n.block?toggleBlockCommentByLine(Pn):!1};function command(Pn,Cn){return({state:$n,dispatch:_n})=>{if($n.readOnly)return!1;let Rn=Pn(Cn,$n);return Rn?(_n($n.update(Rn)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((Pn,Cn)=>changeBlockComment(Pn,Cn,selectedLineRanges(Cn)),0);function getConfig(Pn,Cn){let $n=Pn.languageDataAt("commentTokens",Cn,1);return $n.length?$n[0]:{}}const SearchMargin=50;function findBlockComment(Pn,{open:Cn,close:$n},_n,Rn){let Bn=Pn.sliceDoc(_n-SearchMargin,_n),Ln=Pn.sliceDoc(Rn,Rn+SearchMargin),Dn=/\s*$/.exec(Bn)[0].length,Nn=/^\s*/.exec(Ln)[0].length,Fn=Bn.length-Dn;if(Bn.slice(Fn-Cn.length,Fn)==Cn&&Ln.slice(Nn,Nn+$n.length)==$n)return{open:{pos:_n-Dn,margin:Dn&&1},close:{pos:Rn+Nn,margin:Nn&&1}};let Wn,zn;Rn-_n<=2*SearchMargin?Wn=zn=Pn.sliceDoc(_n,Rn):(Wn=Pn.sliceDoc(_n,_n+SearchMargin),zn=Pn.sliceDoc(Rn-SearchMargin,Rn));let Yn=/^\s*/.exec(Wn)[0].length,Gn=/\s*$/.exec(zn)[0].length,ei=zn.length-Gn-$n.length;return Wn.slice(Yn,Yn+Cn.length)==Cn&&zn.slice(ei,ei+$n.length)==$n?{open:{pos:_n+Yn+Cn.length,margin:/\s/.test(Wn.charAt(Yn+Cn.length))?1:0},close:{pos:Rn-Gn-$n.length,margin:/\s/.test(zn.charAt(ei-1))?1:0}}:null}function selectedLineRanges(Pn){let Cn=[];for(let $n of Pn.selection.ranges){let _n=Pn.doc.lineAt($n.from),Rn=$n.to<=_n.to?_n:Pn.doc.lineAt($n.to);Rn.from>_n.from&&Rn.from==$n.to&&(Rn=$n.to==_n.to+1?_n:Pn.doc.lineAt($n.to-1));let Bn=Cn.length-1;Bn>=0&&Cn[Bn].to>_n.from?Cn[Bn].to=Rn.to:Cn.push({from:_n.from+/^\s*/.exec(_n.text)[0].length,to:Rn.to})}return Cn}function changeBlockComment(Pn,Cn,$n=Cn.selection.ranges){let _n=$n.map(Bn=>getConfig(Cn,Bn.from).block);if(!_n.every(Bn=>Bn))return null;let Rn=$n.map((Bn,Ln)=>findBlockComment(Cn,_n[Ln],Bn.from,Bn.to));if(Pn!=2&&!Rn.every(Bn=>Bn))return{changes:Cn.changes($n.map((Bn,Ln)=>Rn[Ln]?[]:[{from:Bn.from,insert:_n[Ln].open+" "},{from:Bn.to,insert:" "+_n[Ln].close}]))};if(Pn!=1&&Rn.some(Bn=>Bn)){let Bn=[];for(let Ln=0,Dn;Ln<Rn.length;Ln++)if(Dn=Rn[Ln]){let Nn=_n[Ln],{open:Fn,close:Wn}=Dn;Bn.push({from:Fn.pos-Nn.open.length,to:Fn.pos+Fn.margin},{from:Wn.pos-Wn.margin,to:Wn.pos+Nn.close.length})}return{changes:Bn}}return null}function changeLineComment(Pn,Cn,$n=Cn.selection.ranges){let _n=[],Rn=-1;for(let{from:Bn,to:Ln}of $n){let Dn=_n.length,Nn=1e9,Fn=getConfig(Cn,Bn).line;if(Fn){for(let Wn=Bn;Wn<=Ln;){let zn=Cn.doc.lineAt(Wn);if(zn.from>Rn&&(Bn==Ln||Ln>zn.from)){Rn=zn.from;let Yn=/^\s*/.exec(zn.text)[0].length,Gn=Yn==zn.length,ei=zn.text.slice(Yn,Yn+Fn.length)==Fn?Yn:-1;Yn<zn.text.length&&Yn<Nn&&(Nn=Yn),_n.push({line:zn,comment:ei,token:Fn,indent:Yn,empty:Gn,single:!1})}Wn=zn.to+1}if(Nn<1e9)for(let Wn=Dn;Wn<_n.length;Wn++)_n[Wn].indent<_n[Wn].line.text.length&&(_n[Wn].indent=Nn);_n.length==Dn+1&&(_n[Dn].single=!0)}}if(Pn!=2&&_n.some(Bn=>Bn.comment<0&&(!Bn.empty||Bn.single))){let Bn=[];for(let{line:Dn,token:Nn,indent:Fn,empty:Wn,single:zn}of _n)(zn||!Wn)&&Bn.push({from:Dn.from+Fn,insert:Nn+" "});let Ln=Cn.changes(Bn);return{changes:Ln,selection:Cn.selection.map(Ln,1)}}else if(Pn!=1&&_n.some(Bn=>Bn.comment>=0)){let Bn=[];for(let{line:Ln,comment:Dn,token:Nn}of _n)if(Dn>=0){let Fn=Ln.from+Dn,Wn=Fn+Nn.length;Ln.text[Wn-Ln.from]==" "&&Wn++,Bn.push({from:Fn,to:Wn})}return{changes:Bn}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(Pn){return combineConfig(Pn,{minDepth:100,newGroupDelay:500,joinToEvent:(Cn,$n)=>$n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(Cn,$n)=>(_n,Rn)=>Cn(_n,Rn)||$n(_n,Rn)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(Pn,Cn){let $n=Cn.state.facet(historyConfig),_n=Cn.annotation(fromHistory);if(_n){let Nn=HistEvent.fromTransaction(Cn,_n.selection),Fn=_n.side,Wn=Fn==0?Pn.undone:Pn.done;return Nn?Wn=updateBranch(Wn,Wn.length,$n.minDepth,Nn):Wn=addSelection(Wn,Cn.startState.selection),new HistoryState(Fn==0?_n.rest:Wn,Fn==0?Wn:_n.rest)}let Rn=Cn.annotation(isolateHistory);if((Rn=="full"||Rn=="before")&&(Pn=Pn.isolate()),Cn.annotation(Transaction.addToHistory)===!1)return Cn.changes.empty?Pn:Pn.addMapping(Cn.changes.desc);let Bn=HistEvent.fromTransaction(Cn),Ln=Cn.annotation(Transaction.time),Dn=Cn.annotation(Transaction.userEvent);return Bn?Pn=Pn.addChanges(Bn,Ln,Dn,$n,Cn):Cn.selection&&(Pn=Pn.addSelection(Cn.startState.selection,Ln,Dn,$n.newGroupDelay)),(Rn=="full"||Rn=="after")&&(Pn=Pn.isolate()),Pn},toJSON(Pn){return{done:Pn.done.map(Cn=>Cn.toJSON()),undone:Pn.undone.map(Cn=>Cn.toJSON())}},fromJSON(Pn){return new HistoryState(Pn.done.map(HistEvent.fromJSON),Pn.undone.map(HistEvent.fromJSON))}});function history(Pn={}){return[historyField_,historyConfig.of(Pn),EditorView.domEventHandlers({beforeinput(Cn,$n){let _n=Cn.inputType=="historyUndo"?undo:Cn.inputType=="historyRedo"?redo:null;return _n?(Cn.preventDefault(),_n($n)):!1}})]}function cmd(Pn,Cn){return function({state:$n,dispatch:_n}){if(!Cn&&$n.readOnly)return!1;let Rn=$n.field(historyField_,!1);if(!Rn)return!1;let Bn=Rn.pop(Pn,$n,Cn);return Bn?(_n(Bn),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(Cn,$n,_n,Rn,Bn){this.changes=Cn,this.effects=$n,this.mapped=_n,this.startSelection=Rn,this.selectionsAfter=Bn}setSelAfter(Cn){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,Cn)}toJSON(){var Cn,$n,_n;return{changes:(Cn=this.changes)===null||Cn===void 0?void 0:Cn.toJSON(),mapped:($n=this.mapped)===null||$n===void 0?void 0:$n.toJSON(),startSelection:(_n=this.startSelection)===null||_n===void 0?void 0:_n.toJSON(),selectionsAfter:this.selectionsAfter.map(Rn=>Rn.toJSON())}}static fromJSON(Cn){return new HistEvent(Cn.changes&&ChangeSet.fromJSON(Cn.changes),[],Cn.mapped&&ChangeDesc.fromJSON(Cn.mapped),Cn.startSelection&&EditorSelection.fromJSON(Cn.startSelection),Cn.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(Cn,$n){let _n=none$1;for(let Rn of Cn.startState.facet(invertedEffects)){let Bn=Rn(Cn);Bn.length&&(_n=_n.concat(Bn))}return!_n.length&&Cn.changes.empty?null:new HistEvent(Cn.changes.invert(Cn.startState.doc),_n,void 0,$n||Cn.startState.selection,none$1)}static selection(Cn){return new HistEvent(void 0,none$1,void 0,void 0,Cn)}}function updateBranch(Pn,Cn,$n,_n){let Rn=Cn+1>$n+20?Cn-$n-1:0,Bn=Pn.slice(Rn,Cn);return Bn.push(_n),Bn}function isAdjacent(Pn,Cn){let $n=[],_n=!1;return Pn.iterChangedRanges((Rn,Bn)=>$n.push(Rn,Bn)),Cn.iterChangedRanges((Rn,Bn,Ln,Dn)=>{for(let Nn=0;Nn<$n.length;){let Fn=$n[Nn++],Wn=$n[Nn++];Dn>=Fn&&Ln<=Wn&&(_n=!0)}}),_n}function eqSelectionShape(Pn,Cn){return Pn.ranges.length==Cn.ranges.length&&Pn.ranges.filter(($n,_n)=>$n.empty!=Cn.ranges[_n].empty).length===0}function conc(Pn,Cn){return Pn.length?Cn.length?Pn.concat(Cn):Pn:Cn}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(Pn,Cn){if(Pn.length){let $n=Pn[Pn.length-1],_n=$n.selectionsAfter.slice(Math.max(0,$n.selectionsAfter.length-MaxSelectionsPerEvent));return _n.length&&_n[_n.length-1].eq(Cn)?Pn:(_n.push(Cn),updateBranch(Pn,Pn.length-1,1e9,$n.setSelAfter(_n)))}else return[HistEvent.selection([Cn])]}function popSelection(Pn){let Cn=Pn[Pn.length-1],$n=Pn.slice();return $n[Pn.length-1]=Cn.setSelAfter(Cn.selectionsAfter.slice(0,Cn.selectionsAfter.length-1)),$n}function addMappingToBranch(Pn,Cn){if(!Pn.length)return Pn;let $n=Pn.length,_n=none$1;for(;$n;){let Rn=mapEvent(Pn[$n-1],Cn,_n);if(Rn.changes&&!Rn.changes.empty||Rn.effects.length){let Bn=Pn.slice(0,$n);return Bn[$n-1]=Rn,Bn}else Cn=Rn.mapped,$n--,_n=Rn.selectionsAfter}return _n.length?[HistEvent.selection(_n)]:none$1}function mapEvent(Pn,Cn,$n){let _n=conc(Pn.selectionsAfter.length?Pn.selectionsAfter.map(Dn=>Dn.map(Cn)):none$1,$n);if(!Pn.changes)return HistEvent.selection(_n);let Rn=Pn.changes.map(Cn),Bn=Cn.mapDesc(Pn.changes,!0),Ln=Pn.mapped?Pn.mapped.composeDesc(Bn):Bn;return new HistEvent(Rn,StateEffect.mapEffects(Pn.effects,Cn),Ln,Pn.startSelection.map(Bn),_n)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(Cn,$n,_n=0,Rn=void 0){this.done=Cn,this.undone=$n,this.prevTime=_n,this.prevUserEvent=Rn}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(Cn,$n,_n,Rn,Bn){let Ln=this.done,Dn=Ln[Ln.length-1];return Dn&&Dn.changes&&!Dn.changes.empty&&Cn.changes&&(!_n||joinableUserEvent.test(_n))&&(!Dn.selectionsAfter.length&&$n-this.prevTime<Rn.newGroupDelay&&Rn.joinToEvent(Bn,isAdjacent(Dn.changes,Cn.changes))||_n=="input.type.compose")?Ln=updateBranch(Ln,Ln.length-1,Rn.minDepth,new HistEvent(Cn.changes.compose(Dn.changes),conc(StateEffect.mapEffects(Cn.effects,Dn.changes),Dn.effects),Dn.mapped,Dn.startSelection,none$1)):Ln=updateBranch(Ln,Ln.length,Rn.minDepth,Cn),new HistoryState(Ln,none$1,$n,_n)}addSelection(Cn,$n,_n,Rn){let Bn=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return Bn.length>0&&$n-this.prevTime<Rn&&_n==this.prevUserEvent&&_n&&/^select($|\.)/.test(_n)&&eqSelectionShape(Bn[Bn.length-1],Cn)?this:new HistoryState(addSelection(this.done,Cn),this.undone,$n,_n)}addMapping(Cn){return new HistoryState(addMappingToBranch(this.done,Cn),addMappingToBranch(this.undone,Cn),this.prevTime,this.prevUserEvent)}pop(Cn,$n,_n){let Rn=Cn==0?this.done:this.undone;if(Rn.length==0)return null;let Bn=Rn[Rn.length-1],Ln=Bn.selectionsAfter[0]||$n.selection;if(_n&&Bn.selectionsAfter.length)return $n.update({selection:Bn.selectionsAfter[Bn.selectionsAfter.length-1],annotations:fromHistory.of({side:Cn,rest:popSelection(Rn),selection:Ln}),userEvent:Cn==0?"select.undo":"select.redo",scrollIntoView:!0});if(Bn.changes){let Dn=Rn.length==1?none$1:Rn.slice(0,Rn.length-1);return Bn.mapped&&(Dn=addMappingToBranch(Dn,Bn.mapped)),$n.update({changes:Bn.changes,selection:Bn.startSelection,effects:Bn.effects,annotations:fromHistory.of({side:Cn,rest:Dn,selection:Ln}),filter:!1,userEvent:Cn==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(Pn,Cn){return EditorSelection.create(Pn.ranges.map(Cn),Pn.mainIndex)}function setSel(Pn,Cn){return Pn.update({selection:Cn,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:Pn,dispatch:Cn},$n){let _n=updateSel(Pn.selection,$n);return _n.eq(Pn.selection,!0)?!1:(Cn(setSel(Pn,_n)),!0)}function rangeEnd(Pn,Cn){return EditorSelection.cursor(Cn?Pn.to:Pn.from)}function cursorByChar(Pn,Cn){return moveSel(Pn,$n=>$n.empty?Pn.moveByChar($n,Cn):rangeEnd($n,Cn))}function ltrAtCursor(Pn){return Pn.textDirectionAt(Pn.state.selection.main.head)==Direction.LTR}const cursorCharLeft=Pn=>cursorByChar(Pn,!ltrAtCursor(Pn)),cursorCharRight=Pn=>cursorByChar(Pn,ltrAtCursor(Pn));function cursorByGroup(Pn,Cn){return moveSel(Pn,$n=>$n.empty?Pn.moveByGroup($n,Cn):rangeEnd($n,Cn))}const cursorGroupLeft=Pn=>cursorByGroup(Pn,!ltrAtCursor(Pn)),cursorGroupRight=Pn=>cursorByGroup(Pn,ltrAtCursor(Pn));function interestingNode(Pn,Cn,$n){if(Cn.type.prop($n))return!0;let _n=Cn.to-Cn.from;return _n&&(_n>2||/[^\s,.;:]/.test(Pn.sliceDoc(Cn.from,Cn.to)))||Cn.firstChild}function moveBySyntax(Pn,Cn,$n){let _n=syntaxTree(Pn).resolveInner(Cn.head),Rn=$n?NodeProp.closedBy:NodeProp.openedBy;for(let Nn=Cn.head;;){let Fn=$n?_n.childAfter(Nn):_n.childBefore(Nn);if(!Fn)break;interestingNode(Pn,Fn,Rn)?_n=Fn:Nn=$n?Fn.to:Fn.from}let Bn=_n.type.prop(Rn),Ln,Dn;return Bn&&(Ln=$n?matchBrackets(Pn,_n.from,1):matchBrackets(Pn,_n.to,-1))&&Ln.matched?Dn=$n?Ln.end.to:Ln.end.from:Dn=$n?_n.to:_n.from,EditorSelection.cursor(Dn,$n?-1:1)}const cursorSyntaxLeft=Pn=>moveSel(Pn,Cn=>moveBySyntax(Pn.state,Cn,!ltrAtCursor(Pn))),cursorSyntaxRight=Pn=>moveSel(Pn,Cn=>moveBySyntax(Pn.state,Cn,ltrAtCursor(Pn)));function cursorByLine(Pn,Cn){return moveSel(Pn,$n=>{if(!$n.empty)return rangeEnd($n,Cn);let _n=Pn.moveVertically($n,Cn);return _n.head!=$n.head?_n:Pn.moveToLineBoundary($n,Cn)})}const cursorLineUp=Pn=>cursorByLine(Pn,!1),cursorLineDown=Pn=>cursorByLine(Pn,!0);function pageInfo(Pn){let Cn=Pn.scrollDOM.clientHeight<Pn.scrollDOM.scrollHeight-2,$n=0,_n=0,Rn;if(Cn){for(let Bn of Pn.state.facet(EditorView.scrollMargins)){let Ln=Bn(Pn);Ln!=null&&Ln.top&&($n=Math.max(Ln==null?void 0:Ln.top,$n)),Ln!=null&&Ln.bottom&&(_n=Math.max(Ln==null?void 0:Ln.bottom,_n))}Rn=Pn.scrollDOM.clientHeight-$n-_n}else Rn=(Pn.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:$n,marginBottom:_n,selfScroll:Cn,height:Math.max(Pn.defaultLineHeight,Rn-5)}}function cursorByPage(Pn,Cn){let $n=pageInfo(Pn),{state:_n}=Pn,Rn=updateSel(_n.selection,Ln=>Ln.empty?Pn.moveVertically(Ln,Cn,$n.height):rangeEnd(Ln,Cn));if(Rn.eq(_n.selection))return!1;let Bn;if($n.selfScroll){let Ln=Pn.coordsAtPos(_n.selection.main.head),Dn=Pn.scrollDOM.getBoundingClientRect(),Nn=Dn.top+$n.marginTop,Fn=Dn.bottom-$n.marginBottom;Ln&&Ln.top>Nn&&Ln.bottom<Fn&&(Bn=EditorView.scrollIntoView(Rn.main.head,{y:"start",yMargin:Ln.top-Nn}))}return Pn.dispatch(setSel(_n,Rn),{effects:Bn}),!0}const cursorPageUp=Pn=>cursorByPage(Pn,!1),cursorPageDown=Pn=>cursorByPage(Pn,!0);function moveByLineBoundary(Pn,Cn,$n){let _n=Pn.lineBlockAt(Cn.head),Rn=Pn.moveToLineBoundary(Cn,$n);if(Rn.head==Cn.head&&Rn.head!=($n?_n.to:_n.from)&&(Rn=Pn.moveToLineBoundary(Cn,$n,!1)),!$n&&Rn.head==_n.from&&_n.length){let Bn=/^\s*/.exec(Pn.state.sliceDoc(_n.from,Math.min(_n.from+100,_n.to)))[0].length;Bn&&Cn.head!=_n.from+Bn&&(Rn=EditorSelection.cursor(_n.from+Bn))}return Rn}const cursorLineBoundaryForward=Pn=>moveSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!0)),cursorLineBoundaryBackward=Pn=>moveSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!1)),cursorLineBoundaryLeft=Pn=>moveSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!ltrAtCursor(Pn))),cursorLineBoundaryRight=Pn=>moveSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,ltrAtCursor(Pn))),cursorLineStart=Pn=>moveSel(Pn,Cn=>EditorSelection.cursor(Pn.lineBlockAt(Cn.head).from,1)),cursorLineEnd=Pn=>moveSel(Pn,Cn=>EditorSelection.cursor(Pn.lineBlockAt(Cn.head).to,-1));function toMatchingBracket(Pn,Cn,$n){let _n=!1,Rn=updateSel(Pn.selection,Bn=>{let Ln=matchBrackets(Pn,Bn.head,-1)||matchBrackets(Pn,Bn.head,1)||Bn.head>0&&matchBrackets(Pn,Bn.head-1,1)||Bn.head<Pn.doc.length&&matchBrackets(Pn,Bn.head+1,-1);if(!Ln||!Ln.end)return Bn;_n=!0;let Dn=Ln.start.from==Bn.head?Ln.end.to:Ln.end.from;return EditorSelection.cursor(Dn)});return _n?(Cn(setSel(Pn,Rn)),!0):!1}const cursorMatchingBracket=({state:Pn,dispatch:Cn})=>toMatchingBracket(Pn,Cn);function extendSel(Pn,Cn){let $n=updateSel(Pn.state.selection,_n=>{let Rn=Cn(_n);return EditorSelection.range(_n.anchor,Rn.head,Rn.goalColumn,Rn.bidiLevel||void 0)});return $n.eq(Pn.state.selection)?!1:(Pn.dispatch(setSel(Pn.state,$n)),!0)}function selectByChar(Pn,Cn){return extendSel(Pn,$n=>Pn.moveByChar($n,Cn))}const selectCharLeft=Pn=>selectByChar(Pn,!ltrAtCursor(Pn)),selectCharRight=Pn=>selectByChar(Pn,ltrAtCursor(Pn));function selectByGroup(Pn,Cn){return extendSel(Pn,$n=>Pn.moveByGroup($n,Cn))}const selectGroupLeft=Pn=>selectByGroup(Pn,!ltrAtCursor(Pn)),selectGroupRight=Pn=>selectByGroup(Pn,ltrAtCursor(Pn)),selectSyntaxLeft=Pn=>extendSel(Pn,Cn=>moveBySyntax(Pn.state,Cn,!ltrAtCursor(Pn))),selectSyntaxRight=Pn=>extendSel(Pn,Cn=>moveBySyntax(Pn.state,Cn,ltrAtCursor(Pn)));function selectByLine(Pn,Cn){return extendSel(Pn,$n=>Pn.moveVertically($n,Cn))}const selectLineUp=Pn=>selectByLine(Pn,!1),selectLineDown=Pn=>selectByLine(Pn,!0);function selectByPage(Pn,Cn){return extendSel(Pn,$n=>Pn.moveVertically($n,Cn,pageInfo(Pn).height))}const selectPageUp=Pn=>selectByPage(Pn,!1),selectPageDown=Pn=>selectByPage(Pn,!0),selectLineBoundaryForward=Pn=>extendSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!0)),selectLineBoundaryBackward=Pn=>extendSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!1)),selectLineBoundaryLeft=Pn=>extendSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,!ltrAtCursor(Pn))),selectLineBoundaryRight=Pn=>extendSel(Pn,Cn=>moveByLineBoundary(Pn,Cn,ltrAtCursor(Pn))),selectLineStart=Pn=>extendSel(Pn,Cn=>EditorSelection.cursor(Pn.lineBlockAt(Cn.head).from)),selectLineEnd=Pn=>extendSel(Pn,Cn=>EditorSelection.cursor(Pn.lineBlockAt(Cn.head).to)),cursorDocStart=({state:Pn,dispatch:Cn})=>(Cn(setSel(Pn,{anchor:0})),!0),cursorDocEnd=({state:Pn,dispatch:Cn})=>(Cn(setSel(Pn,{anchor:Pn.doc.length})),!0),selectDocStart=({state:Pn,dispatch:Cn})=>(Cn(setSel(Pn,{anchor:Pn.selection.main.anchor,head:0})),!0),selectDocEnd=({state:Pn,dispatch:Cn})=>(Cn(setSel(Pn,{anchor:Pn.selection.main.anchor,head:Pn.doc.length})),!0),selectAll=({state:Pn,dispatch:Cn})=>(Cn(Pn.update({selection:{anchor:0,head:Pn.doc.length},userEvent:"select"})),!0),selectLine=({state:Pn,dispatch:Cn})=>{let $n=selectedLineBlocks(Pn).map(({from:_n,to:Rn})=>EditorSelection.range(_n,Math.min(Rn+1,Pn.doc.length)));return Cn(Pn.update({selection:EditorSelection.create($n),userEvent:"select"})),!0},selectParentSyntax=({state:Pn,dispatch:Cn})=>{let $n=updateSel(Pn.selection,_n=>{let Rn=syntaxTree(Pn),Bn=Rn.resolveStack(_n.from,1);if(_n.empty){let Ln=Rn.resolveStack(_n.from,-1);Ln.node.from>=Bn.node.from&&Ln.node.to<=Bn.node.to&&(Bn=Ln)}for(let Ln=Bn;Ln;Ln=Ln.next){let{node:Dn}=Ln;if((Dn.from<_n.from&&Dn.to>=_n.to||Dn.to>_n.to&&Dn.from<=_n.from)&&Ln.next)return EditorSelection.range(Dn.to,Dn.from)}return _n});return $n.eq(Pn.selection)?!1:(Cn(setSel(Pn,$n)),!0)},simplifySelection=({state:Pn,dispatch:Cn})=>{let $n=Pn.selection,_n=null;return $n.ranges.length>1?_n=EditorSelection.create([$n.main]):$n.main.empty||(_n=EditorSelection.create([EditorSelection.cursor($n.main.head)])),_n?(Cn(setSel(Pn,_n)),!0):!1};function deleteBy(Pn,Cn){if(Pn.state.readOnly)return!1;let $n="delete.selection",{state:_n}=Pn,Rn=_n.changeByRange(Bn=>{let{from:Ln,to:Dn}=Bn;if(Ln==Dn){let Nn=Cn(Bn);Nn<Ln?($n="delete.backward",Nn=skipAtomic(Pn,Nn,!1)):Nn>Ln&&($n="delete.forward",Nn=skipAtomic(Pn,Nn,!0)),Ln=Math.min(Ln,Nn),Dn=Math.max(Dn,Nn)}else Ln=skipAtomic(Pn,Ln,!1),Dn=skipAtomic(Pn,Dn,!0);return Ln==Dn?{range:Bn}:{changes:{from:Ln,to:Dn},range:EditorSelection.cursor(Ln,Ln<Bn.head?-1:1)}});return Rn.changes.empty?!1:(Pn.dispatch(_n.update(Rn,{scrollIntoView:!0,userEvent:$n,effects:$n=="delete.selection"?EditorView.announce.of(_n.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(Pn,Cn,$n){if(Pn instanceof EditorView)for(let _n of Pn.state.facet(EditorView.atomicRanges).map(Rn=>Rn(Pn)))_n.between(Cn,Cn,(Rn,Bn)=>{Rn<Cn&&Bn>Cn&&(Cn=$n?Bn:Rn)});return Cn}const deleteByChar=(Pn,Cn,$n)=>deleteBy(Pn,_n=>{let Rn=_n.from,{state:Bn}=Pn,Ln=Bn.doc.lineAt(Rn),Dn,Nn;if($n&&!Cn&&Rn>Ln.from&&Rn<Ln.from+200&&!/[^ \t]/.test(Dn=Ln.text.slice(0,Rn-Ln.from))){if(Dn[Dn.length-1]=="	")return Rn-1;let Fn=countColumn(Dn,Bn.tabSize),Wn=Fn%getIndentUnit(Bn)||getIndentUnit(Bn);for(let zn=0;zn<Wn&&Dn[Dn.length-1-zn]==" ";zn++)Rn--;Nn=Rn}else Nn=findClusterBreak(Ln.text,Rn-Ln.from,Cn,Cn)+Ln.from,Nn==Rn&&Ln.number!=(Cn?Bn.doc.lines:1)?Nn+=Cn?1:-1:!Cn&&/[\ufe00-\ufe0f]/.test(Ln.text.slice(Nn-Ln.from,Rn-Ln.from))&&(Nn=findClusterBreak(Ln.text,Nn-Ln.from,!1,!1)+Ln.from);return Nn}),deleteCharBackward=Pn=>deleteByChar(Pn,!1,!0),deleteCharForward=Pn=>deleteByChar(Pn,!0,!1),deleteByGroup=(Pn,Cn)=>deleteBy(Pn,$n=>{let _n=$n.head,{state:Rn}=Pn,Bn=Rn.doc.lineAt(_n),Ln=Rn.charCategorizer(_n);for(let Dn=null;;){if(_n==(Cn?Bn.to:Bn.from)){_n==$n.head&&Bn.number!=(Cn?Rn.doc.lines:1)&&(_n+=Cn?1:-1);break}let Nn=findClusterBreak(Bn.text,_n-Bn.from,Cn)+Bn.from,Fn=Bn.text.slice(Math.min(_n,Nn)-Bn.from,Math.max(_n,Nn)-Bn.from),Wn=Ln(Fn);if(Dn!=null&&Wn!=Dn)break;(Fn!=" "||_n!=$n.head)&&(Dn=Wn),_n=Nn}return _n}),deleteGroupBackward=Pn=>deleteByGroup(Pn,!1),deleteGroupForward=Pn=>deleteByGroup(Pn,!0),deleteToLineEnd=Pn=>deleteBy(Pn,Cn=>{let $n=Pn.lineBlockAt(Cn.head).to;return Cn.head<$n?$n:Math.min(Pn.state.doc.length,Cn.head+1)}),deleteLineBoundaryBackward=Pn=>deleteBy(Pn,Cn=>{let $n=Pn.moveToLineBoundary(Cn,!1).head;return Cn.head>$n?$n:Math.max(0,Cn.head-1)}),deleteLineBoundaryForward=Pn=>deleteBy(Pn,Cn=>{let $n=Pn.moveToLineBoundary(Cn,!0).head;return Cn.head<$n?$n:Math.min(Pn.state.doc.length,Cn.head+1)}),splitLine=({state:Pn,dispatch:Cn})=>{if(Pn.readOnly)return!1;let $n=Pn.changeByRange(_n=>({changes:{from:_n.from,to:_n.to,insert:Text.of(["",""])},range:EditorSelection.cursor(_n.from)}));return Cn(Pn.update($n,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:Pn,dispatch:Cn})=>{if(Pn.readOnly)return!1;let $n=Pn.changeByRange(_n=>{if(!_n.empty||_n.from==0||_n.from==Pn.doc.length)return{range:_n};let Rn=_n.from,Bn=Pn.doc.lineAt(Rn),Ln=Rn==Bn.from?Rn-1:findClusterBreak(Bn.text,Rn-Bn.from,!1)+Bn.from,Dn=Rn==Bn.to?Rn+1:findClusterBreak(Bn.text,Rn-Bn.from,!0)+Bn.from;return{changes:{from:Ln,to:Dn,insert:Pn.doc.slice(Rn,Dn).append(Pn.doc.slice(Ln,Rn))},range:EditorSelection.cursor(Dn)}});return $n.changes.empty?!1:(Cn(Pn.update($n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(Pn){let Cn=[],$n=-1;for(let _n of Pn.selection.ranges){let Rn=Pn.doc.lineAt(_n.from),Bn=Pn.doc.lineAt(_n.to);if(!_n.empty&&_n.to==Bn.from&&(Bn=Pn.doc.lineAt(_n.to-1)),$n>=Rn.number){let Ln=Cn[Cn.length-1];Ln.to=Bn.to,Ln.ranges.push(_n)}else Cn.push({from:Rn.from,to:Bn.to,ranges:[_n]});$n=Bn.number+1}return Cn}function moveLine(Pn,Cn,$n){if(Pn.readOnly)return!1;let _n=[],Rn=[];for(let Bn of selectedLineBlocks(Pn)){if($n?Bn.to==Pn.doc.length:Bn.from==0)continue;let Ln=Pn.doc.lineAt($n?Bn.to+1:Bn.from-1),Dn=Ln.length+1;if($n){_n.push({from:Bn.to,to:Ln.to},{from:Bn.from,insert:Ln.text+Pn.lineBreak});for(let Nn of Bn.ranges)Rn.push(EditorSelection.range(Math.min(Pn.doc.length,Nn.anchor+Dn),Math.min(Pn.doc.length,Nn.head+Dn)))}else{_n.push({from:Ln.from,to:Bn.from},{from:Bn.to,insert:Pn.lineBreak+Ln.text});for(let Nn of Bn.ranges)Rn.push(EditorSelection.range(Nn.anchor-Dn,Nn.head-Dn))}}return _n.length?(Cn(Pn.update({changes:_n,scrollIntoView:!0,selection:EditorSelection.create(Rn,Pn.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:Pn,dispatch:Cn})=>moveLine(Pn,Cn,!1),moveLineDown=({state:Pn,dispatch:Cn})=>moveLine(Pn,Cn,!0);function copyLine(Pn,Cn,$n){if(Pn.readOnly)return!1;let _n=[];for(let Rn of selectedLineBlocks(Pn))$n?_n.push({from:Rn.from,insert:Pn.doc.slice(Rn.from,Rn.to)+Pn.lineBreak}):_n.push({from:Rn.to,insert:Pn.lineBreak+Pn.doc.slice(Rn.from,Rn.to)});return Cn(Pn.update({changes:_n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:Pn,dispatch:Cn})=>copyLine(Pn,Cn,!1),copyLineDown=({state:Pn,dispatch:Cn})=>copyLine(Pn,Cn,!0),deleteLine=Pn=>{if(Pn.state.readOnly)return!1;let{state:Cn}=Pn,$n=Cn.changes(selectedLineBlocks(Cn).map(({from:Rn,to:Bn})=>(Rn>0?Rn--:Bn<Cn.doc.length&&Bn++,{from:Rn,to:Bn}))),_n=updateSel(Cn.selection,Rn=>{let Bn;if(Pn.lineWrapping){let Ln=Pn.lineBlockAt(Rn.head),Dn=Pn.coordsAtPos(Rn.head,Rn.assoc||1);Dn&&(Bn=Ln.bottom+Pn.documentTop-Dn.bottom+Pn.defaultLineHeight/2)}return Pn.moveVertically(Rn,!0,Bn)}).map($n);return Pn.dispatch({changes:$n,selection:_n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(Pn,Cn){if(/\(\)|\[\]|\{\}/.test(Pn.sliceDoc(Cn-1,Cn+1)))return{from:Cn,to:Cn};let $n=syntaxTree(Pn).resolveInner(Cn),_n=$n.childBefore(Cn),Rn=$n.childAfter(Cn),Bn;return _n&&Rn&&_n.to<=Cn&&Rn.from>=Cn&&(Bn=_n.type.prop(NodeProp.closedBy))&&Bn.indexOf(Rn.name)>-1&&Pn.doc.lineAt(_n.to).from==Pn.doc.lineAt(Rn.from).from&&!/\S/.test(Pn.sliceDoc(_n.to,Rn.from))?{from:_n.to,to:Rn.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(Pn){return({state:Cn,dispatch:$n})=>{if(Cn.readOnly)return!1;let _n=Cn.changeByRange(Rn=>{let{from:Bn,to:Ln}=Rn,Dn=Cn.doc.lineAt(Bn),Nn=!Pn&&Bn==Ln&&isBetweenBrackets(Cn,Bn);Pn&&(Bn=Ln=(Ln<=Dn.to?Dn:Cn.doc.lineAt(Ln)).to);let Fn=new IndentContext(Cn,{simulateBreak:Bn,simulateDoubleBreak:!!Nn}),Wn=getIndentation(Fn,Bn);for(Wn==null&&(Wn=countColumn(/^\s*/.exec(Cn.doc.lineAt(Bn).text)[0],Cn.tabSize));Ln<Dn.to&&/\s/.test(Dn.text[Ln-Dn.from]);)Ln++;Nn?{from:Bn,to:Ln}=Nn:Bn>Dn.from&&Bn<Dn.from+100&&!/\S/.test(Dn.text.slice(0,Bn))&&(Bn=Dn.from);let zn=["",indentString(Cn,Wn)];return Nn&&zn.push(indentString(Cn,Fn.lineIndent(Dn.from,-1))),{changes:{from:Bn,to:Ln,insert:Text.of(zn)},range:EditorSelection.cursor(Bn+1+zn[1].length)}});return $n(Cn.update(_n,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(Pn,Cn){let $n=-1;return Pn.changeByRange(_n=>{let Rn=[];for(let Ln=_n.from;Ln<=_n.to;){let Dn=Pn.doc.lineAt(Ln);Dn.number>$n&&(_n.empty||_n.to>Dn.from)&&(Cn(Dn,Rn,_n),$n=Dn.number),Ln=Dn.to+1}let Bn=Pn.changes(Rn);return{changes:Rn,range:EditorSelection.range(Bn.mapPos(_n.anchor,1),Bn.mapPos(_n.head,1))}})}const indentSelection=({state:Pn,dispatch:Cn})=>{if(Pn.readOnly)return!1;let $n=Object.create(null),_n=new IndentContext(Pn,{overrideIndentation:Bn=>{let Ln=$n[Bn];return Ln??-1}}),Rn=changeBySelectedLine(Pn,(Bn,Ln,Dn)=>{let Nn=getIndentation(_n,Bn.from);if(Nn==null)return;/\S/.test(Bn.text)||(Nn=0);let Fn=/^\s*/.exec(Bn.text)[0],Wn=indentString(Pn,Nn);(Fn!=Wn||Dn.from<Bn.from+Fn.length)&&($n[Bn.from]=Nn,Ln.push({from:Bn.from,to:Bn.from+Fn.length,insert:Wn}))});return Rn.changes.empty||Cn(Pn.update(Rn,{userEvent:"indent"})),!0},indentMore=({state:Pn,dispatch:Cn})=>Pn.readOnly?!1:(Cn(Pn.update(changeBySelectedLine(Pn,($n,_n)=>{_n.push({from:$n.from,insert:Pn.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:Pn,dispatch:Cn})=>Pn.readOnly?!1:(Cn(Pn.update(changeBySelectedLine(Pn,($n,_n)=>{let Rn=/^\s*/.exec($n.text)[0];if(!Rn)return;let Bn=countColumn(Rn,Pn.tabSize),Ln=0,Dn=indentString(Pn,Math.max(0,Bn-getIndentUnit(Pn)));for(;Ln<Rn.length&&Ln<Dn.length&&Rn.charCodeAt(Ln)==Dn.charCodeAt(Ln);)Ln++;_n.push({from:$n.from+Ln,to:$n.from+Rn.length,insert:Dn.slice(Ln)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=Pn=>(Pn.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(Pn=>({mac:Pn.key,run:Pn.run,shift:Pn.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var Pn=arguments[0];typeof Pn=="string"&&(Pn=document.createElement(Pn));var Cn=1,$n=arguments[1];if($n&&typeof $n=="object"&&$n.nodeType==null&&!Array.isArray($n)){for(var _n in $n)if(Object.prototype.hasOwnProperty.call($n,_n)){var Rn=$n[_n];typeof Rn=="string"?Pn.setAttribute(_n,Rn):Rn!=null&&(Pn[_n]=Rn)}Cn++}for(;Cn<arguments.length;Cn++)add(Pn,arguments[Cn]);return Pn}function add(Pn,Cn){if(typeof Cn=="string")Pn.appendChild(document.createTextNode(Cn));else if(Cn!=null)if(Cn.nodeType!=null)Pn.appendChild(Cn);else if(Array.isArray(Cn))for(var $n=0;$n<Cn.length;$n++)add(Pn,Cn[$n]);else throw new RangeError("Unsupported child node: "+Cn)}const basicNormalize=typeof String.prototype.normalize=="function"?Pn=>Pn.normalize("NFKD"):Pn=>Pn;class SearchCursor{constructor(Cn,$n,_n=0,Rn=Cn.length,Bn,Ln){this.test=Ln,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Cn.iterRange(_n,Rn),this.bufferStart=_n,this.normalize=Bn?Dn=>Bn(basicNormalize(Dn)):basicNormalize,this.query=this.normalize($n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Cn=this.peek();if(Cn<0)return this.done=!0,this;let $n=fromCodePoint(Cn),_n=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(Cn);let Rn=this.normalize($n);if(Rn.length)for(let Bn=0,Ln=_n;;Bn++){let Dn=Rn.charCodeAt(Bn),Nn=this.match(Dn,Ln,this.bufferPos+this.bufferStart);if(Bn==Rn.length-1){if(Nn)return this.value=Nn,this;break}Ln==_n&&Bn<$n.length&&$n.charCodeAt(Bn)==Dn&&Ln++}}}match(Cn,$n,_n){let Rn=null;for(let Bn=0;Bn<this.matches.length;Bn+=2){let Ln=this.matches[Bn],Dn=!1;this.query.charCodeAt(Ln)==Cn&&(Ln==this.query.length-1?Rn={from:this.matches[Bn+1],to:_n}:(this.matches[Bn]++,Dn=!0)),Dn||(this.matches.splice(Bn,2),Bn-=2)}return this.query.charCodeAt(0)==Cn&&(this.query.length==1?Rn={from:$n,to:_n}:this.matches.push(1,$n)),Rn&&this.test&&!this.test(Rn.from,Rn.to,this.buffer,this.bufferStart)&&(Rn=null),Rn}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(Cn,$n,_n,Rn=0,Bn=Cn.length){if(this.text=Cn,this.to=Bn,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test($n))return new MultilineRegExpCursor(Cn,$n,_n,Rn,Bn);this.re=new RegExp($n,baseFlags+(_n!=null&&_n.ignoreCase?"i":"")),this.test=_n==null?void 0:_n.test,this.iter=Cn.iter();let Ln=Cn.lineAt(Rn);this.curLineStart=Ln.from,this.matchPos=toCharEnd(Cn,Rn),this.getLine(this.curLineStart)}getLine(Cn){this.iter.next(Cn),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let Cn=this.matchPos-this.curLineStart;;){this.re.lastIndex=Cn;let $n=this.matchPos<=this.to&&this.re.exec(this.curLine);if($n){let _n=this.curLineStart+$n.index,Rn=_n+$n[0].length;if(this.matchPos=toCharEnd(this.text,Rn+(_n==Rn?1:0)),_n==this.curLineStart+this.curLine.length&&this.nextLine(),(_n<Rn||_n>this.value.to)&&(!this.test||this.test(_n,Rn,$n)))return this.value={from:_n,to:Rn,match:$n},this;Cn=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Cn=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(Cn,$n){this.from=Cn,this.text=$n}get to(){return this.from+this.text.length}static get(Cn,$n,_n){let Rn=flattened.get(Cn);if(!Rn||Rn.from>=_n||Rn.to<=$n){let Dn=new FlattenedDoc($n,Cn.sliceString($n,_n));return flattened.set(Cn,Dn),Dn}if(Rn.from==$n&&Rn.to==_n)return Rn;let{text:Bn,from:Ln}=Rn;return Ln>$n&&(Bn=Cn.sliceString($n,Ln)+Bn,Ln=$n),Rn.to<_n&&(Bn+=Cn.sliceString(Rn.to,_n)),flattened.set(Cn,new FlattenedDoc(Ln,Bn)),new FlattenedDoc($n,Bn.slice($n-Ln,_n-Ln))}}class MultilineRegExpCursor{constructor(Cn,$n,_n,Rn,Bn){this.text=Cn,this.to=Bn,this.done=!1,this.value=empty,this.matchPos=toCharEnd(Cn,Rn),this.re=new RegExp($n,baseFlags+(_n!=null&&_n.ignoreCase?"i":"")),this.test=_n==null?void 0:_n.test,this.flat=FlattenedDoc.get(Cn,Rn,this.chunkEnd(Rn+5e3))}chunkEnd(Cn){return Cn>=this.to?this.to:this.text.lineAt(Cn).to}next(){for(;;){let Cn=this.re.lastIndex=this.matchPos-this.flat.from,$n=this.re.exec(this.flat.text);if($n&&!$n[0]&&$n.index==Cn&&(this.re.lastIndex=Cn+1,$n=this.re.exec(this.flat.text)),$n){let _n=this.flat.from+$n.index,Rn=_n+$n[0].length;if((this.flat.to>=this.to||$n.index+$n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(_n,Rn,$n)))return this.value={from:_n,to:Rn,match:$n},this.matchPos=toCharEnd(this.text,Rn+(_n==Rn?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(Pn){try{return new RegExp(Pn,baseFlags),!0}catch{return!1}}function toCharEnd(Pn,Cn){if(Cn>=Pn.length)return Cn;let $n=Pn.lineAt(Cn),_n;for(;Cn<$n.to&&(_n=$n.text.charCodeAt(Cn-$n.from))>=56320&&_n<57344;)Cn++;return Cn}function createLineDialog(Pn){let Cn=String(Pn.state.doc.lineAt(Pn.state.selection.main.head).number),$n=crelt("input",{class:"cm-textfield",name:"line",value:Cn}),_n=crelt("form",{class:"cm-gotoLine",onkeydown:Bn=>{Bn.keyCode==27?(Bn.preventDefault(),Pn.dispatch({effects:dialogEffect.of(!1)}),Pn.focus()):Bn.keyCode==13&&(Bn.preventDefault(),Rn())},onsubmit:Bn=>{Bn.preventDefault(),Rn()}},crelt("label",Pn.state.phrase("Go to line"),": ",$n)," ",crelt("button",{class:"cm-button",type:"submit"},Pn.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{Pn.dispatch({effects:dialogEffect.of(!1)}),Pn.focus()},"aria-label":Pn.state.phrase("close"),type:"button"},[""]));function Rn(){let Bn=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec($n.value);if(!Bn)return;let{state:Ln}=Pn,Dn=Ln.doc.lineAt(Ln.selection.main.head),[,Nn,Fn,Wn,zn]=Bn,Yn=Wn?+Wn.slice(1):0,Gn=Fn?+Fn:Dn.number;if(Fn&&zn){let ii=Gn/100;Nn&&(ii=ii*(Nn=="-"?-1:1)+Dn.number/Ln.doc.lines),Gn=Math.round(Ln.doc.lines*ii)}else Fn&&Nn&&(Gn=Gn*(Nn=="-"?-1:1)+Dn.number);let ei=Ln.doc.line(Math.max(1,Math.min(Ln.doc.lines,Gn))),ti=EditorSelection.cursor(ei.from+Math.max(0,Math.min(Yn,ei.length)));Pn.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(ti.from,{y:"center"})],selection:ti}),Pn.focus()}return{dom:_n}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(Pn,Cn){for(let $n of Cn.effects)$n.is(dialogEffect)&&(Pn=$n.value);return Pn},provide:Pn=>showPanel.from(Pn,Cn=>Cn?createLineDialog:null)}),gotoLine=Pn=>{let Cn=getPanel(Pn,createLineDialog);if(!Cn){let $n=[dialogEffect.of(!0)];Pn.state.field(dialogField,!1)==null&&$n.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),Pn.dispatch({effects:$n}),Cn=getPanel(Pn,createLineDialog)}return Cn&&Cn.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(Pn){return combineConfig(Pn,defaultHighlightOptions,{highlightWordAroundCursor:(Cn,$n)=>Cn||$n,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(Pn){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(Pn,Cn,$n,_n){return($n==0||Pn(Cn.sliceDoc($n-1,$n))!=CharCategory.Word)&&(_n==Cn.doc.length||Pn(Cn.sliceDoc(_n,_n+1))!=CharCategory.Word)}function insideWord(Pn,Cn,$n,_n){return Pn(Cn.sliceDoc($n,$n+1))==CharCategory.Word&&Pn(Cn.sliceDoc(_n-1,_n))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(Pn){this.decorations=this.getDeco(Pn)}update(Pn){(Pn.selectionSet||Pn.docChanged||Pn.viewportChanged)&&(this.decorations=this.getDeco(Pn.view))}getDeco(Pn){let Cn=Pn.state.facet(highlightConfig),{state:$n}=Pn,_n=$n.selection;if(_n.ranges.length>1)return Decoration.none;let Rn=_n.main,Bn,Ln=null;if(Rn.empty){if(!Cn.highlightWordAroundCursor)return Decoration.none;let Nn=$n.wordAt(Rn.head);if(!Nn)return Decoration.none;Ln=$n.charCategorizer(Rn.head),Bn=$n.sliceDoc(Nn.from,Nn.to)}else{let Nn=Rn.to-Rn.from;if(Nn<Cn.minSelectionLength||Nn>200)return Decoration.none;if(Cn.wholeWords){if(Bn=$n.sliceDoc(Rn.from,Rn.to),Ln=$n.charCategorizer(Rn.head),!(insideWordBoundaries(Ln,$n,Rn.from,Rn.to)&&insideWord(Ln,$n,Rn.from,Rn.to)))return Decoration.none}else if(Bn=$n.sliceDoc(Rn.from,Rn.to),!Bn)return Decoration.none}let Dn=[];for(let Nn of Pn.visibleRanges){let Fn=new SearchCursor($n.doc,Bn,Nn.from,Nn.to);for(;!Fn.next().done;){let{from:Wn,to:zn}=Fn.value;if((!Ln||insideWordBoundaries(Ln,$n,Wn,zn))&&(Rn.empty&&Wn<=Rn.from&&zn>=Rn.to?Dn.push(mainMatchDeco.range(Wn,zn)):(Wn>=Rn.to||zn<=Rn.from)&&Dn.push(matchDeco.range(Wn,zn)),Dn.length>Cn.maxMatches))return Decoration.none}}return Decoration.set(Dn)}},{decorations:Pn=>Pn.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:Pn,dispatch:Cn})=>{let{selection:$n}=Pn,_n=EditorSelection.create($n.ranges.map(Rn=>Pn.wordAt(Rn.head)||EditorSelection.cursor(Rn.head)),$n.mainIndex);return _n.eq($n)?!1:(Cn(Pn.update({selection:_n})),!0)};function findNextOccurrence(Pn,Cn){let{main:$n,ranges:_n}=Pn.selection,Rn=Pn.wordAt($n.head),Bn=Rn&&Rn.from==$n.from&&Rn.to==$n.to;for(let Ln=!1,Dn=new SearchCursor(Pn.doc,Cn,_n[_n.length-1].to);;)if(Dn.next(),Dn.done){if(Ln)return null;Dn=new SearchCursor(Pn.doc,Cn,0,Math.max(0,_n[_n.length-1].from-1)),Ln=!0}else{if(Ln&&_n.some(Nn=>Nn.from==Dn.value.from))continue;if(Bn){let Nn=Pn.wordAt(Dn.value.from);if(!Nn||Nn.from!=Dn.value.from||Nn.to!=Dn.value.to)continue}return Dn.value}}const selectNextOccurrence=({state:Pn,dispatch:Cn})=>{let{ranges:$n}=Pn.selection;if($n.some(Bn=>Bn.from===Bn.to))return selectWord({state:Pn,dispatch:Cn});let _n=Pn.sliceDoc($n[0].from,$n[0].to);if(Pn.selection.ranges.some(Bn=>Pn.sliceDoc(Bn.from,Bn.to)!=_n))return!1;let Rn=findNextOccurrence(Pn,_n);return Rn?(Cn(Pn.update({selection:Pn.selection.addRange(EditorSelection.range(Rn.from,Rn.to),!1),effects:EditorView.scrollIntoView(Rn.to)})),!0):!1},searchConfigFacet=Facet.define({combine(Pn){return combineConfig(Pn,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:Cn=>new SearchPanel(Cn),scrollToMatch:Cn=>EditorView.scrollIntoView(Cn)})}});class SearchQuery{constructor(Cn){this.search=Cn.search,this.caseSensitive=!!Cn.caseSensitive,this.literal=!!Cn.literal,this.regexp=!!Cn.regexp,this.replace=Cn.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!Cn.wholeWord}unquote(Cn){return this.literal?Cn:Cn.replace(/\\([nrt\\])/g,($n,_n)=>_n=="n"?`
`:_n=="r"?"\r":_n=="t"?"	":"\\")}eq(Cn){return this.search==Cn.search&&this.replace==Cn.replace&&this.caseSensitive==Cn.caseSensitive&&this.regexp==Cn.regexp&&this.wholeWord==Cn.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(Cn,$n=0,_n){let Rn=Cn.doc?Cn:EditorState.create({doc:Cn});return _n==null&&(_n=Rn.doc.length),this.regexp?regexpCursor(this,Rn,$n,_n):stringCursor(this,Rn,$n,_n)}}class QueryType{constructor(Cn){this.spec=Cn}}function stringCursor(Pn,Cn,$n,_n){return new SearchCursor(Cn.doc,Pn.unquoted,$n,_n,Pn.caseSensitive?void 0:Rn=>Rn.toLowerCase(),Pn.wholeWord?stringWordTest(Cn.doc,Cn.charCategorizer(Cn.selection.main.head)):void 0)}function stringWordTest(Pn,Cn){return($n,_n,Rn,Bn)=>((Bn>$n||Bn+Rn.length<_n)&&(Bn=Math.max(0,$n-2),Rn=Pn.sliceString(Bn,Math.min(Pn.length,_n+2))),(Cn(charBefore(Rn,$n-Bn))!=CharCategory.Word||Cn(charAfter(Rn,$n-Bn))!=CharCategory.Word)&&(Cn(charAfter(Rn,_n-Bn))!=CharCategory.Word||Cn(charBefore(Rn,_n-Bn))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(Cn){super(Cn)}nextMatch(Cn,$n,_n){let Rn=stringCursor(this.spec,Cn,_n,Cn.doc.length).nextOverlapping();if(Rn.done){let Bn=Math.min(Cn.doc.length,$n+this.spec.unquoted.length);Rn=stringCursor(this.spec,Cn,0,Bn).nextOverlapping()}return Rn.done||Rn.value.from==$n&&Rn.value.to==_n?null:Rn.value}prevMatchInRange(Cn,$n,_n){for(let Rn=_n;;){let Bn=Math.max($n,Rn-1e4-this.spec.unquoted.length),Ln=stringCursor(this.spec,Cn,Bn,Rn),Dn=null;for(;!Ln.nextOverlapping().done;)Dn=Ln.value;if(Dn)return Dn;if(Bn==$n)return null;Rn-=1e4}}prevMatch(Cn,$n,_n){let Rn=this.prevMatchInRange(Cn,0,$n);return Rn||(Rn=this.prevMatchInRange(Cn,Math.max(0,_n-this.spec.unquoted.length),Cn.doc.length)),Rn&&(Rn.from!=$n||Rn.to!=_n)?Rn:null}getReplacement(Cn){return this.spec.unquote(this.spec.replace)}matchAll(Cn,$n){let _n=stringCursor(this.spec,Cn,0,Cn.doc.length),Rn=[];for(;!_n.next().done;){if(Rn.length>=$n)return null;Rn.push(_n.value)}return Rn}highlight(Cn,$n,_n,Rn){let Bn=stringCursor(this.spec,Cn,Math.max(0,$n-this.spec.unquoted.length),Math.min(_n+this.spec.unquoted.length,Cn.doc.length));for(;!Bn.next().done;)Rn(Bn.value.from,Bn.value.to)}}function regexpCursor(Pn,Cn,$n,_n){return new RegExpCursor(Cn.doc,Pn.search,{ignoreCase:!Pn.caseSensitive,test:Pn.wholeWord?regexpWordTest(Cn.charCategorizer(Cn.selection.main.head)):void 0},$n,_n)}function charBefore(Pn,Cn){return Pn.slice(findClusterBreak(Pn,Cn,!1),Cn)}function charAfter(Pn,Cn){return Pn.slice(Cn,findClusterBreak(Pn,Cn))}function regexpWordTest(Pn){return(Cn,$n,_n)=>!_n[0].length||(Pn(charBefore(_n.input,_n.index))!=CharCategory.Word||Pn(charAfter(_n.input,_n.index))!=CharCategory.Word)&&(Pn(charAfter(_n.input,_n.index+_n[0].length))!=CharCategory.Word||Pn(charBefore(_n.input,_n.index+_n[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(Cn,$n,_n){let Rn=regexpCursor(this.spec,Cn,_n,Cn.doc.length).next();return Rn.done&&(Rn=regexpCursor(this.spec,Cn,0,$n).next()),Rn.done?null:Rn.value}prevMatchInRange(Cn,$n,_n){for(let Rn=1;;Rn++){let Bn=Math.max($n,_n-Rn*1e4),Ln=regexpCursor(this.spec,Cn,Bn,_n),Dn=null;for(;!Ln.next().done;)Dn=Ln.value;if(Dn&&(Bn==$n||Dn.from>Bn+10))return Dn;if(Bn==$n)return null}}prevMatch(Cn,$n,_n){return this.prevMatchInRange(Cn,0,$n)||this.prevMatchInRange(Cn,_n,Cn.doc.length)}getReplacement(Cn){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,($n,_n)=>{if(_n=="&")return Cn.match[0];if(_n=="$")return"$";for(let Rn=_n.length;Rn>0;Rn--){let Bn=+_n.slice(0,Rn);if(Bn>0&&Bn<Cn.match.length)return Cn.match[Bn]+_n.slice(Rn)}return $n})}matchAll(Cn,$n){let _n=regexpCursor(this.spec,Cn,0,Cn.doc.length),Rn=[];for(;!_n.next().done;){if(Rn.length>=$n)return null;Rn.push(_n.value)}return Rn}highlight(Cn,$n,_n,Rn){let Bn=regexpCursor(this.spec,Cn,Math.max(0,$n-250),Math.min(_n+250,Cn.doc.length));for(;!Bn.next().done;)Rn(Bn.value.from,Bn.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(Pn){return new SearchState(defaultQuery(Pn).create(),null)},update(Pn,Cn){for(let $n of Cn.effects)$n.is(setSearchQuery)?Pn=new SearchState($n.value.create(),Pn.panel):$n.is(togglePanel$1)&&(Pn=new SearchState(Pn.query,$n.value?createSearchPanel:null));return Pn},provide:Pn=>showPanel.from(Pn,Cn=>Cn.panel)});class SearchState{constructor(Cn,$n){this.query=Cn,this.panel=$n}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.decorations=this.highlight(Pn.state.field(searchState))}update(Pn){let Cn=Pn.state.field(searchState);(Cn!=Pn.startState.field(searchState)||Pn.docChanged||Pn.selectionSet||Pn.viewportChanged)&&(this.decorations=this.highlight(Cn))}highlight({query:Pn,panel:Cn}){if(!Cn||!Pn.spec.valid)return Decoration.none;let{view:$n}=this,_n=new RangeSetBuilder;for(let Rn=0,Bn=$n.visibleRanges,Ln=Bn.length;Rn<Ln;Rn++){let{from:Dn,to:Nn}=Bn[Rn];for(;Rn<Ln-1&&Nn>Bn[Rn+1].from-2*250;)Nn=Bn[++Rn].to;Pn.highlight($n.state,Dn,Nn,(Fn,Wn)=>{let zn=$n.state.selection.ranges.some(Yn=>Yn.from==Fn&&Yn.to==Wn);_n.add(Fn,Wn,zn?selectedMatchMark:matchMark)})}return _n.finish()}},{decorations:Pn=>Pn.decorations});function searchCommand(Pn){return Cn=>{let $n=Cn.state.field(searchState,!1);return $n&&$n.query.spec.valid?Pn(Cn,$n):openSearchPanel(Cn)}}const findNext=searchCommand((Pn,{query:Cn})=>{let{to:$n}=Pn.state.selection.main,_n=Cn.nextMatch(Pn.state,$n,$n);if(!_n)return!1;let Rn=EditorSelection.single(_n.from,_n.to),Bn=Pn.state.facet(searchConfigFacet);return Pn.dispatch({selection:Rn,effects:[announceMatch(Pn,_n),Bn.scrollToMatch(Rn.main,Pn)],userEvent:"select.search"}),selectSearchInput(Pn),!0}),findPrevious=searchCommand((Pn,{query:Cn})=>{let{state:$n}=Pn,{from:_n}=$n.selection.main,Rn=Cn.prevMatch($n,_n,_n);if(!Rn)return!1;let Bn=EditorSelection.single(Rn.from,Rn.to),Ln=Pn.state.facet(searchConfigFacet);return Pn.dispatch({selection:Bn,effects:[announceMatch(Pn,Rn),Ln.scrollToMatch(Bn.main,Pn)],userEvent:"select.search"}),selectSearchInput(Pn),!0}),selectMatches=searchCommand((Pn,{query:Cn})=>{let $n=Cn.matchAll(Pn.state,1e3);return!$n||!$n.length?!1:(Pn.dispatch({selection:EditorSelection.create($n.map(_n=>EditorSelection.range(_n.from,_n.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:Pn,dispatch:Cn})=>{let $n=Pn.selection;if($n.ranges.length>1||$n.main.empty)return!1;let{from:_n,to:Rn}=$n.main,Bn=[],Ln=0;for(let Dn=new SearchCursor(Pn.doc,Pn.sliceDoc(_n,Rn));!Dn.next().done;){if(Bn.length>1e3)return!1;Dn.value.from==_n&&(Ln=Bn.length),Bn.push(EditorSelection.range(Dn.value.from,Dn.value.to))}return Cn(Pn.update({selection:EditorSelection.create(Bn,Ln),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((Pn,{query:Cn})=>{let{state:$n}=Pn,{from:_n,to:Rn}=$n.selection.main;if($n.readOnly)return!1;let Bn=Cn.nextMatch($n,_n,_n);if(!Bn)return!1;let Ln=Bn,Dn=[],Nn,Fn,Wn=[];if(Ln.from==_n&&Ln.to==Rn&&(Fn=$n.toText(Cn.getReplacement(Ln)),Dn.push({from:Ln.from,to:Ln.to,insert:Fn}),Ln=Cn.nextMatch($n,Ln.from,Ln.to),Wn.push(EditorView.announce.of($n.phrase("replaced match on line $",$n.doc.lineAt(_n).number)+"."))),Ln){let zn=Dn.length==0||Dn[0].from>=Bn.to?0:Bn.to-Bn.from-Fn.length;Nn=EditorSelection.single(Ln.from-zn,Ln.to-zn),Wn.push(announceMatch(Pn,Ln)),Wn.push($n.facet(searchConfigFacet).scrollToMatch(Nn.main,Pn))}return Pn.dispatch({changes:Dn,selection:Nn,effects:Wn,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((Pn,{query:Cn})=>{if(Pn.state.readOnly)return!1;let $n=Cn.matchAll(Pn.state,1e9).map(Rn=>{let{from:Bn,to:Ln}=Rn;return{from:Bn,to:Ln,insert:Cn.getReplacement(Rn)}});if(!$n.length)return!1;let _n=Pn.state.phrase("replaced $ matches",$n.length)+".";return Pn.dispatch({changes:$n,effects:EditorView.announce.of(_n),userEvent:"input.replace.all"}),!0});function createSearchPanel(Pn){return Pn.state.facet(searchConfigFacet).createPanel(Pn)}function defaultQuery(Pn,Cn){var $n,_n,Rn,Bn,Ln;let Dn=Pn.selection.main,Nn=Dn.empty||Dn.to>Dn.from+100?"":Pn.sliceDoc(Dn.from,Dn.to);if(Cn&&!Nn)return Cn;let Fn=Pn.facet(searchConfigFacet);return new SearchQuery({search:(($n=Cn==null?void 0:Cn.literal)!==null&&$n!==void 0?$n:Fn.literal)?Nn:Nn.replace(/\n/g,"\\n"),caseSensitive:(_n=Cn==null?void 0:Cn.caseSensitive)!==null&&_n!==void 0?_n:Fn.caseSensitive,literal:(Rn=Cn==null?void 0:Cn.literal)!==null&&Rn!==void 0?Rn:Fn.literal,regexp:(Bn=Cn==null?void 0:Cn.regexp)!==null&&Bn!==void 0?Bn:Fn.regexp,wholeWord:(Ln=Cn==null?void 0:Cn.wholeWord)!==null&&Ln!==void 0?Ln:Fn.wholeWord})}function getSearchInput(Pn){let Cn=getPanel(Pn,createSearchPanel);return Cn&&Cn.dom.querySelector("[main-field]")}function selectSearchInput(Pn){let Cn=getSearchInput(Pn);Cn&&Cn==Pn.root.activeElement&&Cn.select()}const openSearchPanel=Pn=>{let Cn=Pn.state.field(searchState,!1);if(Cn&&Cn.panel){let $n=getSearchInput(Pn);if($n&&$n!=Pn.root.activeElement){let _n=defaultQuery(Pn.state,Cn.query.spec);_n.valid&&Pn.dispatch({effects:setSearchQuery.of(_n)}),$n.focus(),$n.select()}}else Pn.dispatch({effects:[togglePanel$1.of(!0),Cn?setSearchQuery.of(defaultQuery(Pn.state,Cn.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=Pn=>{let Cn=Pn.state.field(searchState,!1);if(!Cn||!Cn.panel)return!1;let $n=getPanel(Pn,createSearchPanel);return $n&&$n.dom.contains(Pn.root.activeElement)&&Pn.focus(),Pn.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(Cn){this.view=Cn;let $n=this.query=Cn.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:$n.search,placeholder:phrase(Cn,"Find"),"aria-label":phrase(Cn,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:$n.replace,placeholder:phrase(Cn,"Replace"),"aria-label":phrase(Cn,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:$n.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:$n.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:$n.wholeWord,onchange:this.commit});function _n(Rn,Bn,Ln){return crelt("button",{class:"cm-button",name:Rn,onclick:Bn,type:"button"},Ln)}this.dom=crelt("div",{onkeydown:Rn=>this.keydown(Rn),class:"cm-search"},[this.searchField,_n("next",()=>findNext(Cn),[phrase(Cn,"next")]),_n("prev",()=>findPrevious(Cn),[phrase(Cn,"previous")]),_n("select",()=>selectMatches(Cn),[phrase(Cn,"all")]),crelt("label",null,[this.caseField,phrase(Cn,"match case")]),crelt("label",null,[this.reField,phrase(Cn,"regexp")]),crelt("label",null,[this.wordField,phrase(Cn,"by word")]),...Cn.state.readOnly?[]:[crelt("br"),this.replaceField,_n("replace",()=>replaceNext(Cn),[phrase(Cn,"replace")]),_n("replaceAll",()=>replaceAll(Cn),[phrase(Cn,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(Cn),"aria-label":phrase(Cn,"close"),type:"button"},[""])])}commit(){let Cn=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});Cn.eq(this.query)||(this.query=Cn,this.view.dispatch({effects:setSearchQuery.of(Cn)}))}keydown(Cn){runScopeHandlers(this.view,Cn,"search-panel")?Cn.preventDefault():Cn.keyCode==13&&Cn.target==this.searchField?(Cn.preventDefault(),(Cn.shiftKey?findPrevious:findNext)(this.view)):Cn.keyCode==13&&Cn.target==this.replaceField&&(Cn.preventDefault(),replaceNext(this.view))}update(Cn){for(let $n of Cn.transactions)for(let _n of $n.effects)_n.is(setSearchQuery)&&!_n.value.eq(this.query)&&this.setQuery(_n.value)}setQuery(Cn){this.query=Cn,this.searchField.value=Cn.search,this.replaceField.value=Cn.replace,this.caseField.checked=Cn.caseSensitive,this.reField.checked=Cn.regexp,this.wordField.checked=Cn.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(Pn,Cn){return Pn.state.phrase(Cn)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(Pn,{from:Cn,to:$n}){let _n=Pn.state.doc.lineAt(Cn),Rn=Pn.state.doc.lineAt($n).to,Bn=Math.max(_n.from,Cn-AnnounceMargin),Ln=Math.min(Rn,$n+AnnounceMargin),Dn=Pn.state.sliceDoc(Bn,Ln);if(Bn!=_n.from){for(let Nn=0;Nn<AnnounceMargin;Nn++)if(!Break.test(Dn[Nn+1])&&Break.test(Dn[Nn])){Dn=Dn.slice(Nn);break}}if(Ln!=Rn){for(let Nn=Dn.length-1;Nn>Dn.length-AnnounceMargin;Nn--)if(!Break.test(Dn[Nn-1])&&Break.test(Dn[Nn])){Dn=Dn.slice(0,Nn);break}}return EditorView.announce.of(`${Pn.state.phrase("current match")}. ${Dn} ${Pn.state.phrase("on line")} ${_n.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(Cn,$n,_n,Rn){this.state=Cn,this.pos=$n,this.explicit=_n,this.view=Rn,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(Cn){let $n=syntaxTree(this.state).resolveInner(this.pos,-1);for(;$n&&Cn.indexOf($n.name)<0;)$n=$n.parent;return $n?{from:$n.from,to:this.pos,text:this.state.sliceDoc($n.from,this.pos),type:$n.type}:null}matchBefore(Cn){let $n=this.state.doc.lineAt(this.pos),_n=Math.max($n.from,this.pos-250),Rn=$n.text.slice(_n-$n.from,this.pos-$n.from),Bn=Rn.search(ensureAnchor(Cn,!1));return Bn<0?null:{from:_n+Bn,to:this.pos,text:Rn.slice(Bn)}}get aborted(){return this.abortListeners==null}addEventListener(Cn,$n,_n){Cn=="abort"&&this.abortListeners&&(this.abortListeners.push($n),_n&&_n.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(Pn){let Cn=Object.keys(Pn).join(""),$n=/\w/.test(Cn);return $n&&(Cn=Cn.replace(/\w/g,"")),`[${$n?"\\w":""}${Cn.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(Pn){let Cn=Object.create(null),$n=Object.create(null);for(let{label:Rn}of Pn){Cn[Rn[0]]=!0;for(let Bn=1;Bn<Rn.length;Bn++)$n[Rn[Bn]]=!0}let _n=toSet(Cn)+toSet($n)+"*$";return[new RegExp("^"+_n),new RegExp(_n)]}function completeFromList(Pn){let Cn=Pn.map(Rn=>typeof Rn=="string"?{label:Rn}:Rn),[$n,_n]=Cn.every(Rn=>/^\w+$/.test(Rn.label))?[/\w*$/,/\w+$/]:prefixMatch(Cn);return Rn=>{let Bn=Rn.matchBefore(_n);return Bn||Rn.explicit?{from:Bn?Bn.from:Rn.pos,options:Cn,validFor:$n}:null}}function ifNotIn(Pn,Cn){return $n=>{for(let _n=syntaxTree($n.state).resolveInner($n.pos,-1);_n;_n=_n.parent){if(Pn.indexOf(_n.name)>-1)return null;if(_n.type.isTop)break}return Cn($n)}}class Option{constructor(Cn,$n,_n,Rn){this.completion=Cn,this.source=$n,this.match=_n,this.score=Rn}}function cur(Pn){return Pn.selection.main.from}function ensureAnchor(Pn,Cn){var $n;let{source:_n}=Pn,Rn=Cn&&_n[0]!="^",Bn=_n[_n.length-1]!="$";return!Rn&&!Bn?Pn:new RegExp(`${Rn?"^":""}(?:${_n})${Bn?"$":""}`,($n=Pn.flags)!==null&&$n!==void 0?$n:Pn.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(Pn,Cn,$n,_n){let{main:Rn}=Pn.selection,Bn=$n-Rn.from,Ln=_n-Rn.from;return Object.assign(Object.assign({},Pn.changeByRange(Dn=>{if(Dn!=Rn&&$n!=_n&&Pn.sliceDoc(Dn.from+Bn,Dn.from+Ln)!=Pn.sliceDoc($n,_n))return{range:Dn};let Nn=Pn.toText(Cn);return{changes:{from:Dn.from+Bn,to:_n==Rn.from?Dn.to:Dn.from+Ln,insert:Nn},range:EditorSelection.cursor(Dn.from+Bn+Nn.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(Pn){if(!Array.isArray(Pn))return Pn;let Cn=SourceCache.get(Pn);return Cn||SourceCache.set(Pn,Cn=completeFromList(Pn)),Cn}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(Cn){this.pattern=Cn,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let $n=0;$n<Cn.length;){let _n=codePointAt(Cn,$n),Rn=codePointSize(_n);this.chars.push(_n);let Bn=Cn.slice($n,$n+Rn),Ln=Bn.toUpperCase();this.folded.push(codePointAt(Ln==Bn?Bn.toLowerCase():Ln,0)),$n+=Rn}this.astral=Cn.length!=this.chars.length}ret(Cn,$n){return this.score=Cn,this.matched=$n,this}match(Cn){if(this.pattern.length==0)return this.ret(-100,[]);if(Cn.length<this.pattern.length)return null;let{chars:$n,folded:_n,any:Rn,precise:Bn,byWord:Ln}=this;if($n.length==1){let ai=codePointAt(Cn,0),fi=codePointSize(ai),ui=fi==Cn.length?0:-100;if(ai!=$n[0])if(ai==_n[0])ui+=-200;else return null;return this.ret(ui,[0,fi])}let Dn=Cn.indexOf(this.pattern);if(Dn==0)return this.ret(Cn.length==this.pattern.length?0:-100,[0,this.pattern.length]);let Nn=$n.length,Fn=0;if(Dn<0){for(let ai=0,fi=Math.min(Cn.length,200);ai<fi&&Fn<Nn;){let ui=codePointAt(Cn,ai);(ui==$n[Fn]||ui==_n[Fn])&&(Rn[Fn++]=ai),ai+=codePointSize(ui)}if(Fn<Nn)return null}let Wn=0,zn=0,Yn=!1,Gn=0,ei=-1,ti=-1,ii=/[a-z]/.test(Cn),oi=!0;for(let ai=0,fi=Math.min(Cn.length,200),ui=0;ai<fi&&zn<Nn;){let di=codePointAt(Cn,ai);Dn<0&&(Wn<Nn&&di==$n[Wn]&&(Bn[Wn++]=ai),Gn<Nn&&(di==$n[Gn]||di==_n[Gn]?(Gn==0&&(ei=ai),ti=ai+1,Gn++):Gn=0));let yi,mi=di<255?di>=48&&di<=57||di>=97&&di<=122?2:di>=65&&di<=90?1:0:(yi=fromCodePoint(di))!=yi.toLowerCase()?1:yi!=yi.toUpperCase()?2:0;(!ai||mi==1&&ii||ui==0&&mi!=0)&&($n[zn]==di||_n[zn]==di&&(Yn=!0)?Ln[zn++]=ai:Ln.length&&(oi=!1)),ui=mi,ai+=codePointSize(di)}return zn==Nn&&Ln[0]==0&&oi?this.result(-100+(Yn?-200:0),Ln,Cn):Gn==Nn&&ei==0?this.ret(-200-Cn.length+(ti==Cn.length?0:-100),[0,ti]):Dn>-1?this.ret(-700-Cn.length,[Dn,Dn+this.pattern.length]):Gn==Nn?this.ret(-900-Cn.length,[ei,ti]):zn==Nn?this.result(-100+(Yn?-200:0)+-700+(oi?0:-1100),Ln,Cn):$n.length==2?null:this.result((Rn[0]?-700:0)+-200+-1100,Rn,Cn)}result(Cn,$n,_n){let Rn=[],Bn=0;for(let Ln of $n){let Dn=Ln+(this.astral?codePointSize(codePointAt(_n,Ln)):1);Bn&&Rn[Bn-1]==Ln?Rn[Bn-1]=Dn:(Rn[Bn++]=Ln,Rn[Bn++]=Dn)}return this.ret(Cn-_n.length,Rn)}}class StrictMatcher{constructor(Cn){this.pattern=Cn,this.matched=[],this.score=0,this.folded=Cn.toLowerCase()}match(Cn){if(Cn.length<this.pattern.length)return null;let $n=Cn.slice(0,this.pattern.length),_n=$n==this.pattern?0:$n.toLowerCase()==this.folded?-200:null;return _n==null?null:(this.matched=[0,$n.length],this.score=_n+(Cn.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(Pn){return combineConfig(Pn,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(Cn,$n)=>Cn.label.localeCompare($n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(Cn,$n)=>Cn&&$n,closeOnBlur:(Cn,$n)=>Cn&&$n,icons:(Cn,$n)=>Cn&&$n,tooltipClass:(Cn,$n)=>_n=>joinClass(Cn(_n),$n(_n)),optionClass:(Cn,$n)=>_n=>joinClass(Cn(_n),$n(_n)),addToOptions:(Cn,$n)=>Cn.concat($n),filterStrict:(Cn,$n)=>Cn||$n})}});function joinClass(Pn,Cn){return Pn?Cn?Pn+" "+Cn:Pn:Cn}function defaultPositionInfo(Pn,Cn,$n,_n,Rn,Bn){let Ln=Pn.textDirection==Direction.RTL,Dn=Ln,Nn=!1,Fn="top",Wn,zn,Yn=Cn.left-Rn.left,Gn=Rn.right-Cn.right,ei=_n.right-_n.left,ti=_n.bottom-_n.top;if(Dn&&Yn<Math.min(ei,Gn)?Dn=!1:!Dn&&Gn<Math.min(ei,Yn)&&(Dn=!0),ei<=(Dn?Yn:Gn))Wn=Math.max(Rn.top,Math.min($n.top,Rn.bottom-ti))-Cn.top,zn=Math.min(400,Dn?Yn:Gn);else{Nn=!0,zn=Math.min(400,(Ln?Cn.right:Rn.right-Cn.left)-30);let ai=Rn.bottom-Cn.bottom;ai>=ti||ai>Cn.top?Wn=$n.bottom-Cn.top:(Fn="bottom",Wn=Cn.bottom-$n.top)}let ii=(Cn.bottom-Cn.top)/Bn.offsetHeight,oi=(Cn.right-Cn.left)/Bn.offsetWidth;return{style:`${Fn}: ${Wn/ii}px; max-width: ${zn/oi}px`,class:"cm-completionInfo-"+(Nn?Ln?"left-narrow":"right-narrow":Dn?"left":"right")}}function optionContent(Pn){let Cn=Pn.addToOptions.slice();return Pn.icons&&Cn.push({render($n){let _n=document.createElement("div");return _n.classList.add("cm-completionIcon"),$n.type&&_n.classList.add(...$n.type.split(/\s+/g).map(Rn=>"cm-completionIcon-"+Rn)),_n.setAttribute("aria-hidden","true"),_n},position:20}),Cn.push({render($n,_n,Rn,Bn){let Ln=document.createElement("span");Ln.className="cm-completionLabel";let Dn=$n.displayLabel||$n.label,Nn=0;for(let Fn=0;Fn<Bn.length;){let Wn=Bn[Fn++],zn=Bn[Fn++];Wn>Nn&&Ln.appendChild(document.createTextNode(Dn.slice(Nn,Wn)));let Yn=Ln.appendChild(document.createElement("span"));Yn.appendChild(document.createTextNode(Dn.slice(Wn,zn))),Yn.className="cm-completionMatchedText",Nn=zn}return Nn<Dn.length&&Ln.appendChild(document.createTextNode(Dn.slice(Nn))),Ln},position:50},{render($n){if(!$n.detail)return null;let _n=document.createElement("span");return _n.className="cm-completionDetail",_n.textContent=$n.detail,_n},position:80}),Cn.sort(($n,_n)=>$n.position-_n.position).map($n=>$n.render)}function rangeAroundSelected(Pn,Cn,$n){if(Pn<=$n)return{from:0,to:Pn};if(Cn<0&&(Cn=0),Cn<=Pn>>1){let Rn=Math.floor(Cn/$n);return{from:Rn*$n,to:(Rn+1)*$n}}let _n=Math.floor((Pn-Cn)/$n);return{from:Pn-(_n+1)*$n,to:Pn-_n*$n}}class CompletionTooltip{constructor(Cn,$n,_n){this.view=Cn,this.stateField=$n,this.applyCompletion=_n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:Nn=>this.placeInfo(Nn),key:this},this.space=null,this.currentClass="";let Rn=Cn.state.field($n),{options:Bn,selected:Ln}=Rn.open,Dn=Cn.state.facet(completionConfig);this.optionContent=optionContent(Dn),this.optionClass=Dn.optionClass,this.tooltipClass=Dn.tooltipClass,this.range=rangeAroundSelected(Bn.length,Ln,Dn.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Cn.state),this.dom.addEventListener("mousedown",Nn=>{let{options:Fn}=Cn.state.field($n).open;for(let Wn=Nn.target,zn;Wn&&Wn!=this.dom;Wn=Wn.parentNode)if(Wn.nodeName=="LI"&&(zn=/-(\d+)$/.exec(Wn.id))&&+zn[1]<Fn.length){this.applyCompletion(Cn,Fn[+zn[1]]),Nn.preventDefault();return}}),this.dom.addEventListener("focusout",Nn=>{let Fn=Cn.state.field(this.stateField,!1);Fn&&Fn.tooltip&&Cn.state.facet(completionConfig).closeOnBlur&&Nn.relatedTarget!=Cn.contentDOM&&Cn.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(Bn,Rn.id)}mount(){this.updateSel()}showOptions(Cn,$n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(Cn,$n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(Cn){var $n;let _n=Cn.state.field(this.stateField),Rn=Cn.startState.field(this.stateField);if(this.updateTooltipClass(Cn.state),_n!=Rn){let{options:Bn,selected:Ln,disabled:Dn}=_n.open;(!Rn.open||Rn.open.options!=Bn)&&(this.range=rangeAroundSelected(Bn.length,Ln,Cn.state.facet(completionConfig).maxRenderedOptions),this.showOptions(Bn,_n.id)),this.updateSel(),Dn!=(($n=Rn.open)===null||$n===void 0?void 0:$n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Dn)}}updateTooltipClass(Cn){let $n=this.tooltipClass(Cn);if($n!=this.currentClass){for(let _n of this.currentClass.split(" "))_n&&this.dom.classList.remove(_n);for(let _n of $n.split(" "))_n&&this.dom.classList.add(_n);this.currentClass=$n}}positioned(Cn){this.space=Cn,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Cn=this.view.state.field(this.stateField),$n=Cn.open;if(($n.selected>-1&&$n.selected<this.range.from||$n.selected>=this.range.to)&&(this.range=rangeAroundSelected($n.options.length,$n.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions($n.options,Cn.id)),this.updateSelectedOption($n.selected)){this.destroyInfo();let{completion:_n}=$n.options[$n.selected],{info:Rn}=_n;if(!Rn)return;let Bn=typeof Rn=="string"?document.createTextNode(Rn):Rn(_n);if(!Bn)return;"then"in Bn?Bn.then(Ln=>{Ln&&this.view.state.field(this.stateField,!1)==Cn&&this.addInfoPane(Ln,_n)}).catch(Ln=>logException(this.view.state,Ln,"completion info")):this.addInfoPane(Bn,_n)}}addInfoPane(Cn,$n){this.destroyInfo();let _n=this.info=document.createElement("div");if(_n.className="cm-tooltip cm-completionInfo",Cn.nodeType!=null)_n.appendChild(Cn),this.infoDestroy=null;else{let{dom:Rn,destroy:Bn}=Cn;_n.appendChild(Rn),this.infoDestroy=Bn||null}this.dom.appendChild(_n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Cn){let $n=null;for(let _n=this.list.firstChild,Rn=this.range.from;_n;_n=_n.nextSibling,Rn++)_n.nodeName!="LI"||!_n.id?Rn--:Rn==Cn?_n.hasAttribute("aria-selected")||(_n.setAttribute("aria-selected","true"),$n=_n):_n.hasAttribute("aria-selected")&&_n.removeAttribute("aria-selected");return $n&&scrollIntoView(this.list,$n),$n}measureInfo(){let Cn=this.dom.querySelector("[aria-selected]");if(!Cn||!this.info)return null;let $n=this.dom.getBoundingClientRect(),_n=this.info.getBoundingClientRect(),Rn=Cn.getBoundingClientRect(),Bn=this.space;if(!Bn){let Ln=this.dom.ownerDocument.documentElement;Bn={left:0,top:0,right:Ln.clientWidth,bottom:Ln.clientHeight}}return Rn.top>Math.min(Bn.bottom,$n.bottom)-10||Rn.bottom<Math.max(Bn.top,$n.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,$n,Rn,_n,Bn,this.dom)}placeInfo(Cn){this.info&&(Cn?(Cn.style&&(this.info.style.cssText=Cn.style),this.info.className="cm-tooltip cm-completionInfo "+(Cn.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(Cn,$n,_n){const Rn=document.createElement("ul");Rn.id=$n,Rn.setAttribute("role","listbox"),Rn.setAttribute("aria-expanded","true"),Rn.setAttribute("aria-label",this.view.state.phrase("Completions")),Rn.addEventListener("mousedown",Ln=>{Ln.target==Rn&&Ln.preventDefault()});let Bn=null;for(let Ln=_n.from;Ln<_n.to;Ln++){let{completion:Dn,match:Nn}=Cn[Ln],{section:Fn}=Dn;if(Fn){let Yn=typeof Fn=="string"?Fn:Fn.name;if(Yn!=Bn&&(Ln>_n.from||_n.from==0))if(Bn=Yn,typeof Fn!="string"&&Fn.header)Rn.appendChild(Fn.header(Fn));else{let Gn=Rn.appendChild(document.createElement("completion-section"));Gn.textContent=Yn}}const Wn=Rn.appendChild(document.createElement("li"));Wn.id=$n+"-"+Ln,Wn.setAttribute("role","option");let zn=this.optionClass(Dn);zn&&(Wn.className=zn);for(let Yn of this.optionContent){let Gn=Yn(Dn,this.view.state,this.view,Nn);Gn&&Wn.appendChild(Gn)}}return _n.from&&Rn.classList.add("cm-completionListIncompleteTop"),_n.to<Cn.length&&Rn.classList.add("cm-completionListIncompleteBottom"),Rn}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(Pn,Cn){return $n=>new CompletionTooltip($n,Pn,Cn)}function scrollIntoView(Pn,Cn){let $n=Pn.getBoundingClientRect(),_n=Cn.getBoundingClientRect(),Rn=$n.height/Pn.offsetHeight;_n.top<$n.top?Pn.scrollTop-=($n.top-_n.top)/Rn:_n.bottom>$n.bottom&&(Pn.scrollTop+=(_n.bottom-$n.bottom)/Rn)}function score(Pn){return(Pn.boost||0)*100+(Pn.apply?10:0)+(Pn.info?5:0)+(Pn.type?1:0)}function sortOptions(Pn,Cn){let $n=[],_n=null,Rn=Fn=>{$n.push(Fn);let{section:Wn}=Fn.completion;if(Wn){_n||(_n=[]);let zn=typeof Wn=="string"?Wn:Wn.name;_n.some(Yn=>Yn.name==zn)||_n.push(typeof Wn=="string"?{name:zn}:Wn)}},Bn=Cn.facet(completionConfig);for(let Fn of Pn)if(Fn.hasResult()){let Wn=Fn.result.getMatch;if(Fn.result.filter===!1)for(let zn of Fn.result.options)Rn(new Option(zn,Fn.source,Wn?Wn(zn):[],1e9-$n.length));else{let zn=Cn.sliceDoc(Fn.from,Fn.to),Yn,Gn=Bn.filterStrict?new StrictMatcher(zn):new FuzzyMatcher(zn);for(let ei of Fn.result.options)if(Yn=Gn.match(ei.label)){let ti=ei.displayLabel?Wn?Wn(ei,Yn.matched):[]:Yn.matched;Rn(new Option(ei,Fn.source,ti,Yn.score+(ei.boost||0)))}}}if(_n){let Fn=Object.create(null),Wn=0,zn=(Yn,Gn)=>{var ei,ti;return((ei=Yn.rank)!==null&&ei!==void 0?ei:1e9)-((ti=Gn.rank)!==null&&ti!==void 0?ti:1e9)||(Yn.name<Gn.name?-1:1)};for(let Yn of _n.sort(zn))Wn-=1e5,Fn[Yn.name]=Wn;for(let Yn of $n){let{section:Gn}=Yn.completion;Gn&&(Yn.score+=Fn[typeof Gn=="string"?Gn:Gn.name])}}let Ln=[],Dn=null,Nn=Bn.compareCompletions;for(let Fn of $n.sort((Wn,zn)=>zn.score-Wn.score||Nn(Wn.completion,zn.completion))){let Wn=Fn.completion;!Dn||Dn.label!=Wn.label||Dn.detail!=Wn.detail||Dn.type!=null&&Wn.type!=null&&Dn.type!=Wn.type||Dn.apply!=Wn.apply||Dn.boost!=Wn.boost?Ln.push(Fn):score(Fn.completion)>score(Dn)&&(Ln[Ln.length-1]=Fn),Dn=Fn.completion}return Ln}class CompletionDialog{constructor(Cn,$n,_n,Rn,Bn,Ln){this.options=Cn,this.attrs=$n,this.tooltip=_n,this.timestamp=Rn,this.selected=Bn,this.disabled=Ln}setSelected(Cn,$n){return Cn==this.selected||Cn>=this.options.length?this:new CompletionDialog(this.options,makeAttrs($n,Cn),this.tooltip,this.timestamp,Cn,this.disabled)}static build(Cn,$n,_n,Rn,Bn,Ln){if(Rn&&!Ln&&Cn.some(Fn=>Fn.isPending))return Rn.setDisabled();let Dn=sortOptions(Cn,$n);if(!Dn.length)return Rn&&Cn.some(Fn=>Fn.isPending)?Rn.setDisabled():null;let Nn=$n.facet(completionConfig).selectOnOpen?0:-1;if(Rn&&Rn.selected!=Nn&&Rn.selected!=-1){let Fn=Rn.options[Rn.selected].completion;for(let Wn=0;Wn<Dn.length;Wn++)if(Dn[Wn].completion==Fn){Nn=Wn;break}}return new CompletionDialog(Dn,makeAttrs(_n,Nn),{pos:Cn.reduce((Fn,Wn)=>Wn.hasResult()?Math.min(Fn,Wn.from):Fn,1e8),create:createTooltip,above:Bn.aboveCursor},Rn?Rn.timestamp:Date.now(),Nn,!1)}map(Cn){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:Cn.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(Cn,$n,_n){this.active=Cn,this.id=$n,this.open=_n}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(Cn){let{state:$n}=Cn,_n=$n.facet(completionConfig),Bn=(_n.override||$n.languageDataAt("autocomplete",cur($n)).map(asSource)).map(Nn=>(this.active.find(Wn=>Wn.source==Nn)||new ActiveSource(Nn,this.active.some(Wn=>Wn.state!=0)?1:0)).update(Cn,_n));Bn.length==this.active.length&&Bn.every((Nn,Fn)=>Nn==this.active[Fn])&&(Bn=this.active);let Ln=this.open,Dn=Cn.effects.some(Nn=>Nn.is(setActiveEffect));Ln&&Cn.docChanged&&(Ln=Ln.map(Cn.changes)),Cn.selection||Bn.some(Nn=>Nn.hasResult()&&Cn.changes.touchesRange(Nn.from,Nn.to))||!sameResults(Bn,this.active)||Dn?Ln=CompletionDialog.build(Bn,$n,this.id,Ln,_n,Dn):Ln&&Ln.disabled&&!Bn.some(Nn=>Nn.isPending)&&(Ln=null),!Ln&&Bn.every(Nn=>!Nn.isPending)&&Bn.some(Nn=>Nn.hasResult())&&(Bn=Bn.map(Nn=>Nn.hasResult()?new ActiveSource(Nn.source,0):Nn));for(let Nn of Cn.effects)Nn.is(setSelectedEffect)&&(Ln=Ln&&Ln.setSelected(Nn.value,this.id));return Bn==this.active&&Ln==this.open?this:new CompletionState(Bn,this.id,Ln)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(Pn,Cn){if(Pn==Cn)return!0;for(let $n=0,_n=0;;){for(;$n<Pn.length&&!Pn[$n].hasResult();)$n++;for(;_n<Cn.length&&!Cn[_n].hasResult();)_n++;let Rn=$n==Pn.length,Bn=_n==Cn.length;if(Rn||Bn)return Rn==Bn;if(Pn[$n++].result!=Cn[_n++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(Pn,Cn){let $n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":Pn};return Cn>-1&&($n["aria-activedescendant"]=Pn+"-"+Cn),$n}const none=[];function getUpdateType(Pn,Cn){if(Pn.isUserEvent("input.complete")){let _n=Pn.annotation(pickedCompletion);if(_n&&Cn.activateOnCompletion(_n))return 12}let $n=Pn.isUserEvent("input.type");return $n&&Cn.activateOnTyping?5:$n?1:Pn.isUserEvent("delete.backward")?2:Pn.selection?8:Pn.docChanged?16:0}class ActiveSource{constructor(Cn,$n,_n=!1){this.source=Cn,this.state=$n,this.explicit=_n}hasResult(){return!1}get isPending(){return this.state==1}update(Cn,$n){let _n=getUpdateType(Cn,$n),Rn=this;(_n&8||_n&16&&this.touches(Cn))&&(Rn=new ActiveSource(Rn.source,0)),_n&4&&Rn.state==0&&(Rn=new ActiveSource(this.source,1)),Rn=Rn.updateFor(Cn,_n);for(let Bn of Cn.effects)if(Bn.is(startCompletionEffect))Rn=new ActiveSource(Rn.source,1,Bn.value);else if(Bn.is(closeCompletionEffect))Rn=new ActiveSource(Rn.source,0);else if(Bn.is(setActiveEffect))for(let Ln of Bn.value)Ln.source==Rn.source&&(Rn=Ln);return Rn}updateFor(Cn,$n){return this.map(Cn.changes)}map(Cn){return this}touches(Cn){return Cn.changes.touchesRange(cur(Cn.state))}}class ActiveResult extends ActiveSource{constructor(Cn,$n,_n,Rn,Bn,Ln){super(Cn,3,$n),this.limit=_n,this.result=Rn,this.from=Bn,this.to=Ln}hasResult(){return!0}updateFor(Cn,$n){var _n;if(!($n&3))return this.map(Cn.changes);let Rn=this.result;Rn.map&&!Cn.changes.empty&&(Rn=Rn.map(Rn,Cn.changes));let Bn=Cn.changes.mapPos(this.from),Ln=Cn.changes.mapPos(this.to,1),Dn=cur(Cn.state);if(Dn>Ln||!Rn||$n&2&&(cur(Cn.startState)==this.from||Dn<this.limit))return new ActiveSource(this.source,$n&4?1:0);let Nn=Cn.changes.mapPos(this.limit);return checkValid(Rn.validFor,Cn.state,Bn,Ln)?new ActiveResult(this.source,this.explicit,Nn,Rn,Bn,Ln):Rn.update&&(Rn=Rn.update(Rn,Bn,Ln,new CompletionContext(Cn.state,Dn,!1)))?new ActiveResult(this.source,this.explicit,Nn,Rn,Rn.from,(_n=Rn.to)!==null&&_n!==void 0?_n:cur(Cn.state)):new ActiveSource(this.source,1,this.explicit)}map(Cn){return Cn.empty?this:(this.result.map?this.result.map(this.result,Cn):this.result)?new ActiveResult(this.source,this.explicit,Cn.mapPos(this.limit),this.result,Cn.mapPos(this.from),Cn.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(Cn){return Cn.changes.touchesRange(this.from,this.to)}}function checkValid(Pn,Cn,$n,_n){if(!Pn)return!1;let Rn=Cn.sliceDoc($n,_n);return typeof Pn=="function"?Pn(Rn,$n,_n,Cn):ensureAnchor(Pn,!0).test(Rn)}const setActiveEffect=StateEffect.define({map(Pn,Cn){return Pn.map($n=>$n.map(Cn))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(Pn,Cn){return Pn.update(Cn)},provide:Pn=>[showTooltip.from(Pn,Cn=>Cn.tooltip),EditorView.contentAttributes.from(Pn,Cn=>Cn.attrs)]});function applyCompletion(Pn,Cn){const $n=Cn.completion.apply||Cn.completion.label;let _n=Pn.state.field(completionState).active.find(Rn=>Rn.source==Cn.source);return _n instanceof ActiveResult?(typeof $n=="string"?Pn.dispatch(Object.assign(Object.assign({},insertCompletionText(Pn.state,$n,_n.from,_n.to)),{annotations:pickedCompletion.of(Cn.completion)})):$n(Pn,Cn.completion,_n.from,_n.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(Pn,Cn="option"){return $n=>{let _n=$n.state.field(completionState,!1);if(!_n||!_n.open||_n.open.disabled||Date.now()-_n.open.timestamp<$n.state.facet(completionConfig).interactionDelay)return!1;let Rn=1,Bn;Cn=="page"&&(Bn=getTooltip($n,_n.open.tooltip))&&(Rn=Math.max(2,Math.floor(Bn.dom.offsetHeight/Bn.dom.querySelector("li").offsetHeight)-1));let{length:Ln}=_n.open.options,Dn=_n.open.selected>-1?_n.open.selected+Rn*(Pn?1:-1):Pn?0:Ln-1;return Dn<0?Dn=Cn=="page"?0:Ln-1:Dn>=Ln&&(Dn=Cn=="page"?Ln-1:0),$n.dispatch({effects:setSelectedEffect.of(Dn)}),!0}}const acceptCompletion=Pn=>{let Cn=Pn.state.field(completionState,!1);return Pn.state.readOnly||!Cn||!Cn.open||Cn.open.selected<0||Cn.open.disabled||Date.now()-Cn.open.timestamp<Pn.state.facet(completionConfig).interactionDelay?!1:applyCompletion(Pn,Cn.open.options[Cn.open.selected])},startCompletion=Pn=>Pn.state.field(completionState,!1)?(Pn.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=Pn=>{let Cn=Pn.state.field(completionState,!1);return!Cn||!Cn.active.some($n=>$n.state!=0)?!1:(Pn.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(Cn,$n){this.active=Cn,this.context=$n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(Pn){this.view=Pn,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let Cn of Pn.state.field(completionState).active)Cn.isPending&&this.startQuery(Cn)}update(Pn){let Cn=Pn.state.field(completionState),$n=Pn.state.facet(completionConfig);if(!Pn.selectionSet&&!Pn.docChanged&&Pn.startState.field(completionState)==Cn)return;let _n=Pn.transactions.some(Bn=>{let Ln=getUpdateType(Bn,$n);return Ln&8||(Bn.selection||Bn.docChanged)&&!(Ln&3)});for(let Bn=0;Bn<this.running.length;Bn++){let Ln=this.running[Bn];if(_n||Ln.context.abortOnDocChange&&Pn.docChanged||Ln.updates.length+Pn.transactions.length>MaxUpdateCount&&Date.now()-Ln.time>MinAbortTime){for(let Dn of Ln.context.abortListeners)try{Dn()}catch(Nn){logException(this.view.state,Nn)}Ln.context.abortListeners=null,this.running.splice(Bn--,1)}else Ln.updates.push(...Pn.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),Pn.transactions.some(Bn=>Bn.effects.some(Ln=>Ln.is(startCompletionEffect)))&&(this.pendingStart=!0);let Rn=this.pendingStart?50:$n.activateOnTypingDelay;if(this.debounceUpdate=Cn.active.some(Bn=>Bn.isPending&&!this.running.some(Ln=>Ln.active.source==Bn.source))?setTimeout(()=>this.startUpdate(),Rn):-1,this.composing!=0)for(let Bn of Pn.transactions)Bn.isUserEvent("input.type")?this.composing=2:this.composing==2&&Bn.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:Pn}=this.view,Cn=Pn.field(completionState);for(let $n of Cn.active)$n.isPending&&!this.running.some(_n=>_n.active.source==$n.source)&&this.startQuery($n);this.running.length&&Cn.open&&Cn.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(Pn){let{state:Cn}=this.view,$n=cur(Cn),_n=new CompletionContext(Cn,$n,Pn.explicit,this.view),Rn=new RunningQuery(Pn,_n);this.running.push(Rn),Promise.resolve(Pn.source(_n)).then(Bn=>{Rn.context.aborted||(Rn.done=Bn||null,this.scheduleAccept())},Bn=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,Bn)})}scheduleAccept(){this.running.every(Pn=>Pn.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var Pn;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let Cn=[],$n=this.view.state.facet(completionConfig),_n=this.view.state.field(completionState);for(let Rn=0;Rn<this.running.length;Rn++){let Bn=this.running[Rn];if(Bn.done===void 0)continue;if(this.running.splice(Rn--,1),Bn.done){let Dn=cur(Bn.updates.length?Bn.updates[0].startState:this.view.state),Nn=Math.min(Dn,Bn.done.from+(Bn.active.explicit?0:1)),Fn=new ActiveResult(Bn.active.source,Bn.active.explicit,Nn,Bn.done,Bn.done.from,(Pn=Bn.done.to)!==null&&Pn!==void 0?Pn:Dn);for(let Wn of Bn.updates)Fn=Fn.update(Wn,$n);if(Fn.hasResult()){Cn.push(Fn);continue}}let Ln=_n.active.find(Dn=>Dn.source==Bn.active.source);if(Ln&&Ln.isPending)if(Bn.done==null){let Dn=new ActiveSource(Bn.active.source,0);for(let Nn of Bn.updates)Dn=Dn.update(Nn,$n);Dn.isPending||Cn.push(Dn)}else this.startQuery(Ln)}(Cn.length||_n.open&&_n.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(Cn)})}},{eventHandlers:{blur(Pn){let Cn=this.view.state.field(completionState,!1);if(Cn&&Cn.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let $n=Cn.open&&getTooltip(this.view,Cn.open.tooltip);(!$n||!$n.dom.contains(Pn.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(Pn,Cn){let $n=Cn.state.field(completionState,!1);if(!$n||!$n.open||$n.open.disabled||$n.open.selected<0||Pn.key.length>1||Pn.ctrlKey&&!(windows&&Pn.altKey)||Pn.metaKey)return!1;let _n=$n.open.options[$n.open.selected],Rn=$n.active.find(Ln=>Ln.source==_n.source),Bn=_n.completion.commitCharacters||Rn.result.commitCharacters;return Bn&&Bn.indexOf(Pn.key)>-1&&applyCompletion(Cn,_n),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(Cn,$n,_n,Rn){this.field=Cn,this.line=$n,this.from=_n,this.to=Rn}}class FieldRange{constructor(Cn,$n,_n){this.field=Cn,this.from=$n,this.to=_n}map(Cn){let $n=Cn.mapPos(this.from,-1,MapMode.TrackDel),_n=Cn.mapPos(this.to,1,MapMode.TrackDel);return $n==null||_n==null?null:new FieldRange(this.field,$n,_n)}}class Snippet{constructor(Cn,$n){this.lines=Cn,this.fieldPositions=$n}instantiate(Cn,$n){let _n=[],Rn=[$n],Bn=Cn.doc.lineAt($n),Ln=/^\s*/.exec(Bn.text)[0];for(let Nn of this.lines){if(_n.length){let Fn=Ln,Wn=/^\t*/.exec(Nn)[0].length;for(let zn=0;zn<Wn;zn++)Fn+=Cn.facet(indentUnit);Rn.push($n+Fn.length-Wn),Nn=Fn+Nn.slice(Wn)}_n.push(Nn),$n+=Nn.length+1}let Dn=this.fieldPositions.map(Nn=>new FieldRange(Nn.field,Rn[Nn.line]+Nn.from,Rn[Nn.line]+Nn.to));return{text:_n,ranges:Dn}}static parse(Cn){let $n=[],_n=[],Rn=[],Bn;for(let Ln of Cn.split(/\r\n?|\n/)){for(;Bn=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(Ln);){let Dn=Bn[1]?+Bn[1]:null,Nn=Bn[2]||Bn[3]||"",Fn=-1,Wn=Nn.replace(/\\[{}]/g,zn=>zn[1]);for(let zn=0;zn<$n.length;zn++)(Dn!=null?$n[zn].seq==Dn:Wn&&$n[zn].name==Wn)&&(Fn=zn);if(Fn<0){let zn=0;for(;zn<$n.length&&(Dn==null||$n[zn].seq!=null&&$n[zn].seq<Dn);)zn++;$n.splice(zn,0,{seq:Dn,name:Wn}),Fn=zn;for(let Yn of Rn)Yn.field>=Fn&&Yn.field++}Rn.push(new FieldPos(Fn,_n.length,Bn.index,Bn.index+Wn.length)),Ln=Ln.slice(0,Bn.index)+Nn+Ln.slice(Bn.index+Bn[0].length)}Ln=Ln.replace(/\\([{}])/g,(Dn,Nn,Fn)=>{for(let Wn of Rn)Wn.line==_n.length&&Wn.from>Fn&&(Wn.from--,Wn.to--);return Nn}),_n.push(Ln)}return new Snippet(_n,Rn)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let Pn=document.createElement("span");return Pn.className="cm-snippetFieldPosition",Pn}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(Cn,$n){this.ranges=Cn,this.active=$n,this.deco=Decoration.set(Cn.map(_n=>(_n.from==_n.to?fieldMarker:fieldRange).range(_n.from,_n.to)))}map(Cn){let $n=[];for(let _n of this.ranges){let Rn=_n.map(Cn);if(!Rn)return null;$n.push(Rn)}return new ActiveSnippet($n,this.active)}selectionInsideField(Cn){return Cn.ranges.every($n=>this.ranges.some(_n=>_n.field==this.active&&_n.from<=$n.from&&_n.to>=$n.to))}}const setActive=StateEffect.define({map(Pn,Cn){return Pn&&Pn.map(Cn)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(Pn,Cn){for(let $n of Cn.effects){if($n.is(setActive))return $n.value;if($n.is(moveToField)&&Pn)return new ActiveSnippet(Pn.ranges,$n.value)}return Pn&&Cn.docChanged&&(Pn=Pn.map(Cn.changes)),Pn&&Cn.selection&&!Pn.selectionInsideField(Cn.selection)&&(Pn=null),Pn},provide:Pn=>EditorView.decorations.from(Pn,Cn=>Cn?Cn.deco:Decoration.none)});function fieldSelection(Pn,Cn){return EditorSelection.create(Pn.filter($n=>$n.field==Cn).map($n=>EditorSelection.range($n.from,$n.to)))}function snippet(Pn){let Cn=Snippet.parse(Pn);return($n,_n,Rn,Bn)=>{let{text:Ln,ranges:Dn}=Cn.instantiate($n.state,Rn),{main:Nn}=$n.state.selection,Fn={changes:{from:Rn,to:Bn==Nn.from?Nn.to:Bn,insert:Text.of(Ln)},scrollIntoView:!0,annotations:_n?[pickedCompletion.of(_n),Transaction.userEvent.of("input.complete")]:void 0};if(Dn.length&&(Fn.selection=fieldSelection(Dn,0)),Dn.some(Wn=>Wn.field>0)){let Wn=new ActiveSnippet(Dn,0),zn=Fn.effects=[setActive.of(Wn)];$n.state.field(snippetState,!1)===void 0&&zn.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}$n.dispatch($n.state.update(Fn))}}function moveField(Pn){return({state:Cn,dispatch:$n})=>{let _n=Cn.field(snippetState,!1);if(!_n||Pn<0&&_n.active==0)return!1;let Rn=_n.active+Pn,Bn=Pn>0&&!_n.ranges.some(Ln=>Ln.field==Rn+Pn);return $n(Cn.update({selection:fieldSelection(_n.ranges,Rn),effects:setActive.of(Bn?null:new ActiveSnippet(_n.ranges,Rn)),scrollIntoView:!0})),!0}}const clearSnippet=({state:Pn,dispatch:Cn})=>Pn.field(snippetState,!1)?(Cn(Pn.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(Pn){return Pn.length?Pn[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],Pn=>Pn.facet(snippetKeymap)));function snippetCompletion(Pn,Cn){return Object.assign(Object.assign({},Cn),{apply:snippet(Pn)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(Pn,Cn){let $n=Cn.state.field(snippetState,!1),_n;if(!$n||(_n=Cn.posAtCoords({x:Pn.clientX,y:Pn.clientY}))==null)return!1;let Rn=$n.ranges.find(Bn=>Bn.from<=_n&&Bn.to>=_n);return!Rn||Rn.field==$n.active?!1:(Cn.dispatch({selection:fieldSelection($n.ranges,Rn.field),effects:setActive.of($n.ranges.some(Bn=>Bn.field>Rn.field)?new ActiveSnippet($n.ranges,Rn.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(Pn,Cn){let $n=Cn.mapPos(Pn,-1,MapMode.TrackAfter);return $n??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(Pn,Cn){if(Pn=Pn.map(Cn.changes),Cn.selection){let $n=Cn.state.doc.lineAt(Cn.selection.main.head);Pn=Pn.update({filter:_n=>_n>=$n.from&&_n<=$n.to})}for(let $n of Cn.effects)$n.is(closeBracketEffect)&&(Pn=Pn.update({add:[closedBracket.range($n.value,$n.value+1)]}));return Pn}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(Pn){for(let Cn=0;Cn<definedClosing.length;Cn+=2)if(definedClosing.charCodeAt(Cn)==Pn)return definedClosing.charAt(Cn+1);return fromCodePoint(Pn<128?Pn:Pn+1)}function config(Pn,Cn){return Pn.languageDataAt("closeBrackets",Cn)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((Pn,Cn,$n,_n)=>{if((android$1?Pn.composing:Pn.compositionStarted)||Pn.state.readOnly)return!1;let Rn=Pn.state.selection.main;if(_n.length>2||_n.length==2&&codePointSize(codePointAt(_n,0))==1||Cn!=Rn.from||$n!=Rn.to)return!1;let Bn=insertBracket(Pn.state,_n);return Bn?(Pn.dispatch(Bn),!0):!1}),deleteBracketPair=({state:Pn,dispatch:Cn})=>{if(Pn.readOnly)return!1;let _n=config(Pn,Pn.selection.main.head).brackets||defaults.brackets,Rn=null,Bn=Pn.changeByRange(Ln=>{if(Ln.empty){let Dn=prevChar(Pn.doc,Ln.head);for(let Nn of _n)if(Nn==Dn&&nextChar(Pn.doc,Ln.head)==closing(codePointAt(Nn,0)))return{changes:{from:Ln.head-Nn.length,to:Ln.head+Nn.length},range:EditorSelection.cursor(Ln.head-Nn.length)}}return{range:Rn=Ln}});return Rn||Cn(Pn.update(Bn,{scrollIntoView:!0,userEvent:"delete.backward"})),!Rn},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(Pn,Cn){let $n=config(Pn,Pn.selection.main.head),_n=$n.brackets||defaults.brackets;for(let Rn of _n){let Bn=closing(codePointAt(Rn,0));if(Cn==Rn)return Bn==Rn?handleSame(Pn,Rn,_n.indexOf(Rn+Rn+Rn)>-1,$n):handleOpen(Pn,Rn,Bn,$n.before||defaults.before);if(Cn==Bn&&closedBracketAt(Pn,Pn.selection.main.from))return handleClose(Pn,Rn,Bn)}return null}function closedBracketAt(Pn,Cn){let $n=!1;return Pn.field(bracketState).between(0,Pn.doc.length,_n=>{_n==Cn&&($n=!0)}),$n}function nextChar(Pn,Cn){let $n=Pn.sliceString(Cn,Cn+2);return $n.slice(0,codePointSize(codePointAt($n,0)))}function prevChar(Pn,Cn){let $n=Pn.sliceString(Cn-2,Cn);return codePointSize(codePointAt($n,0))==$n.length?$n:$n.slice(1)}function handleOpen(Pn,Cn,$n,_n){let Rn=null,Bn=Pn.changeByRange(Ln=>{if(!Ln.empty)return{changes:[{insert:Cn,from:Ln.from},{insert:$n,from:Ln.to}],effects:closeBracketEffect.of(Ln.to+Cn.length),range:EditorSelection.range(Ln.anchor+Cn.length,Ln.head+Cn.length)};let Dn=nextChar(Pn.doc,Ln.head);return!Dn||/\s/.test(Dn)||_n.indexOf(Dn)>-1?{changes:{insert:Cn+$n,from:Ln.head},effects:closeBracketEffect.of(Ln.head+Cn.length),range:EditorSelection.cursor(Ln.head+Cn.length)}:{range:Rn=Ln}});return Rn?null:Pn.update(Bn,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(Pn,Cn,$n){let _n=null,Rn=Pn.changeByRange(Bn=>Bn.empty&&nextChar(Pn.doc,Bn.head)==$n?{changes:{from:Bn.head,to:Bn.head+$n.length,insert:$n},range:EditorSelection.cursor(Bn.head+$n.length)}:_n={range:Bn});return _n?null:Pn.update(Rn,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(Pn,Cn,$n,_n){let Rn=_n.stringPrefixes||defaults.stringPrefixes,Bn=null,Ln=Pn.changeByRange(Dn=>{if(!Dn.empty)return{changes:[{insert:Cn,from:Dn.from},{insert:Cn,from:Dn.to}],effects:closeBracketEffect.of(Dn.to+Cn.length),range:EditorSelection.range(Dn.anchor+Cn.length,Dn.head+Cn.length)};let Nn=Dn.head,Fn=nextChar(Pn.doc,Nn),Wn;if(Fn==Cn){if(nodeStart(Pn,Nn))return{changes:{insert:Cn+Cn,from:Nn},effects:closeBracketEffect.of(Nn+Cn.length),range:EditorSelection.cursor(Nn+Cn.length)};if(closedBracketAt(Pn,Nn)){let Yn=$n&&Pn.sliceDoc(Nn,Nn+Cn.length*3)==Cn+Cn+Cn?Cn+Cn+Cn:Cn;return{changes:{from:Nn,to:Nn+Yn.length,insert:Yn},range:EditorSelection.cursor(Nn+Yn.length)}}}else{if($n&&Pn.sliceDoc(Nn-2*Cn.length,Nn)==Cn+Cn&&(Wn=canStartStringAt(Pn,Nn-2*Cn.length,Rn))>-1&&nodeStart(Pn,Wn))return{changes:{insert:Cn+Cn+Cn+Cn,from:Nn},effects:closeBracketEffect.of(Nn+Cn.length),range:EditorSelection.cursor(Nn+Cn.length)};if(Pn.charCategorizer(Nn)(Fn)!=CharCategory.Word&&canStartStringAt(Pn,Nn,Rn)>-1&&!probablyInString(Pn,Nn,Cn,Rn))return{changes:{insert:Cn+Cn,from:Nn},effects:closeBracketEffect.of(Nn+Cn.length),range:EditorSelection.cursor(Nn+Cn.length)}}return{range:Bn=Dn}});return Bn?null:Pn.update(Ln,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(Pn,Cn){let $n=syntaxTree(Pn).resolveInner(Cn+1);return $n.parent&&$n.from==Cn}function probablyInString(Pn,Cn,$n,_n){let Rn=syntaxTree(Pn).resolveInner(Cn,-1),Bn=_n.reduce((Ln,Dn)=>Math.max(Ln,Dn.length),0);for(let Ln=0;Ln<5;Ln++){let Dn=Pn.sliceDoc(Rn.from,Math.min(Rn.to,Rn.from+$n.length+Bn)),Nn=Dn.indexOf($n);if(!Nn||Nn>-1&&_n.indexOf(Dn.slice(0,Nn))>-1){let Wn=Rn.firstChild;for(;Wn&&Wn.from==Rn.from&&Wn.to-Wn.from>$n.length+Nn;){if(Pn.sliceDoc(Wn.to-$n.length,Wn.to)==$n)return!1;Wn=Wn.firstChild}return!0}let Fn=Rn.to==Cn&&Rn.parent;if(!Fn)break;Rn=Fn}return!1}function canStartStringAt(Pn,Cn,$n){let _n=Pn.charCategorizer(Cn);if(_n(Pn.sliceDoc(Cn-1,Cn))!=CharCategory.Word)return Cn;for(let Rn of $n){let Bn=Cn-Rn.length;if(Pn.sliceDoc(Bn,Cn)==Rn&&_n(Pn.sliceDoc(Bn-1,Bn))!=CharCategory.Word)return Bn}return-1}function autocompletion(Pn={}){return[commitCharacters,completionState,completionConfig.of(Pn),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],Pn=>Pn.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(Cn,$n,_n){this.from=Cn,this.to=$n,this.diagnostic=_n}}class LintState{constructor(Cn,$n,_n){this.diagnostics=Cn,this.panel=$n,this.selected=_n}static init(Cn,$n,_n){let Rn=_n.facet(lintConfig).markerFilter;Rn&&(Cn=Rn(Cn,_n));let Bn=Cn.slice().sort((Wn,zn)=>Wn.from-zn.from||Wn.to-zn.to),Ln=new RangeSetBuilder,Dn=[],Nn=0;for(let Wn=0;;){let zn=Wn==Bn.length?null:Bn[Wn];if(!zn&&!Dn.length)break;let Yn,Gn;for(Dn.length?(Yn=Nn,Gn=Dn.reduce((ti,ii)=>Math.min(ti,ii.to),zn&&zn.from>Yn?zn.from:1e8)):(Yn=zn.from,Gn=zn.to,Dn.push(zn),Wn++);Wn<Bn.length;){let ti=Bn[Wn];if(ti.from==Yn&&(ti.to>ti.from||ti.to==Yn))Dn.push(ti),Wn++,Gn=Math.min(ti.to,Gn);else{Gn=Math.min(ti.from,Gn);break}}let ei=maxSeverity(Dn);if(Dn.some(ti=>ti.from==ti.to||ti.from==ti.to-1&&_n.doc.lineAt(ti.from).to==ti.from))Ln.add(Yn,Yn,Decoration.widget({widget:new DiagnosticWidget(ei),diagnostics:Dn.slice()}));else{let ti=Dn.reduce((ii,oi)=>oi.markClass?ii+" "+oi.markClass:ii,"");Ln.add(Yn,Gn,Decoration.mark({class:"cm-lintRange cm-lintRange-"+ei+ti,diagnostics:Dn.slice(),inclusiveEnd:Dn.some(ii=>ii.to>Gn)}))}Nn=Gn;for(let ti=0;ti<Dn.length;ti++)Dn[ti].to<=Nn&&Dn.splice(ti--,1)}let Fn=Ln.finish();return new LintState(Fn,$n,findDiagnostic(Fn))}}function findDiagnostic(Pn,Cn=null,$n=0){let _n=null;return Pn.between($n,1e9,(Rn,Bn,{spec:Ln})=>{if(!(Cn&&Ln.diagnostics.indexOf(Cn)<0))if(!_n)_n=new SelectedDiagnostic(Rn,Bn,Cn||Ln.diagnostics[0]);else{if(Ln.diagnostics.indexOf(_n.diagnostic)<0)return!1;_n=new SelectedDiagnostic(_n.from,Bn,_n.diagnostic)}}),_n}function hideTooltip(Pn,Cn){let $n=Cn.pos,_n=Cn.end||$n,Rn=Pn.state.facet(lintConfig).hideOn(Pn,$n,_n);if(Rn!=null)return Rn;let Bn=Pn.startState.doc.lineAt(Cn.pos);return!!(Pn.effects.some(Ln=>Ln.is(setDiagnosticsEffect))||Pn.changes.touchesRange(Bn.from,Math.max(Bn.to,_n)))}function maybeEnableLint(Pn,Cn){return Pn.field(lintState,!1)?Cn:Cn.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(Pn,Cn){if(Cn.docChanged&&Pn.diagnostics.size){let $n=Pn.diagnostics.map(Cn.changes),_n=null,Rn=Pn.panel;if(Pn.selected){let Bn=Cn.changes.mapPos(Pn.selected.from,1);_n=findDiagnostic($n,Pn.selected.diagnostic,Bn)||findDiagnostic($n,null,Bn)}!$n.size&&Rn&&Cn.state.facet(lintConfig).autoPanel&&(Rn=null),Pn=new LintState($n,Rn,_n)}for(let $n of Cn.effects)if($n.is(setDiagnosticsEffect)){let _n=Cn.state.facet(lintConfig).autoPanel?$n.value.length?LintPanel.open:null:Pn.panel;Pn=LintState.init($n.value,_n,Cn.state)}else $n.is(togglePanel)?Pn=new LintState(Pn.diagnostics,$n.value?LintPanel.open:null,Pn.selected):$n.is(movePanelSelection)&&(Pn=new LintState(Pn.diagnostics,Pn.panel,$n.value));return Pn},provide:Pn=>[showPanel.from(Pn,Cn=>Cn.panel),EditorView.decorations.from(Pn,Cn=>Cn.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(Pn,Cn,$n){let{diagnostics:_n}=Pn.state.field(lintState),Rn,Bn=-1,Ln=-1;_n.between(Cn-($n<0?1:0),Cn+($n>0?1:0),(Nn,Fn,{spec:Wn})=>{if(Cn>=Nn&&Cn<=Fn&&(Nn==Fn||(Cn>Nn||$n>0)&&(Cn<Fn||$n<0)))return Rn=Wn.diagnostics,Bn=Nn,Ln=Fn,!1});let Dn=Pn.state.facet(lintConfig).tooltipFilter;return Rn&&Dn&&(Rn=Dn(Rn,Pn.state)),Rn?{pos:Bn,end:Ln,above:Pn.state.doc.lineAt(Bn).to<Ln,create(){return{dom:diagnosticsTooltip(Pn,Rn)}}}:null}function diagnosticsTooltip(Pn,Cn){return crelt("ul",{class:"cm-tooltip-lint"},Cn.map($n=>renderDiagnostic(Pn,$n,!1)))}const openLintPanel=Pn=>{let Cn=Pn.state.field(lintState,!1);(!Cn||!Cn.panel)&&Pn.dispatch({effects:maybeEnableLint(Pn.state,[togglePanel.of(!0)])});let $n=getPanel(Pn,LintPanel.open);return $n&&$n.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=Pn=>{let Cn=Pn.state.field(lintState,!1);return!Cn||!Cn.panel?!1:(Pn.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=Pn=>{let Cn=Pn.state.field(lintState,!1);if(!Cn)return!1;let $n=Pn.state.selection.main,_n=Cn.diagnostics.iter($n.to+1);return!_n.value&&(_n=Cn.diagnostics.iter(0),!_n.value||_n.from==$n.from&&_n.to==$n.to)?!1:(Pn.dispatch({selection:{anchor:_n.from,head:_n.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(Pn){return Object.assign({sources:Pn.map(Cn=>Cn.source).filter(Cn=>Cn!=null)},combineConfig(Pn.map(Cn=>Cn.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(Cn,$n)=>Cn?$n?_n=>Cn(_n)||$n(_n):Cn:$n}))}});function assignKeys(Pn){let Cn=[];if(Pn)e:for(let{name:$n}of Pn){for(let _n=0;_n<$n.length;_n++){let Rn=$n[_n];if(/[a-zA-Z]/.test(Rn)&&!Cn.some(Bn=>Bn.toLowerCase()==Rn.toLowerCase())){Cn.push(Rn);continue e}}Cn.push("")}return Cn}function renderDiagnostic(Pn,Cn,$n){var _n;let Rn=$n?assignKeys(Cn.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+Cn.severity},crelt("span",{class:"cm-diagnosticText"},Cn.renderMessage?Cn.renderMessage(Pn):Cn.message),(_n=Cn.actions)===null||_n===void 0?void 0:_n.map((Bn,Ln)=>{let Dn=!1,Nn=Yn=>{if(Yn.preventDefault(),Dn)return;Dn=!0;let Gn=findDiagnostic(Pn.state.field(lintState).diagnostics,Cn);Gn&&Bn.apply(Pn,Gn.from,Gn.to)},{name:Fn}=Bn,Wn=Rn[Ln]?Fn.indexOf(Rn[Ln]):-1,zn=Wn<0?Fn:[Fn.slice(0,Wn),crelt("u",Fn.slice(Wn,Wn+1)),Fn.slice(Wn+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:Nn,onmousedown:Nn,"aria-label":` Action: ${Fn}${Wn<0?"":` (access key "${Rn[Ln]})"`}.`},zn)}),Cn.source&&crelt("div",{class:"cm-diagnosticSource"},Cn.source))}class DiagnosticWidget extends WidgetType{constructor(Cn){super(),this.sev=Cn}eq(Cn){return Cn.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(Cn,$n){this.diagnostic=$n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(Cn,$n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(Cn){this.view=Cn,this.items=[];let $n=Rn=>{if(Rn.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(Rn.keyCode==38||Rn.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(Rn.keyCode==40||Rn.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(Rn.keyCode==36)this.moveSelection(0);else if(Rn.keyCode==35)this.moveSelection(this.items.length-1);else if(Rn.keyCode==13)this.view.focus();else if(Rn.keyCode>=65&&Rn.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:Bn}=this.items[this.selectedIndex],Ln=assignKeys(Bn.actions);for(let Dn=0;Dn<Ln.length;Dn++)if(Ln[Dn].toUpperCase().charCodeAt(0)==Rn.keyCode){let Nn=findDiagnostic(this.view.state.field(lintState).diagnostics,Bn);Nn&&Bn.actions[Dn].apply(Cn,Nn.from,Nn.to)}}else return;Rn.preventDefault()},_n=Rn=>{for(let Bn=0;Bn<this.items.length;Bn++)this.items[Bn].dom.contains(Rn.target)&&this.moveSelection(Bn)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:$n,onclick:_n}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let Cn=this.view.state.field(lintState).selected;if(!Cn)return-1;for(let $n=0;$n<this.items.length;$n++)if(this.items[$n].diagnostic==Cn.diagnostic)return $n;return-1}update(){let{diagnostics:Cn,selected:$n}=this.view.state.field(lintState),_n=0,Rn=!1,Bn=null,Ln=new Set;for(Cn.between(0,this.view.state.doc.length,(Dn,Nn,{spec:Fn})=>{for(let Wn of Fn.diagnostics){if(Ln.has(Wn))continue;Ln.add(Wn);let zn=-1,Yn;for(let Gn=_n;Gn<this.items.length;Gn++)if(this.items[Gn].diagnostic==Wn){zn=Gn;break}zn<0?(Yn=new PanelItem(this.view,Wn),this.items.splice(_n,0,Yn),Rn=!0):(Yn=this.items[zn],zn>_n&&(this.items.splice(_n,zn-_n),Rn=!0)),$n&&Yn.diagnostic==$n.diagnostic?Yn.dom.hasAttribute("aria-selected")||(Yn.dom.setAttribute("aria-selected","true"),Bn=Yn):Yn.dom.hasAttribute("aria-selected")&&Yn.dom.removeAttribute("aria-selected"),_n++}});_n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)Rn=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),Rn=!0),Bn?(this.list.setAttribute("aria-activedescendant",Bn.id),this.view.requestMeasure({key:this,read:()=>({sel:Bn.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Dn,panel:Nn})=>{let Fn=Nn.height/this.list.offsetHeight;Dn.top<Nn.top?this.list.scrollTop-=(Nn.top-Dn.top)/Fn:Dn.bottom>Nn.bottom&&(this.list.scrollTop+=(Dn.bottom-Nn.bottom)/Fn)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),Rn&&this.sync()}sync(){let Cn=this.list.firstChild;function $n(){let _n=Cn;Cn=_n.nextSibling,_n.remove()}for(let _n of this.items)if(_n.dom.parentNode==this.list){for(;Cn!=_n.dom;)$n();Cn=_n.dom.nextSibling}else this.list.insertBefore(_n.dom,Cn);for(;Cn;)$n()}moveSelection(Cn){if(this.selectedIndex<0)return;let $n=this.view.state.field(lintState),_n=findDiagnostic($n.diagnostics,this.items[Cn].diagnostic);_n&&this.view.dispatch({selection:{anchor:_n.from,head:_n.to},scrollIntoView:!0,effects:movePanelSelection.of(_n)})}static open(Cn){return new LintPanel(Cn)}}function svg(Pn,Cn='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${Cn}>${encodeURIComponent(Pn)}</svg>')`}function underline(Pn){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${Pn}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(Pn){return Pn=="error"?4:Pn=="warning"?3:Pn=="info"?2:1}function maxSeverity(Pn){let Cn="hint",$n=1;for(let _n of Pn){let Rn=severityWeight(_n.severity);Rn>$n&&($n=Rn,Cn=_n.severity)}return Cn}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],Pn=>{let{selected:Cn,panel:$n}=Pn.field(lintState);return!Cn||!$n||Cn.from==Cn.to?Decoration.none:Decoration.set([activeMark.range(Cn.from,Cn.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var h=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[basicSetup]}),y=Symbol("vue-codemirror-global-config"),O,j=function(Pn){var Cn=Pn.onUpdate,$n=Pn.onChange,_n=Pn.onFocus,Rn=Pn.onBlur,Bn=function(Ln,Dn){var Nn={};for(var Fn in Ln)Object.prototype.hasOwnProperty.call(Ln,Fn)&&Dn.indexOf(Fn)<0&&(Nn[Fn]=Ln[Fn]);if(Ln!=null&&typeof Object.getOwnPropertySymbols=="function"){var Wn=0;for(Fn=Object.getOwnPropertySymbols(Ln);Wn<Fn.length;Wn++)Dn.indexOf(Fn[Wn])<0&&Object.prototype.propertyIsEnumerable.call(Ln,Fn[Wn])&&(Nn[Fn[Wn]]=Ln[Fn[Wn]])}return Nn}(Pn,["onUpdate","onChange","onFocus","onBlur"]);return EditorState.create({doc:Bn.doc,selection:Bn.selection,extensions:(Array.isArray(Bn.extensions)?Bn.extensions:[Bn.extensions]).concat([EditorView.updateListener.of(function(Ln){Cn(Ln),Ln.docChanged&&$n(Ln.state.doc.toString(),Ln),Ln.focusChanged&&(Ln.view.hasFocus?_n(Ln):Rn(Ln))})])})},S=function(Pn){var Cn=new Compartment;return{compartment:Cn,run:function($n){Cn.get(Pn.state)?Pn.dispatch({effects:Cn.reconfigure($n)}):Pn.dispatch({effects:StateEffect.appendConfig.of(Cn.of($n))})}}},x=function(Pn,Cn){var $n=S(Pn),_n=$n.compartment,Rn=$n.run;return function(Bn){var Ln=_n.get(Pn.state);Rn(Bn??Ln!==Cn?Cn:[])}},C={type:Boolean,default:void 0},D={autofocus:C,disabled:C,indentWithTab:C,tabSize:Number,placeholder:String,style:Object,autoDestroy:C,phrases:Object,root:Object,extensions:Array,selection:Object},U={modelValue:{type:String,default:""}},w=Object.assign(Object.assign({},D),U);(function(Pn){Pn.Change="change",Pn.Update="update",Pn.Focus="focus",Pn.Blur="blur",Pn.Ready="ready",Pn.ModelUpdate="update:modelValue"})(O||(O={}));var z={};z[O.Change]=function(Pn,Cn){return!0},z[O.Update]=function(Pn){return!0},z[O.Focus]=function(Pn){return!0},z[O.Blur]=function(Pn){return!0},z[O.Ready]=function(Pn){return!0};var B={};B[O.ModelUpdate]=z[O.Change];var F=Object.assign(Object.assign({},z),B),P=defineComponent({name:"VueCodemirror",props:Object.assign({},w),emits:Object.assign({},F),setup:function(Pn,Cn){var $n=shallowRef(),_n=shallowRef(),Rn=shallowRef(),Bn=Object.assign(Object.assign({},h),inject(y,{})),Ln=computed(function(){var Dn={};return Object.keys(toRaw(Pn)).forEach(function(Nn){var Fn;Nn!=="modelValue"&&(Dn[Nn]=(Fn=Pn[Nn])!==null&&Fn!==void 0?Fn:Bn[Nn])}),Dn});return onMounted(function(){var Dn;_n.value=j({doc:Pn.modelValue,selection:Ln.value.selection,extensions:(Dn=Bn.extensions)!==null&&Dn!==void 0?Dn:[],onFocus:function(Fn){return Cn.emit(O.Focus,Fn)},onBlur:function(Fn){return Cn.emit(O.Blur,Fn)},onUpdate:function(Fn){return Cn.emit(O.Update,Fn)},onChange:function(Fn,Wn){Fn!==Pn.modelValue&&(Cn.emit(O.Change,Fn,Wn),Cn.emit(O.ModelUpdate,Fn,Wn))}}),Rn.value=function(Fn){return new EditorView(Object.assign({},Fn))}({state:_n.value,parent:$n.value,root:Ln.value.root});var Nn=function(Fn){var Wn=function(){return Fn.state.doc.toString()},zn=S(Fn).run,Yn=x(Fn,[EditorView.editable.of(!1),EditorState.readOnly.of(!0)]),Gn=x(Fn,keymap.of([indentWithTab])),ei=S(Fn).run,ti=S(Fn).run,ii=S(Fn).run,oi=S(Fn).run;return{focus:function(){return Fn.focus()},getDoc:Wn,setDoc:function(ai){ai!==Wn()&&Fn.dispatch({changes:{from:0,to:Fn.state.doc.length,insert:ai}})},reExtensions:zn,toggleDisabled:Yn,toggleIndentWithTab:Gn,setTabSize:function(ai){ei([EditorState.tabSize.of(ai),indentUnit.of(" ".repeat(ai))])},setPhrases:function(ai){ti([EditorState.phrases.of(ai)])},setPlaceholder:function(ai){ii(placeholder(ai))},setStyle:function(ai){ai===void 0&&(ai={}),oi(EditorView.theme({"&":Object.assign({},ai)}))}}}(Rn.value);watch(function(){return Pn.modelValue},function(Fn){Fn!==Nn.getDoc()&&Nn.setDoc(Fn)}),watch(function(){return Pn.extensions},function(Fn){return Nn.reExtensions(Fn||[])},{immediate:!0}),watch(function(){return Ln.value.disabled},function(Fn){return Nn.toggleDisabled(Fn)},{immediate:!0}),watch(function(){return Ln.value.indentWithTab},function(Fn){return Nn.toggleIndentWithTab(Fn)},{immediate:!0}),watch(function(){return Ln.value.tabSize},function(Fn){return Nn.setTabSize(Fn)},{immediate:!0}),watch(function(){return Ln.value.phrases},function(Fn){return Nn.setPhrases(Fn||{})},{immediate:!0}),watch(function(){return Ln.value.placeholder},function(Fn){return Nn.setPlaceholder(Fn)},{immediate:!0}),watch(function(){return Ln.value.style},function(Fn){return Nn.setStyle(Fn)},{immediate:!0}),Ln.value.autofocus&&Nn.focus(),Cn.emit(O.Ready,{state:_n.value,view:Rn.value,container:$n.value})}),onBeforeUnmount(function(){Ln.value.autoDestroy&&Rn.value&&function(Dn){Dn.destroy()}(Rn.value)}),function(){return h$3("div",{class:"v-codemirror",style:{display:"contents"},ref:$n})}}}),T=P,define_process_env_default={};class Stack{constructor(Cn,$n,_n,Rn,Bn,Ln,Dn,Nn,Fn,Wn=0,zn){this.p=Cn,this.stack=$n,this.state=_n,this.reducePos=Rn,this.pos=Bn,this.score=Ln,this.buffer=Dn,this.bufferBase=Nn,this.curContext=Fn,this.lookAhead=Wn,this.parent=zn}toString(){return`[${this.stack.filter((Cn,$n)=>$n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Cn,$n,_n=0){let Rn=Cn.parser.context;return new Stack(Cn,[],$n,_n,_n,0,[],0,Rn?new StackContext(Rn,Rn.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Cn,$n){this.stack.push(this.state,$n,this.bufferBase+this.buffer.length),this.state=Cn}reduce(Cn){var $n;let _n=Cn>>19,Rn=Cn&65535,{parser:Bn}=this.p,Ln=this.reducePos<this.pos-25;Ln&&this.setLookAhead(this.pos);let Dn=Bn.dynamicPrecedence(Rn);if(Dn&&(this.score+=Dn),_n==0){this.pushState(Bn.getGoto(this.state,Rn,!0),this.reducePos),Rn<Bn.minRepeatTerm&&this.storeNode(Rn,this.reducePos,this.reducePos,Ln?8:4,!0),this.reduceContext(Rn,this.reducePos);return}let Nn=this.stack.length-(_n-1)*3-(Cn&262144?6:0),Fn=Nn?this.stack[Nn-2]:this.p.ranges[0].from,Wn=this.reducePos-Fn;Wn>=2e3&&!(!(($n=this.p.parser.nodeSet.types[Rn])===null||$n===void 0)&&$n.isAnonymous)&&(Fn==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=Wn):this.p.lastBigReductionSize<Wn&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=Fn,this.p.lastBigReductionSize=Wn));let zn=Nn?this.stack[Nn-1]:0,Yn=this.bufferBase+this.buffer.length-zn;if(Rn<Bn.minRepeatTerm||Cn&131072){let Gn=Bn.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(Rn,Fn,Gn,Yn+4,!0)}if(Cn&262144)this.state=this.stack[Nn];else{let Gn=this.stack[Nn-3];this.state=Bn.getGoto(Gn,Rn,!0)}for(;this.stack.length>Nn;)this.stack.pop();this.reduceContext(Rn,Fn)}storeNode(Cn,$n,_n,Rn=4,Bn=!1){if(Cn==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let Ln=this,Dn=this.buffer.length;if(Dn==0&&Ln.parent&&(Dn=Ln.bufferBase-Ln.parent.bufferBase,Ln=Ln.parent),Dn>0&&Ln.buffer[Dn-4]==0&&Ln.buffer[Dn-1]>-1){if($n==_n)return;if(Ln.buffer[Dn-2]>=$n){Ln.buffer[Dn-2]=_n;return}}}if(!Bn||this.pos==_n)this.buffer.push(Cn,$n,_n,Rn);else{let Ln=this.buffer.length;if(Ln>0&&this.buffer[Ln-4]!=0){let Dn=!1;for(let Nn=Ln;Nn>0&&this.buffer[Nn-2]>_n;Nn-=4)if(this.buffer[Nn-1]>=0){Dn=!0;break}if(Dn)for(;Ln>0&&this.buffer[Ln-2]>_n;)this.buffer[Ln]=this.buffer[Ln-4],this.buffer[Ln+1]=this.buffer[Ln-3],this.buffer[Ln+2]=this.buffer[Ln-2],this.buffer[Ln+3]=this.buffer[Ln-1],Ln-=4,Rn>4&&(Rn-=4)}this.buffer[Ln]=Cn,this.buffer[Ln+1]=$n,this.buffer[Ln+2]=_n,this.buffer[Ln+3]=Rn}}shift(Cn,$n,_n,Rn){if(Cn&131072)this.pushState(Cn&65535,this.pos);else if((Cn&262144)==0){let Bn=Cn,{parser:Ln}=this.p;(Rn>this.pos||$n<=Ln.maxNode)&&(this.pos=Rn,Ln.stateFlag(Bn,1)||(this.reducePos=Rn)),this.pushState(Bn,_n),this.shiftContext($n,_n),$n<=Ln.maxNode&&this.buffer.push($n,_n,Rn,4)}else this.pos=Rn,this.shiftContext($n,_n),$n<=this.p.parser.maxNode&&this.buffer.push($n,_n,Rn,4)}apply(Cn,$n,_n,Rn){Cn&65536?this.reduce(Cn):this.shift(Cn,$n,_n,Rn)}useNode(Cn,$n){let _n=this.p.reused.length-1;(_n<0||this.p.reused[_n]!=Cn)&&(this.p.reused.push(Cn),_n++);let Rn=this.pos;this.reducePos=this.pos=Rn+Cn.length,this.pushState($n,Rn),this.buffer.push(_n,Rn,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Cn,this,this.p.stream.reset(this.pos-Cn.length)))}split(){let Cn=this,$n=Cn.buffer.length;for(;$n>0&&Cn.buffer[$n-2]>Cn.reducePos;)$n-=4;let _n=Cn.buffer.slice($n),Rn=Cn.bufferBase+$n;for(;Cn&&Rn==Cn.bufferBase;)Cn=Cn.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,_n,Rn,this.curContext,this.lookAhead,Cn)}recoverByDelete(Cn,$n){let _n=Cn<=this.p.parser.maxNode;_n&&this.storeNode(Cn,this.pos,$n,4),this.storeNode(0,this.pos,$n,_n?8:4),this.pos=this.reducePos=$n,this.score-=190}canShift(Cn){for(let $n=new SimulatedStack(this);;){let _n=this.p.parser.stateSlot($n.state,4)||this.p.parser.hasAction($n.state,Cn);if(_n==0)return!1;if((_n&65536)==0)return!0;$n.reduce(_n)}}recoverByInsert(Cn){if(this.stack.length>=300)return[];let $n=this.p.parser.nextStates(this.state);if($n.length>8||this.stack.length>=120){let Rn=[];for(let Bn=0,Ln;Bn<$n.length;Bn+=2)(Ln=$n[Bn+1])!=this.state&&this.p.parser.hasAction(Ln,Cn)&&Rn.push($n[Bn],Ln);if(this.stack.length<120)for(let Bn=0;Rn.length<8&&Bn<$n.length;Bn+=2){let Ln=$n[Bn+1];Rn.some((Dn,Nn)=>Nn&1&&Dn==Ln)||Rn.push($n[Bn],Ln)}$n=Rn}let _n=[];for(let Rn=0;Rn<$n.length&&_n.length<4;Rn+=2){let Bn=$n[Rn+1];if(Bn==this.state)continue;let Ln=this.split();Ln.pushState(Bn,this.pos),Ln.storeNode(0,Ln.pos,Ln.pos,4,!0),Ln.shiftContext($n[Rn],this.pos),Ln.reducePos=this.pos,Ln.score-=200,_n.push(Ln)}return _n}forceReduce(){let{parser:Cn}=this.p,$n=Cn.stateSlot(this.state,5);if(($n&65536)==0)return!1;if(!Cn.validAction(this.state,$n)){let _n=$n>>19,Rn=$n&65535,Bn=this.stack.length-_n*3;if(Bn<0||Cn.getGoto(this.stack[Bn],Rn,!1)<0){let Ln=this.findForcedReduction();if(Ln==null)return!1;$n=Ln}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce($n),!0}findForcedReduction(){let{parser:Cn}=this.p,$n=[],_n=(Rn,Bn)=>{if(!$n.includes(Rn))return $n.push(Rn),Cn.allActions(Rn,Ln=>{if(!(Ln&393216))if(Ln&65536){let Dn=(Ln>>19)-Bn;if(Dn>1){let Nn=Ln&65535,Fn=this.stack.length-Dn*3;if(Fn>=0&&Cn.getGoto(this.stack[Fn],Nn,!1)>=0)return Dn<<19|65536|Nn}}else{let Dn=_n(Ln,Bn+1);if(Dn!=null)return Dn}})};return _n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Cn}=this.p;return Cn.data[Cn.stateSlot(this.state,1)]==65535&&!Cn.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Cn){if(this.state!=Cn.state||this.stack.length!=Cn.stack.length)return!1;for(let $n=0;$n<this.stack.length;$n+=3)if(this.stack[$n]!=Cn.stack[$n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Cn){return this.p.parser.dialect.flags[Cn]}shiftContext(Cn,$n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,Cn,this,this.p.stream.reset($n)))}reduceContext(Cn,$n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Cn,this,this.p.stream.reset($n)))}emitContext(){let Cn=this.buffer.length-1;(Cn<0||this.buffer[Cn]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Cn=this.buffer.length-1;(Cn<0||this.buffer[Cn]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Cn){if(Cn!=this.curContext.context){let $n=new StackContext(this.curContext.tracker,Cn);$n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=$n}}setLookAhead(Cn){Cn>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=Cn)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(Cn,$n){this.tracker=Cn,this.context=$n,this.hash=Cn.strict?Cn.hash($n):0}}class SimulatedStack{constructor(Cn){this.start=Cn,this.state=Cn.state,this.stack=Cn.stack,this.base=this.stack.length}reduce(Cn){let $n=Cn&65535,_n=Cn>>19;_n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(_n-1)*3;let Rn=this.start.p.parser.getGoto(this.stack[this.base-3],$n,!0);this.state=Rn}}class StackBufferCursor{constructor(Cn,$n,_n){this.stack=Cn,this.pos=$n,this.index=_n,this.buffer=Cn.buffer,this.index==0&&this.maybeNext()}static create(Cn,$n=Cn.bufferBase+Cn.buffer.length){return new StackBufferCursor(Cn,$n,$n-Cn.bufferBase)}maybeNext(){let Cn=this.stack.parent;Cn!=null&&(this.index=this.stack.bufferBase-Cn.bufferBase,this.stack=Cn,this.buffer=Cn.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(Pn,Cn=Uint16Array){if(typeof Pn!="string")return Pn;let $n=null;for(let _n=0,Rn=0;_n<Pn.length;){let Bn=0;for(;;){let Ln=Pn.charCodeAt(_n++),Dn=!1;if(Ln==126){Bn=65535;break}Ln>=92&&Ln--,Ln>=34&&Ln--;let Nn=Ln-32;if(Nn>=46&&(Nn-=46,Dn=!0),Bn+=Nn,Dn)break;Bn*=46}$n?$n[Rn++]=Bn:$n=new Cn(Bn)}return $n}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(Cn,$n){this.input=Cn,this.ranges=$n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=$n[0].from,this.range=$n[0],this.end=$n[$n.length-1].to,this.readNext()}resolveOffset(Cn,$n){let _n=this.range,Rn=this.rangeIndex,Bn=this.pos+Cn;for(;Bn<_n.from;){if(!Rn)return null;let Ln=this.ranges[--Rn];Bn-=_n.from-Ln.to,_n=Ln}for(;$n<0?Bn>_n.to:Bn>=_n.to;){if(Rn==this.ranges.length-1)return null;let Ln=this.ranges[++Rn];Bn+=Ln.from-_n.to,_n=Ln}return Bn}clipPos(Cn){if(Cn>=this.range.from&&Cn<this.range.to)return Cn;for(let $n of this.ranges)if($n.to>Cn)return Math.max(Cn,$n.from);return this.end}peek(Cn){let $n=this.chunkOff+Cn,_n,Rn;if($n>=0&&$n<this.chunk.length)_n=this.pos+Cn,Rn=this.chunk.charCodeAt($n);else{let Bn=this.resolveOffset(Cn,1);if(Bn==null)return-1;if(_n=Bn,_n>=this.chunk2Pos&&_n<this.chunk2Pos+this.chunk2.length)Rn=this.chunk2.charCodeAt(_n-this.chunk2Pos);else{let Ln=this.rangeIndex,Dn=this.range;for(;Dn.to<=_n;)Dn=this.ranges[++Ln];this.chunk2=this.input.chunk(this.chunk2Pos=_n),_n+this.chunk2.length>Dn.to&&(this.chunk2=this.chunk2.slice(0,Dn.to-_n)),Rn=this.chunk2.charCodeAt(0)}}return _n>=this.token.lookAhead&&(this.token.lookAhead=_n+1),Rn}acceptToken(Cn,$n=0){let _n=$n?this.resolveOffset($n,-1):this.pos;if(_n==null||_n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=Cn,this.token.end=_n}acceptTokenTo(Cn,$n){this.token.value=Cn,this.token.end=$n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Cn,chunkPos:$n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Cn,this.chunk2Pos=$n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Cn=this.input.chunk(this.pos),$n=this.pos+Cn.length;this.chunk=$n>this.range.to?Cn.slice(0,this.range.to-this.pos):Cn,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Cn=1){for(this.chunkOff+=Cn;this.pos+Cn>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Cn-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=Cn,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Cn,$n){if($n?(this.token=$n,$n.start=Cn,$n.lookAhead=Cn+1,$n.value=$n.extended=-1):this.token=nullToken,this.pos!=Cn){if(this.pos=Cn,Cn==this.end)return this.setDone(),this;for(;Cn<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;Cn>=this.range.to;)this.range=this.ranges[++this.rangeIndex];Cn>=this.chunkPos&&Cn<this.chunkPos+this.chunk.length?this.chunkOff=Cn-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(Cn,$n){if(Cn>=this.chunkPos&&$n<=this.chunkPos+this.chunk.length)return this.chunk.slice(Cn-this.chunkPos,$n-this.chunkPos);if(Cn>=this.chunk2Pos&&$n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Cn-this.chunk2Pos,$n-this.chunk2Pos);if(Cn>=this.range.from&&$n<=this.range.to)return this.input.read(Cn,$n);let _n="";for(let Rn of this.ranges){if(Rn.from>=$n)break;Rn.to>Cn&&(_n+=this.input.read(Math.max(Rn.from,Cn),Math.min(Rn.to,$n)))}return _n}}class TokenGroup{constructor(Cn,$n){this.data=Cn,this.id=$n}token(Cn,$n){let{parser:_n}=$n.p;readToken(this.data,Cn,$n,this.id,_n.data,_n.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(Cn,$n,_n){this.precTable=$n,this.elseToken=_n,this.data=typeof Cn=="string"?decodeArray(Cn):Cn}token(Cn,$n){let _n=Cn.pos,Rn=0;for(;;){let Bn=Cn.next<0,Ln=Cn.resolveOffset(1,1);if(readToken(this.data,Cn,$n,0,this.data,this.precTable),Cn.token.value>-1)break;if(this.elseToken==null)return;if(Bn||Rn++,Ln==null)break;Cn.reset(Ln,Cn.token)}Rn&&(Cn.reset(_n,Cn.token),Cn.acceptToken(this.elseToken,Rn))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(Cn,$n={}){this.token=Cn,this.contextual=!!$n.contextual,this.fallback=!!$n.fallback,this.extend=!!$n.extend}}function readToken(Pn,Cn,$n,_n,Rn,Bn){let Ln=0,Dn=1<<_n,{dialect:Nn}=$n.p.parser;e:for(;(Dn&Pn[Ln])!=0;){let Fn=Pn[Ln+1];for(let Gn=Ln+3;Gn<Fn;Gn+=2)if((Pn[Gn+1]&Dn)>0){let ei=Pn[Gn];if(Nn.allows(ei)&&(Cn.token.value==-1||Cn.token.value==ei||overrides(ei,Cn.token.value,Rn,Bn))){Cn.acceptToken(ei);break}}let Wn=Cn.next,zn=0,Yn=Pn[Ln+2];if(Cn.next<0&&Yn>zn&&Pn[Fn+Yn*3-3]==65535){Ln=Pn[Fn+Yn*3-1];continue e}for(;zn<Yn;){let Gn=zn+Yn>>1,ei=Fn+Gn+(Gn<<1),ti=Pn[ei],ii=Pn[ei+1]||65536;if(Wn<ti)Yn=Gn;else if(Wn>=ii)zn=Gn+1;else{Ln=Pn[ei+2],Cn.advance();continue e}}break}}function findOffset(Pn,Cn,$n){for(let _n=Cn,Rn;(Rn=Pn[_n])!=65535;_n++)if(Rn==$n)return _n-Cn;return-1}function overrides(Pn,Cn,$n,_n){let Rn=findOffset($n,_n,Cn);return Rn<0||findOffset($n,_n,Pn)<Rn}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(Pn,Cn,$n){let _n=Pn.cursor(IterMode.IncludeAnonymous);for(_n.moveTo(Cn);;)if(!($n<0?_n.childBefore(Cn):_n.childAfter(Cn)))for(;;){if(($n<0?_n.to<Cn:_n.from>Cn)&&!_n.type.isError)return $n<0?Math.max(0,Math.min(_n.to-1,Cn-25)):Math.min(Pn.length,Math.max(_n.from+1,Cn+25));if($n<0?_n.prevSibling():_n.nextSibling())break;if(!_n.parent())return $n<0?0:Pn.length}}class FragmentCursor{constructor(Cn,$n){this.fragments=Cn,this.nodeSet=$n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Cn=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Cn){for(this.safeFrom=Cn.openStart?cutAt(Cn.tree,Cn.from+Cn.offset,1)-Cn.offset:Cn.from,this.safeTo=Cn.openEnd?cutAt(Cn.tree,Cn.to+Cn.offset,-1)-Cn.offset:Cn.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Cn.tree),this.start.push(-Cn.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Cn){if(Cn<this.nextStart)return null;for(;this.fragment&&this.safeTo<=Cn;)this.nextFragment();if(!this.fragment)return null;for(;;){let $n=this.trees.length-1;if($n<0)return this.nextFragment(),null;let _n=this.trees[$n],Rn=this.index[$n];if(Rn==_n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let Bn=_n.children[Rn],Ln=this.start[$n]+_n.positions[Rn];if(Ln>Cn)return this.nextStart=Ln,null;if(Bn instanceof Tree){if(Ln==Cn){if(Ln<this.safeFrom)return null;let Dn=Ln+Bn.length;if(Dn<=this.safeTo){let Nn=Bn.prop(NodeProp.lookAhead);if(!Nn||Dn+Nn<this.fragment.to)return Bn}}this.index[$n]++,Ln+Bn.length>=Math.max(this.safeFrom,Cn)&&(this.trees.push(Bn),this.start.push(Ln),this.index.push(0))}else this.index[$n]++,this.nextStart=Ln+Bn.length}}}class TokenCache{constructor(Cn,$n){this.stream=$n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Cn.tokenizers.map(_n=>new CachedToken)}getActions(Cn){let $n=0,_n=null,{parser:Rn}=Cn.p,{tokenizers:Bn}=Rn,Ln=Rn.stateSlot(Cn.state,3),Dn=Cn.curContext?Cn.curContext.hash:0,Nn=0;for(let Fn=0;Fn<Bn.length;Fn++){if((1<<Fn&Ln)==0)continue;let Wn=Bn[Fn],zn=this.tokens[Fn];if(!(_n&&!Wn.fallback)&&((Wn.contextual||zn.start!=Cn.pos||zn.mask!=Ln||zn.context!=Dn)&&(this.updateCachedToken(zn,Wn,Cn),zn.mask=Ln,zn.context=Dn),zn.lookAhead>zn.end+25&&(Nn=Math.max(zn.lookAhead,Nn)),zn.value!=0)){let Yn=$n;if(zn.extended>-1&&($n=this.addActions(Cn,zn.extended,zn.end,$n)),$n=this.addActions(Cn,zn.value,zn.end,$n),!Wn.extend&&(_n=zn,$n>Yn))break}}for(;this.actions.length>$n;)this.actions.pop();return Nn&&Cn.setLookAhead(Nn),!_n&&Cn.pos==this.stream.end&&(_n=new CachedToken,_n.value=Cn.p.parser.eofTerm,_n.start=_n.end=Cn.pos,$n=this.addActions(Cn,_n.value,_n.end,$n)),this.mainToken=_n,this.actions}getMainToken(Cn){if(this.mainToken)return this.mainToken;let $n=new CachedToken,{pos:_n,p:Rn}=Cn;return $n.start=_n,$n.end=Math.min(_n+1,Rn.stream.end),$n.value=_n==Rn.stream.end?Rn.parser.eofTerm:0,$n}updateCachedToken(Cn,$n,_n){let Rn=this.stream.clipPos(_n.pos);if($n.token(this.stream.reset(Rn,Cn),_n),Cn.value>-1){let{parser:Bn}=_n.p;for(let Ln=0;Ln<Bn.specialized.length;Ln++)if(Bn.specialized[Ln]==Cn.value){let Dn=Bn.specializers[Ln](this.stream.read(Cn.start,Cn.end),_n);if(Dn>=0&&_n.p.parser.dialect.allows(Dn>>1)){(Dn&1)==0?Cn.value=Dn>>1:Cn.extended=Dn>>1;break}}}else Cn.value=0,Cn.end=this.stream.clipPos(Rn+1)}putAction(Cn,$n,_n,Rn){for(let Bn=0;Bn<Rn;Bn+=3)if(this.actions[Bn]==Cn)return Rn;return this.actions[Rn++]=Cn,this.actions[Rn++]=$n,this.actions[Rn++]=_n,Rn}addActions(Cn,$n,_n,Rn){let{state:Bn}=Cn,{parser:Ln}=Cn.p,{data:Dn}=Ln;for(let Nn=0;Nn<2;Nn++)for(let Fn=Ln.stateSlot(Bn,Nn?2:1);;Fn+=3){if(Dn[Fn]==65535)if(Dn[Fn+1]==1)Fn=pair(Dn,Fn+2);else{Rn==0&&Dn[Fn+1]==2&&(Rn=this.putAction(pair(Dn,Fn+2),$n,_n,Rn));break}Dn[Fn]==$n&&(Rn=this.putAction(pair(Dn,Fn+1),$n,_n,Rn))}return Rn}}class Parse{constructor(Cn,$n,_n,Rn){this.parser=Cn,this.input=$n,this.ranges=Rn,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream($n,Rn),this.tokens=new TokenCache(Cn,this.stream),this.topTerm=Cn.top[1];let{from:Bn}=Rn[0];this.stacks=[Stack.start(this,Cn.top[0],Bn)],this.fragments=_n.length&&this.stream.end-Bn>Cn.bufferLength*4?new FragmentCursor(_n,Cn.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Cn=this.stacks,$n=this.minStackPos,_n=this.stacks=[],Rn,Bn;if(this.bigReductionCount>300&&Cn.length==1){let[Ln]=Cn;for(;Ln.forceReduce()&&Ln.stack.length&&Ln.stack[Ln.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let Ln=0;Ln<Cn.length;Ln++){let Dn=Cn[Ln];for(;;){if(this.tokens.mainToken=null,Dn.pos>$n)_n.push(Dn);else{if(this.advanceStack(Dn,_n,Cn))continue;{Rn||(Rn=[],Bn=[]),Rn.push(Dn);let Nn=this.tokens.getMainToken(Dn);Bn.push(Nn.value,Nn.end)}}break}}if(!_n.length){let Ln=Rn&&findFinished(Rn);if(Ln)return verbose&&console.log("Finish with "+this.stackID(Ln)),this.stackToTree(Ln);if(this.parser.strict)throw verbose&&Rn&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+$n);this.recovering||(this.recovering=5)}if(this.recovering&&Rn){let Ln=this.stoppedAt!=null&&Rn[0].pos>this.stoppedAt?Rn[0]:this.runRecovery(Rn,Bn,_n);if(Ln)return verbose&&console.log("Force-finish "+this.stackID(Ln)),this.stackToTree(Ln.forceAll())}if(this.recovering){let Ln=this.recovering==1?1:this.recovering*3;if(_n.length>Ln)for(_n.sort((Dn,Nn)=>Nn.score-Dn.score);_n.length>Ln;)_n.pop();_n.some(Dn=>Dn.reducePos>$n)&&this.recovering--}else if(_n.length>1){e:for(let Ln=0;Ln<_n.length-1;Ln++){let Dn=_n[Ln];for(let Nn=Ln+1;Nn<_n.length;Nn++){let Fn=_n[Nn];if(Dn.sameState(Fn)||Dn.buffer.length>500&&Fn.buffer.length>500)if((Dn.score-Fn.score||Dn.buffer.length-Fn.buffer.length)>0)_n.splice(Nn--,1);else{_n.splice(Ln--,1);continue e}}}_n.length>12&&_n.splice(12,_n.length-12)}this.minStackPos=_n[0].pos;for(let Ln=1;Ln<_n.length;Ln++)_n[Ln].pos<this.minStackPos&&(this.minStackPos=_n[Ln].pos);return null}stopAt(Cn){if(this.stoppedAt!=null&&this.stoppedAt<Cn)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=Cn}advanceStack(Cn,$n,_n){let Rn=Cn.pos,{parser:Bn}=this,Ln=verbose?this.stackID(Cn)+" -> ":"";if(this.stoppedAt!=null&&Rn>this.stoppedAt)return Cn.forceReduce()?Cn:null;if(this.fragments){let Fn=Cn.curContext&&Cn.curContext.tracker.strict,Wn=Fn?Cn.curContext.hash:0;for(let zn=this.fragments.nodeAt(Rn);zn;){let Yn=this.parser.nodeSet.types[zn.type.id]==zn.type?Bn.getGoto(Cn.state,zn.type.id):-1;if(Yn>-1&&zn.length&&(!Fn||(zn.prop(NodeProp.contextHash)||0)==Wn))return Cn.useNode(zn,Yn),verbose&&console.log(Ln+this.stackID(Cn)+` (via reuse of ${Bn.getName(zn.type.id)})`),!0;if(!(zn instanceof Tree)||zn.children.length==0||zn.positions[0]>0)break;let Gn=zn.children[0];if(Gn instanceof Tree&&zn.positions[0]==0)zn=Gn;else break}}let Dn=Bn.stateSlot(Cn.state,4);if(Dn>0)return Cn.reduce(Dn),verbose&&console.log(Ln+this.stackID(Cn)+` (via always-reduce ${Bn.getName(Dn&65535)})`),!0;if(Cn.stack.length>=8400)for(;Cn.stack.length>6e3&&Cn.forceReduce(););let Nn=this.tokens.getActions(Cn);for(let Fn=0;Fn<Nn.length;){let Wn=Nn[Fn++],zn=Nn[Fn++],Yn=Nn[Fn++],Gn=Fn==Nn.length||!_n,ei=Gn?Cn:Cn.split(),ti=this.tokens.mainToken;if(ei.apply(Wn,zn,ti?ti.start:ei.pos,Yn),verbose&&console.log(Ln+this.stackID(ei)+` (via ${(Wn&65536)==0?"shift":`reduce of ${Bn.getName(Wn&65535)}`} for ${Bn.getName(zn)} @ ${Rn}${ei==Cn?"":", split"})`),Gn)return!0;ei.pos>Rn?$n.push(ei):_n.push(ei)}return!1}advanceFully(Cn,$n){let _n=Cn.pos;for(;;){if(!this.advanceStack(Cn,null,null))return!1;if(Cn.pos>_n)return pushStackDedup(Cn,$n),!0}}runRecovery(Cn,$n,_n){let Rn=null,Bn=!1;for(let Ln=0;Ln<Cn.length;Ln++){let Dn=Cn[Ln],Nn=$n[Ln<<1],Fn=$n[(Ln<<1)+1],Wn=verbose?this.stackID(Dn)+" -> ":"";if(Dn.deadEnd&&(Bn||(Bn=!0,Dn.restart(),verbose&&console.log(Wn+this.stackID(Dn)+" (restarted)"),this.advanceFully(Dn,_n))))continue;let zn=Dn.split(),Yn=Wn;for(let Gn=0;zn.forceReduce()&&Gn<10&&(verbose&&console.log(Yn+this.stackID(zn)+" (via force-reduce)"),!this.advanceFully(zn,_n));Gn++)verbose&&(Yn=this.stackID(zn)+" -> ");for(let Gn of Dn.recoverByInsert(Nn))verbose&&console.log(Wn+this.stackID(Gn)+" (via recover-insert)"),this.advanceFully(Gn,_n);this.stream.end>Dn.pos?(Fn==Dn.pos&&(Fn++,Nn=0),Dn.recoverByDelete(Nn,Fn),verbose&&console.log(Wn+this.stackID(Dn)+` (via recover-delete ${this.parser.getName(Nn)})`),pushStackDedup(Dn,_n)):(!Rn||Rn.score<Dn.score)&&(Rn=Dn)}return Rn}stackToTree(Cn){return Cn.close(),Tree.build({buffer:StackBufferCursor.create(Cn),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Cn.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Cn){let $n=(stackIDs||(stackIDs=new WeakMap)).get(Cn);return $n||stackIDs.set(Cn,$n=String.fromCodePoint(this.nextStackID++)),$n+Cn}}function pushStackDedup(Pn,Cn){for(let $n=0;$n<Cn.length;$n++){let _n=Cn[$n];if(_n.pos==Pn.pos&&_n.sameState(Pn)){Cn[$n].score<Pn.score&&(Cn[$n]=Pn);return}}Cn.push(Pn)}class Dialect{constructor(Cn,$n,_n){this.source=Cn,this.flags=$n,this.disabled=_n}allows(Cn){return!this.disabled||this.disabled[Cn]==0}}const id=Pn=>Pn;class ContextTracker{constructor(Cn){this.start=Cn.start,this.shift=Cn.shift||id,this.reduce=Cn.reduce||id,this.reuse=Cn.reuse||id,this.hash=Cn.hash||(()=>0),this.strict=Cn.strict!==!1}}class LRParser extends Parser{constructor(Cn){if(super(),this.wrappers=[],Cn.version!=14)throw new RangeError(`Parser version (${Cn.version}) doesn't match runtime version (14)`);let $n=Cn.nodeNames.split(" ");this.minRepeatTerm=$n.length;for(let Dn=0;Dn<Cn.repeatNodeCount;Dn++)$n.push("");let _n=Object.keys(Cn.topRules).map(Dn=>Cn.topRules[Dn][1]),Rn=[];for(let Dn=0;Dn<$n.length;Dn++)Rn.push([]);function Bn(Dn,Nn,Fn){Rn[Dn].push([Nn,Nn.deserialize(String(Fn))])}if(Cn.nodeProps)for(let Dn of Cn.nodeProps){let Nn=Dn[0];typeof Nn=="string"&&(Nn=NodeProp[Nn]);for(let Fn=1;Fn<Dn.length;){let Wn=Dn[Fn++];if(Wn>=0)Bn(Wn,Nn,Dn[Fn++]);else{let zn=Dn[Fn+-Wn];for(let Yn=-Wn;Yn>0;Yn--)Bn(Dn[Fn++],Nn,zn);Fn++}}}this.nodeSet=new NodeSet($n.map((Dn,Nn)=>NodeType.define({name:Nn>=this.minRepeatTerm?void 0:Dn,id:Nn,props:Rn[Nn],top:_n.indexOf(Nn)>-1,error:Nn==0,skipped:Cn.skippedNodes&&Cn.skippedNodes.indexOf(Nn)>-1}))),Cn.propSources&&(this.nodeSet=this.nodeSet.extend(...Cn.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let Ln=decodeArray(Cn.tokenData);this.context=Cn.context,this.specializerSpecs=Cn.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Dn=0;Dn<this.specializerSpecs.length;Dn++)this.specialized[Dn]=this.specializerSpecs[Dn].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(Cn.states,Uint32Array),this.data=decodeArray(Cn.stateData),this.goto=decodeArray(Cn.goto),this.maxTerm=Cn.maxTerm,this.tokenizers=Cn.tokenizers.map(Dn=>typeof Dn=="number"?new TokenGroup(Ln,Dn):Dn),this.topRules=Cn.topRules,this.dialects=Cn.dialects||{},this.dynamicPrecedences=Cn.dynamicPrecedences||null,this.tokenPrecTable=Cn.tokenPrec,this.termNames=Cn.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Cn,$n,_n){let Rn=new Parse(this,Cn,$n,_n);for(let Bn of this.wrappers)Rn=Bn(Rn,Cn,$n,_n);return Rn}getGoto(Cn,$n,_n=!1){let Rn=this.goto;if($n>=Rn[0])return-1;for(let Bn=Rn[$n+1];;){let Ln=Rn[Bn++],Dn=Ln&1,Nn=Rn[Bn++];if(Dn&&_n)return Nn;for(let Fn=Bn+(Ln>>1);Bn<Fn;Bn++)if(Rn[Bn]==Cn)return Nn;if(Dn)return-1}}hasAction(Cn,$n){let _n=this.data;for(let Rn=0;Rn<2;Rn++)for(let Bn=this.stateSlot(Cn,Rn?2:1),Ln;;Bn+=3){if((Ln=_n[Bn])==65535)if(_n[Bn+1]==1)Ln=_n[Bn=pair(_n,Bn+2)];else{if(_n[Bn+1]==2)return pair(_n,Bn+2);break}if(Ln==$n||Ln==0)return pair(_n,Bn+1)}return 0}stateSlot(Cn,$n){return this.states[Cn*6+$n]}stateFlag(Cn,$n){return(this.stateSlot(Cn,0)&$n)>0}validAction(Cn,$n){return!!this.allActions(Cn,_n=>_n==$n?!0:null)}allActions(Cn,$n){let _n=this.stateSlot(Cn,4),Rn=_n?$n(_n):void 0;for(let Bn=this.stateSlot(Cn,1);Rn==null;Bn+=3){if(this.data[Bn]==65535)if(this.data[Bn+1]==1)Bn=pair(this.data,Bn+2);else break;Rn=$n(pair(this.data,Bn+1))}return Rn}nextStates(Cn){let $n=[];for(let _n=this.stateSlot(Cn,1);;_n+=3){if(this.data[_n]==65535)if(this.data[_n+1]==1)_n=pair(this.data,_n+2);else break;if((this.data[_n+2]&1)==0){let Rn=this.data[_n+1];$n.some((Bn,Ln)=>Ln&1&&Bn==Rn)||$n.push(this.data[_n],Rn)}}return $n}configure(Cn){let $n=Object.assign(Object.create(LRParser.prototype),this);if(Cn.props&&($n.nodeSet=this.nodeSet.extend(...Cn.props)),Cn.top){let _n=this.topRules[Cn.top];if(!_n)throw new RangeError(`Invalid top rule name ${Cn.top}`);$n.top=_n}return Cn.tokenizers&&($n.tokenizers=this.tokenizers.map(_n=>{let Rn=Cn.tokenizers.find(Bn=>Bn.from==_n);return Rn?Rn.to:_n})),Cn.specializers&&($n.specializers=this.specializers.slice(),$n.specializerSpecs=this.specializerSpecs.map((_n,Rn)=>{let Bn=Cn.specializers.find(Dn=>Dn.from==_n.external);if(!Bn)return _n;let Ln=Object.assign(Object.assign({},_n),{external:Bn.to});return $n.specializers[Rn]=getSpecializer(Ln),Ln})),Cn.contextTracker&&($n.context=Cn.contextTracker),Cn.dialect&&($n.dialect=this.parseDialect(Cn.dialect)),Cn.strict!=null&&($n.strict=Cn.strict),Cn.wrap&&($n.wrappers=$n.wrappers.concat(Cn.wrap)),Cn.bufferLength!=null&&($n.bufferLength=Cn.bufferLength),$n}hasWrappers(){return this.wrappers.length>0}getName(Cn){return this.termNames?this.termNames[Cn]:String(Cn<=this.maxNode&&this.nodeSet.types[Cn].name||Cn)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Cn){let $n=this.dynamicPrecedences;return $n==null?0:$n[Cn]||0}parseDialect(Cn){let $n=Object.keys(this.dialects),_n=$n.map(()=>!1);if(Cn)for(let Bn of Cn.split(" ")){let Ln=$n.indexOf(Bn);Ln>=0&&(_n[Ln]=!0)}let Rn=null;for(let Bn=0;Bn<$n.length;Bn++)if(!_n[Bn])for(let Ln=this.dialects[$n[Bn]],Dn;(Dn=this.data[Ln++])!=65535;)(Rn||(Rn=new Uint8Array(this.maxTerm+1)))[Dn]=1;return new Dialect(Cn,_n,Rn)}static deserialize(Cn){return new LRParser(Cn)}}function pair(Pn,Cn){return Pn[Cn]|Pn[Cn+1]<<16}function findFinished(Pn){let Cn=null;for(let $n of Pn){let _n=$n.p.stoppedAt;($n.pos==$n.p.stream.end||_n!=null&&$n.pos>_n)&&$n.p.parser.stateFlag($n.state,2)&&(!Cn||Cn.score<$n.score)&&(Cn=$n)}return Cn}function getSpecializer(Pn){if(Pn.external){let Cn=Pn.extend?1:0;return($n,_n)=>Pn.external($n,_n)<<1|Cn}return Pn.get}const noSemi=315,noSemiType=316,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=317,spaces=319,newline=320,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(Pn,Cn){return Cn==LineComment||Cn==BlockComment||Cn==spaces?Pn:Cn==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((Pn,Cn)=>{let{next:$n}=Pn;($n==braceR||$n==-1||Cn.context)&&Pn.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((Pn,Cn)=>{let{next:$n}=Pn,_n;space.indexOf($n)>-1||$n==slash&&((_n=Pn.peek(1))==slash||_n==star)||$n!=braceR&&$n!=semicolon&&$n!=-1&&!Cn.context&&Pn.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((Pn,Cn)=>{Pn.next==bracketL&&!Cn.context&&Pn.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((Pn,Cn)=>{let{next:$n}=Pn;if($n==plus||$n==minus){if(Pn.advance(),$n==Pn.next){Pn.advance();let _n=!Cn.context&&Cn.canShift(incdec);Pn.acceptToken(_n?incdec:incdecPrefix)}}else $n==question&&Pn.peek(1)==dot&&(Pn.advance(),Pn.advance(),(Pn.next<48||Pn.next>57)&&Pn.acceptToken(questionDot))},{contextual:!0});function identifierChar(Pn,Cn){return Pn>=65&&Pn<=90||Pn>=97&&Pn<=122||Pn==95||Pn>=192||!Cn&&Pn>=48&&Pn<=57}const jsx=new ExternalTokenizer((Pn,Cn)=>{if(Pn.next!=lt||!Cn.dialectEnabled(Dialect_jsx)||(Pn.advance(),Pn.next==slash))return;let $n=0;for(;space.indexOf(Pn.next)>-1;)Pn.advance(),$n++;if(identifierChar(Pn.next,!0)){for(Pn.advance(),$n++;identifierChar(Pn.next,!1);)Pn.advance(),$n++;for(;space.indexOf(Pn.next)>-1;)Pn.advance(),$n++;if(Pn.next==comma)return;for(let _n=0;;_n++){if(_n==7){if(!identifierChar(Pn.next,!0))return;break}if(Pn.next!="extends".charCodeAt(_n))break;Pn.advance(),$n++}}Pn.acceptToken(JSXStartTag,-$n)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:Pn=>spec_identifier[Pn]||-1},{term:342,get:Pn=>spec_word[Pn]||-1},{term:95,get:Pn=>spec_LessThan[Pn]||-1}],tokenPrec:15124}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(Pn){return(Cn,$n)=>{let _n=Cn.node.getChild("VariableDefinition");return _n&&$n(_n,Pn),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(Pn,Cn){Pn.matchContext(functionContext)||Cn(Pn,"variable")},TypeDefinition(Pn,Cn){Cn(Pn,"type")},__proto__:null};function getScope(Pn,Cn){let $n=cache.get(Cn);if($n)return $n;let _n=[],Rn=!0;function Bn(Ln,Dn){let Nn=Pn.sliceString(Ln.from,Ln.to);_n.push({label:Nn,type:Dn})}return Cn.cursor(IterMode.IncludeAnonymous).iterate(Ln=>{if(Rn)Rn=!1;else if(Ln.name){let Dn=gatherCompletions[Ln.name];if(Dn&&Dn(Ln,Bn)||ScopeNodes.has(Ln.name))return!1}else if(Ln.to-Ln.from>8192){for(let Dn of getScope(Pn,Ln.node))_n.push(Dn);return!1}}),cache.set(Cn,_n),_n}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(Pn){let Cn=syntaxTree(Pn.state).resolveInner(Pn.pos,-1);if(dontComplete.indexOf(Cn.name)>-1)return null;let $n=Cn.name=="VariableName"||Cn.to-Cn.from<20&&Identifier.test(Pn.state.sliceDoc(Cn.from,Cn.to));if(!$n&&!Pn.explicit)return null;let _n=[];for(let Rn=Cn;Rn;Rn=Rn.parent)ScopeNodes.has(Rn.name)&&(_n=_n.concat(getScope(Pn.state.doc,Rn)));return{options:_n,from:$n?Cn.from:Pn.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:Pn=>{let Cn=Pn.textAfter,$n=/^\s*\}/.test(Cn),_n=/^\s*(case|default)\b/.test(Cn);return Pn.baseIndent+($n?0:_n?1:2)*Pn.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:Pn=>Pn.baseIndent+Pn.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(Pn){let Cn=/^\s*<\//.test(Pn.textAfter);return Pn.lineIndent(Pn.node.from)+(Cn?0:Pn.unit)},JSXEscape(Pn){let Cn=/\s*\}/.test(Pn.textAfter);return Pn.lineIndent(Pn.node.from)+(Cn?0:Pn.unit)},"JSXOpenTag JSXSelfClosingTag"(Pn){return Pn.column(Pn.node.from)+Pn.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(Pn){return{from:Pn.from+2,to:Pn.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:Pn=>/^JSX/.test(Pn.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(Pn=>Pn.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(Pn=>Pn.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=Pn=>({label:Pn,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(Pn={}){let Cn=Pn.jsx?Pn.typescript?tsxLanguage:jsxLanguage:Pn.typescript?typescriptLanguage:javascriptLanguage,$n=Pn.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(Cn,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList($n))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),Pn.jsx?autoCloseTags:[]])}function findOpenTag(Pn){for(;;){if(Pn.name=="JSXOpenTag"||Pn.name=="JSXSelfClosingTag"||Pn.name=="JSXFragmentTag")return Pn;if(Pn.name=="JSXEscape"||!Pn.parent)return null;Pn=Pn.parent}}function elementName(Pn,Cn,$n=Pn.length){for(let _n=Cn==null?void 0:Cn.firstChild;_n;_n=_n.nextSibling)if(_n.name=="JSXIdentifier"||_n.name=="JSXBuiltin"||_n.name=="JSXNamespacedName"||_n.name=="JSXMemberExpression")return Pn.sliceString(_n.from,Math.min(_n.to,$n));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((Pn,Cn,$n,_n,Rn)=>{if((android?Pn.composing:Pn.compositionStarted)||Pn.state.readOnly||Cn!=$n||_n!=">"&&_n!="/"||!javascriptLanguage.isActiveAt(Pn.state,Cn,-1))return!1;let Bn=Rn(),{state:Ln}=Bn,Dn=Ln.changeByRange(Nn=>{var Fn;let{head:Wn}=Nn,zn=syntaxTree(Ln).resolveInner(Wn-1,-1),Yn;if(zn.name=="JSXStartTag"&&(zn=zn.parent),!(Ln.doc.sliceString(Wn-1,Wn)!=_n||zn.name=="JSXAttributeValue"&&zn.to>Wn)){if(_n==">"&&zn.name=="JSXFragmentTag")return{range:Nn,changes:{from:Wn,insert:"</>"}};if(_n=="/"&&zn.name=="JSXStartCloseTag"){let Gn=zn.parent,ei=Gn.parent;if(ei&&Gn.from==Wn-2&&((Yn=elementName(Ln.doc,ei.firstChild,Wn))||((Fn=ei.firstChild)===null||Fn===void 0?void 0:Fn.name)=="JSXFragmentTag")){let ti=`${Yn}>`;return{range:EditorSelection.cursor(Wn+ti.length,-1),changes:{from:Wn,insert:ti}}}}else if(_n==">"){let Gn=findOpenTag(zn);if(Gn&&Gn.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(Ln.doc.sliceString(Wn,Wn+2))&&(Yn=elementName(Ln.doc,Gn,Wn)))return{range:Nn,changes:{from:Wn,insert:`</${Yn}>`}}}}return{range:Nn}});return Dn.changes.empty?!1:(Pn.dispatch([Bn,Ln.update(Dn,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)],_imports_0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20120.64%20122.88'%20style='enable-background:new%200%200%20120.64%20122.88'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M54.03,108.91c-1.55,1.63-2.31,3.74-2.28,5.85c0.03,2.11,0.84,4.2,2.44,5.79l0.12,0.12c1.58,1.5,3.6,2.23,5.61,2.2%20c2.01-0.03,4.01-0.82,5.55-2.37c17.66-17.66,35.13-35.61,52.68-53.4c0.07-0.05,0.13-0.1,0.19-0.16c1.55-1.63,2.31-3.76,2.28-5.87%20c-0.03-2.11-0.85-4.21-2.45-5.8l-0.27-0.26C100.43,37.47,82.98,19.87,65.46,2.36C63.93,0.82,61.93,0.03,59.92,0%20c-2.01-0.03-4.03,0.7-5.61,2.21l-0.15,0.15c-1.57,1.58-2.38,3.66-2.41,5.76c-0.03,2.1,0.73,4.22,2.28,5.85l47.22,47.27%20L54.03,108.91L54.03,108.91z%20M2.26,106.91c-1.54,1.62-2.29,3.73-2.26,5.83c0.03,2.11,0.84,4.2,2.44,5.79l0.12,0.12%20c1.57,1.5,3.6,2.23,5.61,2.21c2.01-0.03,4.02-0.82,5.55-2.37C31.01,101.2,48.87,84.2,66.39,67.12c0.07-0.05,0.14-0.11,0.21-0.17%20c1.55-1.63,2.31-3.76,2.28-5.87c-0.03-2.11-0.85-4.21-2.45-5.8C48.94,38.33,31.36,21.44,13.83,4.51l-0.12-0.13%20c-1.53-1.54-3.53-2.32-5.54-2.35C6.16,2,4.14,2.73,2.56,4.23L2.41,4.38C0.84,5.96,0.03,8.05,0,10.14c-0.03,2.1,0.73,4.22,2.28,5.85%20l47.18,45.24L2.26,106.91L2.26,106.91z'/%3e%3c/g%3e%3c/svg%3e",presetOptions=["colorfull","golden","custom"],_sfc_main$2={props:{preset:{}},data(){return{presetOptions,presetValues:this.preset,folded:!0}},setup(){return{extensions:[javascript(),oneDark]}},methods:{inspectedConfetti(Pn){this.$emit("inspectedConfetti",Pn)},rerenderConfetti(Pn){this.$refs.confettiList.rerenderConfetti(Pn)},readCode(){console.log(this.presetValues.customCode),this.$emit("loadCode",this.presetValues.customCode)},displayJSON(){console.log(JSON.stringify(this.presetValues))},changePresetOption(Pn){this.$emit("presetOptionChanged",Pn.target.value)}},watch:{preset:{handler(Pn){this.presetValues=Pn}}},components:{Launcher,ConfettiList,Codemirror:T},expose:["rerenderConfetti"]},_hoisted_1$1={class:"content"},_hoisted_2$1={style:{display:"grid","grid-template-columns":"5fr 1fr 1fr"}},_hoisted_3$1=["value"],_hoisted_4$1={class:"background-color"},_hoisted_5$1={style:{height:"calc(100% - 1em - 20px)"}};function _sfc_render$1(Pn,Cn,$n,_n,Rn,Bn){const Ln=resolveComponent("ConfettiList"),Dn=resolveComponent("Launcher"),Nn=resolveComponent("codemirror");return openBlock(),createElementBlock("div",{class:normalizeClass(["sidebar",{folded:!Rn.folded}])},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("select",{class:"preset-select",onChange:Cn[0]||(Cn[0]=(...Fn)=>Bn.changePresetOption&&Bn.changePresetOption(...Fn))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Rn.presetOptions,Fn=>(openBlock(),createElementBlock("option",{value:Fn},toDisplayString(Fn),9,_hoisted_3$1))),256))],32),createBaseVNode("button",_hoisted_4$1,[createBaseVNode("div",{style:normalizeStyle({"background-color":Rn.presetValues.backgroundColor})},null,4)]),createBaseVNode("button",{class:"json-button",onClick:Cn[1]||(Cn[1]=Fn=>Bn.displayJSON())}," JSON ")]),createBaseVNode("div",null,[Cn[7]||(Cn[7]=createBaseVNode("div",{class:"highlight-text"},"Confetti List:",-1)),createVNode(Ln,{confettis:Rn.presetValues.confettis,colors:Rn.presetValues.launcher.colors,backgroundColor:Rn.presetValues.backgroundColor,onInspectedConfetti:Bn.inspectedConfetti,onUpdateConfettiLauncher:Cn[2]||(Cn[2]=Fn=>this.$emit("updateConfettiLauncher")),ref:"confettiList",class:"confetti-list"},null,8,["confettis","colors","backgroundColor","onInspectedConfetti"])]),createBaseVNode("div",null,[Cn[8]||(Cn[8]=createBaseVNode("div",{class:"highlight-text"},"Launcher Options:",-1)),createVNode(Dn,{class:"launcher",launcher:$n.preset.launcher},null,8,["launcher"])]),createBaseVNode("div",_hoisted_5$1,[Cn[9]||(Cn[9]=createBaseVNode("div",{class:"highlight-text"},"Custom Code:",-1)),createVNode(Nn,{class:"custom-code",placeholder:"Code goes here...",modelValue:Rn.presetValues.customCode,"onUpdate:modelValue":Cn[3]||(Cn[3]=Fn=>Rn.presetValues.customCode=Fn),extensions:_n.extensions,onBlur:Cn[4]||(Cn[4]=Fn=>Bn.readCode()),onKeydown:Cn[5]||(Cn[5]=withKeys(withModifiers(Fn=>Bn.readCode(),["ctrl"]),["s"])),style:{height:"100%"},ref:"textarea"},null,8,["modelValue","extensions"])])]),createBaseVNode("button",{class:normalizeClass(["slide-button",{folded:!Rn.folded}]),onClick:Cn[6]||(Cn[6]=Fn=>Rn.folded=!Rn.folded)},Cn[10]||(Cn[10]=[createBaseVNode("img",{src:_imports_0},null,-1)]),2)],2)}const Sidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-43d95484"]]),colorfull={launcher:{position:{x:858,y:727},amount:[200,300],strength:[100,400],colors:["#6beb34","#4287f5","#ca16de","#41de16","#de3116","#f5d002"],shootRepetition:{delay:0,duration:0},direction:{start:0,end:2}},confettis:[{shapeOptions:{type:"ellipse",width:20,height:6,shininess:2,shadows:.1},velocity:{x:0,y:0,maxFallspeed:500,gravity:250,airdrag:60},shading:!0,randomRotation:!0,randomColor:!0,lifetime:{enabled:!0,onset:2,duration:5,current:0}},{shapeOptions:{type:"rectangle",width:"30",height:"8",shininess:2,shadows:.1},velocity:{x:0,y:0,maxFallspeed:500,gravity:"220",airdrag:60},shading:!0,randomRotation:!0,randomColor:!0,lifetime:{enabled:!0,onset:2,duration:5,current:0}}],backgroundColor:"#141921",customCode:`const putInMiddle = (() => {
  launcher.position.x = window.innerWidth / 2
  launcher.position.y = window.innerHeight / 2
})

window.addEventListener("resize", putInMiddle);

putInMiddle()`},golden={launcher:{position:{x:858,y:-10},amount:[200,300],strength:[200,400],shootRepetition:{delay:200,duration:1e3},direction:{start:.8,end:2.2}},confettis:[{shapeOptions:{type:"rectangle",width:20,height:"10",shininess:"5",shadows:"0.3"},velocity:{x:0,y:0,maxFallspeed:500,gravity:250,airdrag:60},shading:!0,randomRotation:!0,randomColor:!1,lifetime:{enabled:!1,onset:2,duration:5,current:0},color:"#FFD700"},{shapeOptions:{type:"rectangle",width:"30",height:"8",shininess:"5",shadows:"0.3"},velocity:{x:0,y:0,maxFallspeed:500,gravity:"220",airdrag:60},shading:!0,randomRotation:!0,randomColor:!1,lifetime:{enabled:!1,onset:2,duration:5,current:0},color:"#FFD700"}],backgroundColor:"#141921",customCode:`const putOnTop= (() => {
  launcher.position.x = window.innerWidth / 2
  launcher.position.y = -10
})

window.addEventListener("resize", putOnTop);

putOnTop()`},custom={launcher:{position:{x:500,y:500},amount:[1,2],strength:[1,100],shootRepetition:{delay:0,duration:0},direction:{start:0,end:2},colors:["#6beb34"]},confettis:[{shapeOptions:{type:"ellipse",width:20,height:6,shininess:2,shadows:.1},velocity:{x:0,y:0,maxFallspeed:0,gravity:0,airdrag:0},shading:!0,randomRotation:!0,randomColor:!0,lifetime:{enabled:!0,onset:2,duration:5,current:0}}],backgroundColor:"#141921",customCode:`/*In this code bracket you are able to
affect the confettis, launcher, canvas,
the ConfettiLauncher in itself and
the window. */

//For Example
launcher.position.x = 0

//For more see the documentation or look
//at some examples`},presetList={colorfull,golden,custom};function tryOnScopeDispose(Pn){return getCurrentScope()?(onScopeDispose(Pn),!0):!1}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString=Object.prototype.toString,isObject=Pn=>toString.call(Pn)==="[object Object]";function toArray(Pn){return Array.isArray(Pn)?Pn:[Pn]}function toRefs(Pn,Cn={}){if(!isRef(Pn))return toRefs$1(Pn);const $n=Array.isArray(Pn.value)?Array.from({length:Pn.value.length}):{};for(const _n in Pn.value)$n[_n]=customRef(()=>({get(){return Pn.value[_n]},set(Rn){var Bn;if((Bn=toValue$1(Cn.replaceRef))!=null?Bn:!0)if(Array.isArray(Pn.value)){const Dn=[...Pn.value];Dn[_n]=Rn,Pn.value=Dn}else{const Dn={...Pn.value,[_n]:Rn};Object.setPrototypeOf(Dn,Object.getPrototypeOf(Pn.value)),Pn.value=Dn}else Pn.value[_n]=Rn}}));return $n}function watchImmediate(Pn,Cn,$n){return watch(Pn,Cn,{...$n,immediate:!0})}const defaultWindow=isClient?window:void 0;function unrefElement(Pn){var Cn;const $n=toValue$1(Pn);return(Cn=$n==null?void 0:$n.$el)!=null?Cn:$n}function useEventListener(...Pn){const Cn=[],$n=()=>{Cn.forEach(Dn=>Dn()),Cn.length=0},_n=(Dn,Nn,Fn,Wn)=>(Dn.addEventListener(Nn,Fn,Wn),()=>Dn.removeEventListener(Nn,Fn,Wn)),Rn=computed(()=>{const Dn=toArray(toValue$1(Pn[0])).filter(Nn=>Nn!=null);return Dn.every(Nn=>typeof Nn!="string")?Dn:void 0}),Bn=watchImmediate(()=>{var Dn,Nn;return[(Nn=(Dn=Rn.value)==null?void 0:Dn.map(Fn=>unrefElement(Fn)))!=null?Nn:[defaultWindow].filter(Fn=>Fn!=null),toArray(toValue$1(Rn.value?Pn[1]:Pn[0])),toArray(unref(Rn.value?Pn[2]:Pn[1])),toValue$1(Rn.value?Pn[3]:Pn[2])]},([Dn,Nn,Fn,Wn])=>{if($n(),!(Dn!=null&&Dn.length)||!(Nn!=null&&Nn.length)||!(Fn!=null&&Fn.length))return;const zn=isObject(Wn)?{...Wn}:Wn;Cn.push(...Dn.flatMap(Yn=>Nn.flatMap(Gn=>Fn.map(ei=>_n(Yn,Gn,ei,zn)))))},{flush:"post"}),Ln=()=>{Bn(),$n()};return tryOnScopeDispose($n),Ln}function useDraggable(Pn,Cn={}){var $n;const{pointerTypes:_n,preventDefault:Rn,stopPropagation:Bn,exact:Ln,onMove:Dn,onEnd:Nn,onStart:Fn,initialValue:Wn,axis:zn="both",draggingElement:Yn=defaultWindow,containerElement:Gn,handle:ei=Pn,buttons:ti=[0]}=Cn,ii=ref(($n=toValue$1(Wn))!=null?$n:{x:0,y:0}),oi=ref(),ai=mi=>_n?_n.includes(mi.pointerType):!0,fi=mi=>{toValue$1(Rn)&&mi.preventDefault(),toValue$1(Bn)&&mi.stopPropagation()},ui=mi=>{var ki;if(!toValue$1(ti).includes(mi.button)||toValue$1(Cn.disabled)||!ai(mi)||toValue$1(Ln)&&mi.target!==toValue$1(Pn))return;const _i=toValue$1(Gn),Pi=(ki=_i==null?void 0:_i.getBoundingClientRect)==null?void 0:ki.call(_i),Oi=toValue$1(Pn).getBoundingClientRect(),wi={x:mi.clientX-(_i?Oi.left-Pi.left+_i.scrollLeft:Oi.left),y:mi.clientY-(_i?Oi.top-Pi.top+_i.scrollTop:Oi.top)};(Fn==null?void 0:Fn(wi,mi))!==!1&&(oi.value=wi,fi(mi))},di=mi=>{if(toValue$1(Cn.disabled)||!ai(mi)||!oi.value)return;const ki=toValue$1(Gn),_i=toValue$1(Pn).getBoundingClientRect();let{x:Pi,y:Oi}=ii.value;(zn==="x"||zn==="both")&&(Pi=mi.clientX-oi.value.x,ki&&(Pi=Math.min(Math.max(0,Pi),ki.scrollWidth-_i.width))),(zn==="y"||zn==="both")&&(Oi=mi.clientY-oi.value.y,ki&&(Oi=Math.min(Math.max(0,Oi),ki.scrollHeight-_i.height))),ii.value={x:Pi,y:Oi},Dn==null||Dn(ii.value,mi),fi(mi)},yi=mi=>{toValue$1(Cn.disabled)||!ai(mi)||oi.value&&(oi.value=void 0,Nn==null||Nn(ii.value,mi),fi(mi))};if(isClient){const mi=()=>{var ki;return{capture:(ki=Cn.capture)!=null?ki:!0,passive:!toValue$1(Rn)}};useEventListener(ei,"pointerdown",ui,mi),useEventListener(Yn,"pointermove",di,mi),useEventListener(Yn,"pointerup",yi,mi)}return{...toRefs(ii),position:ii,isDragging:computed(()=>!!oi.value),style:computed(()=>`left:${ii.value.x}px;top:${ii.value.y}px;`)}}const _sfc_main$1={name:"ConfettiInspect",data(){return{confettiValue:this.confetti}},props:{confetti:{type:Object,required:!0}},watch:{confettiValue:{handler(){this.$emit("changedConfetti")},deep:!0}},updated(){this.confettiValue=this.confetti}},_hoisted_1={class:"wrapper"},_hoisted_2={class:"option-wrapper"},_hoisted_3={class:"option-wrapper"},_hoisted_4={class:"option-wrapper"},_hoisted_5={class:"option-wrapper"},_hoisted_6={class:"option-wrapper"},_hoisted_7={class:"option-wrapper"},_hoisted_8={class:"option-wrapper"},_hoisted_9={class:"option-wrapper"},_hoisted_10={class:"option-wrapper"},_hoisted_11={key:0,class:"option-wrapper"},_hoisted_12={key:1,class:"option-wrapper"},_hoisted_13={class:"option-wrapper"},_hoisted_14={class:"option-wrapper"};function _sfc_render(Pn,Cn,$n,_n,Rn,Bn){return openBlock(),createElementBlock("div",_hoisted_1,[Cn[27]||(Cn[27]=createBaseVNode("h4",null,"shapeOptions",-1)),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_2,[Cn[14]||(Cn[14]=createBaseVNode("div",null,"Shape",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Cn[0]||(Cn[0]=Ln=>Rn.confettiValue.shapeOptions.type=Ln)},Cn[13]||(Cn[13]=[createBaseVNode("option",{value:"ellipse"},"ellipse",-1),createBaseVNode("option",{value:"rectangle"},"rectangle",-1),createBaseVNode("option",{value:"image"},"image",-1)]),512),[[vModelSelect,Rn.confettiValue.shapeOptions.type]])]),createBaseVNode("div",_hoisted_3,[Cn[15]||(Cn[15]=createBaseVNode("div",null,"Width",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[1]||(Cn[1]=Ln=>Rn.confettiValue.shapeOptions.width=Ln)},null,512),[[vModelText,Rn.confettiValue.shapeOptions.width]])]),createBaseVNode("div",_hoisted_4,[Cn[16]||(Cn[16]=createBaseVNode("div",null,"Height",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[2]||(Cn[2]=Ln=>Rn.confettiValue.shapeOptions.height=Ln)},null,512),[[vModelText,Rn.confettiValue.shapeOptions.height]])]),createBaseVNode("div",_hoisted_5,[Cn[17]||(Cn[17]=createBaseVNode("div",null,"Shininess",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[3]||(Cn[3]=Ln=>Rn.confettiValue.shapeOptions.shininess=Ln)},null,512),[[vModelText,Rn.confettiValue.shapeOptions.shininess]])]),createBaseVNode("div",_hoisted_6,[Cn[18]||(Cn[18]=createBaseVNode("div",null,"Shadows",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[4]||(Cn[4]=Ln=>Rn.confettiValue.shapeOptions.shadows=Ln)},null,512),[[vModelText,Rn.confettiValue.shapeOptions.shadows]])])]),Cn[28]||(Cn[28]=createBaseVNode("h4",null,"velocity",-1)),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_7,[Cn[19]||(Cn[19]=createBaseVNode("div",null,"Gravity",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[5]||(Cn[5]=Ln=>Rn.confettiValue.velocity.gravity=Ln)},null,512),[[vModelText,Rn.confettiValue.velocity.gravity]])]),createBaseVNode("div",_hoisted_8,[Cn[20]||(Cn[20]=createBaseVNode("div",null,"Airdrag",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[6]||(Cn[6]=Ln=>Rn.confettiValue.velocity.airdrag=Ln)},null,512),[[vModelText,Rn.confettiValue.velocity.airdrag]])]),createBaseVNode("div",_hoisted_9,[Cn[21]||(Cn[21]=createBaseVNode("div",null,"Max Fallspeed",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[7]||(Cn[7]=Ln=>Rn.confettiValue.velocity.maxFallspeed=Ln)},null,512),[[vModelText,Rn.confettiValue.velocity.maxFallspeed]])])]),Cn[29]||(Cn[29]=createBaseVNode("h4",null,"lifetime",-1)),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_10,[Cn[22]||(Cn[22]=createBaseVNode("div",null,"Enbabled",-1)),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Cn[8]||(Cn[8]=Ln=>Rn.confettiValue.lifetime.enabled=Ln)},null,512),[[vModelCheckbox,Rn.confettiValue.lifetime.enabled]])]),Rn.confettiValue.lifetime.enabled?(openBlock(),createElementBlock("div",_hoisted_11,[Cn[23]||(Cn[23]=createBaseVNode("div",null,"Onset",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[9]||(Cn[9]=Ln=>Rn.confettiValue.lifetime.onset=Ln)},null,512),[[vModelText,Rn.confettiValue.lifetime.onset]])])):createCommentVNode("",!0),Rn.confettiValue.lifetime.enabled?(openBlock(),createElementBlock("div",_hoisted_12,[Cn[24]||(Cn[24]=createBaseVNode("div",null,"Duration",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Cn[10]||(Cn[10]=Ln=>Rn.confettiValue.lifetime.duration=Ln)},null,512),[[vModelText,Rn.confettiValue.lifetime.duration]])])):createCommentVNode("",!0)]),Cn[30]||(Cn[30]=createBaseVNode("h4",null,"Randomness",-1)),createBaseVNode("div",_hoisted_13,[Cn[25]||(Cn[25]=createBaseVNode("div",null,"Random Rotation",-1)),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Cn[11]||(Cn[11]=Ln=>Rn.confettiValue.randomRotation=Ln)},null,512),[[vModelCheckbox,Rn.confettiValue.randomRotation]])]),createBaseVNode("div",_hoisted_14,[Cn[26]||(Cn[26]=createBaseVNode("div",null,"Random Color",-1)),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Cn[12]||(Cn[12]=Ln=>Rn.confettiValue.randomColor=Ln)},null,512),[[vModelCheckbox,Rn.confettiValue.randomColor]])])])}const ConfettiInspect=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-c480780b"]]),_sfc_main={__name:"App",setup(__props){let selectedPreset="colorfull",conf_launcher={};const preset=ref();let canvas={};const displayInpsection=ref(!1),inspectedConfetti=ref();let inspectIndex,customCode={};const el=useTemplateRef("el"),handle=useTemplateRef("handle"),sidebarRef=useTemplateRef("sidebar"),{style}=useDraggable(el,{initialValue:{x:40,y:40},preventDefault:!0,handle});preset.value=_.cloneDeep(presetList[selectedPreset]),document.addEventListener("keydown",function(Pn){(Pn.metaKey||Pn.ctrlKey)&&Pn.code==="KeyS"&&Pn.preventDefault()},!1),onMounted(()=>{preset.value,window.addEventListener("resize",resizeCanvas),canvas=document.getElementById("confetti"),canvas.width=window.innerWidth,canvas.height=window.innerHeight,constructConfettiLauncher(),handleCodeLoad(preset.value.customCode)}),onUpdated(()=>{constructConfettiLauncher(),handleCodeLoad(preset.value.customCode)});function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}function handlePresetOptionChanged(Pn){selectedPreset=Pn,console.log(selectedPreset),preset.value=_.cloneDeep(presetList[selectedPreset])}function constructConfettiLauncher(){const Pn=preset.value.confettis,Cn=preset.value.launcher;conf_launcher=new ConfettiLauncher(Cn,Pn,canvas)}function shootConfetti(){conf_launcher.shoot()}function handleInspectConfetti(Pn){displayInpsection.value=!0,inspectIndex=Pn,inspectedConfetti.value=preset.value.confettis[Pn]}function rerenderConfetti(){sidebarRef.value.rerenderConfetti(inspectIndex)}function handleCodeLoad(event){const cleanCode=event.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,""),code=`(function() { return (confettis, launcher, canvas, ConfettiLauncher, window) => {${cleanCode}}; })()`;try{customCode=eval(code),customCode(preset.value.confettis,preset.value.launcher,canvas,ConfettiLauncher,window)}catch(Pn){customCode={},console.error(Pn)}}return(Pn,Cn)=>(openBlock(),createElementBlock("main",{style:normalizeStyle({"background-color":preset.value.backgroundColor})},[createVNode(Sidebar,{onPresetOptionChanged:handlePresetOptionChanged,onInspectedConfetti:handleInspectConfetti,onLoadCode:handleCodeLoad,onUpdateConfettiLauncher:constructConfettiLauncher,preset:preset.value,ref:"sidebar",style:{"z-index":"2"}},null,8,["preset"]),Cn[3]||(Cn[3]=createBaseVNode("canvas",{id:"confetti"},null,-1)),displayInpsection.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"el",ref:el,class:"confetti-inspect",style:normalizeStyle([unref(style),{position:"fixed"}])},[createBaseVNode("div",{ref_key:"handle",ref:handle,class:"confetti-handle"},[Cn[2]||(Cn[2]=createBaseVNode("img",{src:_imports_0$3,height:"20px"},null,-1)),createBaseVNode("button",{class:"inspect-close-button",onClick:Cn[0]||(Cn[0]=$n=>displayInpsection.value=!1)}," close ")],512),createVNode(ConfettiInspect,{confetti:inspectedConfetti.value,onChangedConfetti:Cn[1]||(Cn[1]=$n=>rerenderConfetti())},null,8,["confetti"])],4)):createCommentVNode("",!0),createBaseVNode("button",{id:"shoot-button",onClick:shootConfetti}," Shoot  ")],4))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-a2c0958b"]]);createApp(App).use(rn).mount("#app")});export default L1();
